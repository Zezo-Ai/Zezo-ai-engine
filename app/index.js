/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={3071:(e,t,n)=>{var r,a,o,i,c,l=n(6488),u=n(5945),s=n(7098),m=n(8100),f=n(6160),d=n(2110),p=n(1630),h=n(4694),v=n(1497),y=n(8168),g=n(9317),E=n(1488),b=n(7818),w=n(146),R=n(8694),O=mwai.prefix,x=mwai.domain,T=mwai.rest_url.replace(/\/+$/,""),S=mwai.api_url.replace(/\/+$/,""),_=mwai.plugin_url.replace(/\/+$/,""),N=mwai.user_data,P="1"===mwai.is_pro,C=P&&"1"===mwai.is_registered,k=mwai.rest_nonce,A=mwai.options,L=mwai.session,I=(mwai.pricing,mwai.themes),M=mwai.chatbots,j=n(8406),G=n(2788);function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var U=G.ZP.div(r||(r=F(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),D=(0,G.ZP)(w.v)(a||(a=F(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-left: 20px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 10px;\n    item-align: center;\n\n    h2 {\n      color: #055082;\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 5px;\n      font-size: 13px;\n      line-height: 1.2;\n    }\n  }\n"]))),B=G.ZP.img(o||(o=F(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]))),z=G.ZP.div(i||(i=F(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),H=G.ZP.ul(c||(c=F(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: black;\n\n  .log-date {\n    color: white;\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: #ccb028;\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: #cc2828;\n    color: white;\n  }\n"])));function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function K(){K=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==q(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Z(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,c,"next",e)}function c(e){Z(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=wp.element,J=V.useState,$=V.useEffect,ee="".concat(T,"/meow-common/v1"),te=function(e){var t=e.request,n=e.title,r=e.max,a=Q(J(!1),2),o=a[0],i=a[1],c=Q(J([]),2),l=c[0],u=c[1],s=l.length>0?l.reduce((function(e,t){return e+t})):0,m=l.length>0?Math.ceil(s/l.length):0,d=!l.length&&o;return $((function(){o&&setTimeout(Y(K().mark((function e(){var n,r,a;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,R.PV)("".concat(ee,"/").concat(t),{method:"POST",nonce:k});case 3:r=(new Date).getTime(),a=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return X(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||W(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]),React.createElement(U,{style:{width:200,textAlign:"center"}},React.createElement(f.O,{h2:!0,style:{color:"white"}},n),React.createElement(j._,{size:200,value:d?r:m,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":m+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":l.length+" requests")),React.createElement(b._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||u([]),i(!o)}},o?"Stop":"Start"))};function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(){re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==ne(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ne(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=wp.element,fe=me.useState,de=me.useEffect;S&&T&&_||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var pe="".concat(T,"/meow-common/v1"),he=React.createElement(U,null,React.createElement(f.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),ve=React.createElement(U,null,React.createElement(f.O,{p:!0},"⭐️ The ",React.createElement("b",null,"Empty Request Time")," helps you analyzing the raw performance of your install by giving you the average time it takes to run an empty request to your server. You can try to disable some plugins then start this again to see how it modifies the results. Keep it absolutely under 2,000 ms! That said, I recommend it to keep it below 500ms."),React.createElement(f.O,{p:!0},"⭐️ ",React.createElement("b",null,"File Operation Time")," creates a temporary size of 10MB every time."),React.createElement(f.O,{p:!0},"⭐️ ",React.createElement("b",null,"SQL Request Time")," counts the number of posts. Those two should be very fast, and almost the same as the ",React.createElement("b",null,"Empty Request Time"),".")),ye=React.createElement(U,null,React.createElement(f.O,{p:!0},"Keep your WordPress install simple and efficient by using only necessary plugins and a reliable hosting service. Avoid trying to self-host unless you have professional experience. Follow best practices and stay up-to-date with the latest recommendations on the Meow Apps website.",React.createElement("ul",null,React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),ge=["".concat(pe,"/all_settings/"),{headers:{"X-WP-Nonce":k}}],Ee=function(){var e=ue(fe(!1),2),t=e[0],n=e[1],r=(0,m.ZP)(ge,R.SG),a=r.data,o=r.mutate,i=r.error,c=null==a?void 0:a.data,l=null==c?void 0:c.meowapps_hide_meowapps,u=null==c?void 0:c.force_sslverify,s=ue(fe(!1),2),O=s[0],x=s[1],T=ue(fe([]),2),S=T[0],_=T[1],N=ue(fe(""),2),P=N[0],C=N[1];de((function(){i&&!t&&(n(!0),console.error("Error from UseSWR",i.message))}),[i]),de((function(){var e=document.getElementById("meow-common-phpinfo");C(e.innerHTML)}),[]);var A=function(){var e=le(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=oe({},a.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),o(oe(oe({},a),{},{data:r}),!1),x(!0),e.next=7,(0,R.PV)("".concat(pe,"/update_option"),{method:"POST",nonce:k,json:{name:n,value:t}});case 7:i=e.sent,x(!1),i.success||alert(i.message),o();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=le(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,R.PV)("".concat(pe,"/error_logs"),{method:"POST",nonce:k});case 3:t=e.sent,n=t&&t.data?t.data:[],_(n.reverse()),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=React.createElement(d.r,{title:"Main Menu"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:O,checked:l,onChange:A}))),M=React.createElement(d.r,{title:"SSL Verify"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:O,checked:u,onChange:A})));return React.createElement(v.s,{showRestError:t},React.createElement(y.B,{title:"The Dashboard"}),React.createElement(g.o,null,React.createElement(g.z,{full:!0},React.createElement(E.c,null,React.createElement(E.P,{title:"Meow Apps"},he,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(D,{title:"AI Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",null,"GPT for WordPress. ChatGPT chatbot, image & content generator, finetune/train models, etc. Ultra customizable, extensible, sleek UI. You will love it!"))),React.createElement(D,{title:"Media Cleaner",className:"primary"},React.createElement(B,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Clean your WordPress! Eliminate unused and broken media files. For a faster, and better website."))),React.createElement(D,{title:"Database Cleaner",className:"primary"},React.createElement(B,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins."))),React.createElement(D,{title:"Media File Renamer",className:"primary"},React.createElement(B,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk."))),React.createElement(D,{title:"Social Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite extensibility, for free!"))),React.createElement(D,{title:"Meow Analytics",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(g.z,{minimal:!0},React.createElement(D,{title:"Photo Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(D,{title:"Meow Gallery",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(D,{title:"Meow Lightbox",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(D,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(B,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Manage, Optimize, Replace your images with Perfect Images."))),React.createElement(D,{title:"Contact Form Block",className:"primary"},React.createElement(B,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block."))),React.createElement(D,{title:"Contact Form Block",className:"primary"},React.createElement(B,{src:"https://ps.w.org/seo-kiss/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-kiss/"},"AI-SEO KISS (Keep It Simple Stupid)")),React.createElement("p",null,"Optimize your content for SEO. Keep everything simple and fast.")))))),React.createElement(E.P,{title:"Performance"},ve,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(te,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(te,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(te,{title:"SQL Request Time",request:"sql_request",max:2800})),ye),React.createElement(E.P,{title:"PHP Info"},React.createElement(z,{dangerouslySetInnerHTML:{__html:P}})),React.createElement(E.P,{title:"PHP Error Logs"},React.createElement(U,null,React.createElement(b._,{style:{marginBottom:10},color:"#ccb027",onClick:L},"Load PHP Error Logs"),React.createElement(H,null,S.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(f.O,{p:!0},"If nothing appears after loading, it might be that your hosting service does not allow you to access the PHP error logs directly from here. Please contact them directly."))),React.createElement(E.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},I,M))))))},be=n(3565),we=n(1492),Re=n(2719),Oe=n(2622),xe=n(3895),Te=n(3506),Se=n(3103),_e=n(8178),Ne=n(1203),Pe=n(477);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function ke(){ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Ce(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Ae(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ae(o,r,a,i,c,"next",e)}function c(e){Ae(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=wp.element,Ge=je.useState,Fe=je.useEffect,Ue="".concat(T,"/meow-licenser/").concat(O,"/v1"),De=function(){var e=Ie(Ge(!1),2),t=e[0],n=e[1],r=Ie(Ge(!1),2),a=r[0],o=r[1],i=Ie(Ge(null),2),c=i[0],l=i[1],u=Ie(Ge(null),2),s=u[0],m=u[1],d=Ie(Ge(""),2),p=d[0],h=d[1],v=C&&(!s||"valid"!==s.license),y=function(){var e=Le(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,R.PV)("".concat(Ue,"/get_license"),{method:"POST",nonce:k});case 5:t=e.sent,m(t.data),t.data.key&&h(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Le(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ue,"/set_license"),{method:"POST",nonce:k,json:{serialKey:null}});case 3:e.sent.success&&(h(""),m(null),l("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Le(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ue,"/set_license"),{method:"POST",nonce:k,json:{serialKey:p,override:!0}});case 3:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Le(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==p){e.next=5;break}return o(!0),m(null),h(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,R.PV)("".concat(Ue,"/set_license"),{method:"POST",nonce:k,json:{serialKey:p}});case 8:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Fe((function(){y()}),[]);var x=v?"Forced License":C?"Enabled":"Disabled",T=v||s&&"valid"===s.license,S="Your license is active. Thanks a lot for your support :)";v&&(S="This license has been force-enabled for you.",s&&s.check_url&&(S=React.createElement(React.Fragment,null,React.createElement("span",null,S),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:s.check_url+"&cache="+642e3*Math.random()},"here"),".")))),T||(s?"no_activations_left"===s.issue?S=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===s.issue?S=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===s.issue?S="This license does not exist.":"disabled"===s.issue?S="This license has been disabled.":"item_name_mismatch"===s.issue?S="This license seems to be for a different plugin... isn't it? :)":"forced"===s.issue?S="ABC":(S=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:s})):S="Unknown error :(");var _=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),N=React.createElement(w.v,{title:"Pro Version (".concat(x,")"),busy:t,className:"primary"},!v&&!(s&&s.key===p)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(we.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:p,onChange:function(e){return h(e)},placeholder:"Type your license key..."}),React.createElement(f.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),s&&!T&&React.createElement(Te.S,{variant:"danger"},S),(v||s)&&T&&React.createElement(Te.S,{variant:"success"},S),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},s&&!T&&React.createElement(b._,{className:"secondary",disabled:t||!p,onClick:O},"Retry to validate"),s&&s.key===p&&React.createElement(b._,{className:"secondary",disabled:t||!p,onClick:g},"Remove License"),React.createElement(b._,{disabled:t||!p||s&&s.key===p,onClick:O},"Validate License"),a&&!T&&React.createElement(b._,{disabled:t||!p||s&&s.key===p,onClick:E,className:"danger"},"Force License")),React.createElement(Ne.L,{isOpen:"licenseAdded"===c,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}),React.createElement(Ne.L,{isOpen:"licenseRemoved"===c,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}));return P?N:_};const{__:Be}=wp.i18n,ze={};ze.COMMON={MODULES:Be("Modules","ai-engine"),SETTINGS:Be("Settings","ai-engine"),CHATBOT:Be("Chatbot","ai-engine"),CHATBOTS:Be("Chatbots","ai-engine"),CHATBOT_HELP:Be("Highly customizable chatbot.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STYLE:Be("Style","ai-engine"),ENABLE:Be("Enable","ai-engine"),NAME:Be("Name","ai-engine"),SUBMIT:Be("Submit","ai-engine"),MODEL:Be("Model","ai-engine"),TEMPERATURE:Be("Temperature","ai-engine"),MAX_TOKENS:Be("Max Tokens","ai-engine"),STOP_SEQUENCE:Be("Stop Sequence","ai-engine"),MODE:Be("Mode","ai-engine"),CONTEXT:Be("Context","ai-engine"),IMAGES_NUMBER:Be("Number of Images","ai-engine"),AI_NAME:Be("AI Name","ai-engine"),USER_NAME:Be("User Name","ai-engine"),PLACEHOLDER:Be("Placeholder","ai-engine"),START_SENTENCE:Be("Start Sentence","ai-engine"),SEND:Be("Send","ai-engine"),CLEAR:Be("Clear","ai-engine"),SYSTEM_NAME:Be("System Name","ai-engine"),ID:Be("ID","ai-engine"),POPUP:Be("Popup","ai-engine"),POSITION:Be("Position","ai-engine"),ICON_TEXT:Be("Icon Text","ai-engine"),FULL_SCREEN:Be("Full Screen","ai-engine"),CASUALLY_FINE_TUNED:Be("Casually Fine-Tuned","ai-engine"),CONTENT_AWARE:Be("Content Aware","ai-engine"),SPACING:Be("Spacing","ai-engine"),BORDER_RADIUS:Be("Border Radius","ai-engine"),FONT_SIZE:Be("Font Size","ai-engine"),FONT_COLOR:Be("Font Color","ai-engine"),BACK_PRIMARY_COLOR:Be("Back Primary Color","ai-engine"),BACK_SECONDARY_COLOR:Be("Back Secondary Color","ai-engine"),HEADER_BUTTONS_COLOR:Be("Header Buttons Color","ai-engine"),POPUP_ICON:Be("Popup Icon","ai-engine"),CUSTOM_ICON_URL:Be("Custom Icon URL","ai-engine"),FEATURES:Be("Features","ai-engine"),TIMEFRAME:Be("Timeframe","ai-engine"),ABSOLUTE:Be("Absolute","ai-engine"),NONE:Be("None","ai-engine"),EDITORS_ADMINS:Be("Editors & Admins","ai-engine"),ADMINS_ONLY:Be("Admins Only","ai-engine"),CREDITS:Be("Credits","ai-engine"),TYPE:Be("Type","ai-engine"),USERS:Be("Users","ai-engine"),GUESTS:Be("Guests","ai-engine"),OPENAI:Be("Open AI","ai-engine"),LICENSE_TAB:Be("License","ai-engine"),FINETUNES:Be("Finetunes","ai-engine"),MODELS:Be("Models","ai-engine"),DATASETS:Be("Datasets","ai-engine"),ASSISTANTS:Be("Assistants","ai-engine"),POSTS_SUGGESTIONS:Be("Suggestions","ai-engine"),POSTS_SUGGESTIONS_HELP:Be("Generate suggestions based on the content.","ai-engine"),GENERATORS:Be("Generators","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR:Be("WooCommerce Product Generator","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR_HELP:Be("Write all the WooCommerce fields for a given product.","ai-engine"),CONTENT_GENERATOR:Be("Content Generator","ai-engine"),CONTENT_GENERATOR_HELP:Be("Generate articles. Support templates.","ai-engine"),IMAGES_GENERATOR:Be("Images Generator","ai-engine"),IMAGES_GENERATOR_HELP:Be("Generate images. Support templates.","ai-engine"),PLAYGROUND:Be("Playground","ai-engine"),PLAYGROUND_HELP:Be("Play with AI or let it perform various tasks for you. Support templates.","ai-engine"),FORMS:Be("Forms","ai-engine"),FORMS_HELP:Be("Build AI forms. Based on fields, users will be given answers or suggestions.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STATISTICS_HELP:Be("Track AI interactions, check statistics, set limits, and more!","ai-engine"),DEBUG_MODE:Be("Debug Mode","ai-engine"),DEBUG_MODE_HELP:Be("Debugging information will be displayed in the console.","ai-engine"),API_KEY:Be("API Key","ai-engine"),API_KEY_HELP:Be('You can get your API Keys in your <a href="https://beta.openai.com/account/api-keys" target="_blank">OpenAI Account</a>.',"ai-engine"),USAGE_COSTS_HELP:Be('For the exact amounts, please check your <a href="https://beta.openai.com/account/usage" target="_blank">OpenAI account</a>.',"ai-engine"),USAGE_COSTS_PRO_HELP:Be('If you would like to have better control on the amounts, add conditions or set limits to the usage of the AI, consider <a href="https://meowapps.com/ai-engine/" target="_blank">AI Engine Pro</a>.',"ai-engine"),LANGUAGE:Be("Language","ai-engine"),HIDE:Be("Hide","ai-engine"),SHOW:Be("Show","ai-engine"),CONTENT:Be("Content","ai-engine"),IMAGES:Be("Images","ai-engine"),EXCERPT:Be("Excerpt","ai-engine"),GENERATE:Be("Generate","ai-engine"),MODEL_PARAMS:Be("Model Params","ai-engine"),PROMPT:Be("Prompt","ai-engine"),PROMPTS:Be("Prompts","ai-engine"),LABEL:Be("Label","ai-engine"),SYSTEM:Be("System","ai-engine"),SHORTCODE:Be("Shortcode","ai-engine"),SHORTCODES:Be("Shortcodes","ai-engine"),RESOLVE:Be("Resolve","ai-engine"),SENTENCES_BUFFER:Be("Sentences Buffer","ai-engine"),INPUT_MAXLENGTH:Be("Input Max Length","ai-engine"),COMPLIANCE_TEXT:Be("Compliance Text","ai-engine"),MODERATION:Be("Moderation","ai-engine"),MODERATION_HELP:Be("Moderation features with AI.","ai-engine"),FORMATTING:Be("Formatting","ai-engine"),FORMATTING_HELP:Be("Convert the reply from the AI into HTML. <b>Markdown is supported, so it is highly recommended to add 'Use Markdown.' in your context.</b>","ai-engine"),LOGS:Be("Logs","ai-engine"),CODE:Be("Code","ai-engine"),EMBEDDINGS:Be("Embeddings","ai-engine"),EMBEDDINGS_HELP:Be("Create searchable data that can be reused to feed the chatbot and other AI or UI elements.","ai-engine"),EMBEDDINGS_APIKEY_HELP:Be('You can get your API Keys in your <a href="https://app.pinecone.io/organizations/keys" target="_blank">Pinecone Account</a>.',"ai-engine"),SERVER:Be("Server","ai-engine"),SERVER_HELP:Be("The region which was set for your account.","ai-engine"),COST:Be("Cost","ai-engine"),USAGE_COSTS:Be("Usage Costs","ai-engine"),AUDIO_TRANSCRIPTION:Be("Audio-to-Text","ai-engine"),AUDIO_TRANSCRIPTION_HELP:Be("Transcribe audio files into texts.","ai-engine"),AUDIO_TAB:Be("Audio","ai-engine"),EMBEDDINGS_INDEX:Be("Embeddings Index","ai-engine"),NAMESPACE:Be("Namespace","ai-engine"),NAMESPACE_HELP:Be("The namespace is used to separate the data from other data. This allows you to use the same index on more than one website.","ai-engine"),ERROR:Be("Error","ai-engine"),RETRY:Be("Retry","ai-engine"),AUTO_RETRY:Be("Auto Retry","ai-engine"),SKIP:Be("Skip","ai-engine"),AUTO_SKIP:Be("Auto Skip","ai-engine"),STOP:Be("Stop","ai-engine"),AUTO_RETRY_DESCRIPTION:Be("Auto Retry retries actions up to 10 times with increasing delay to avoid timeouts.","ai-engine"),WIDTH:Be("Width","ai-engine"),MAX_HEIGHT:Be("Max Height","ai-engine"),AI_SETTINGS:Be("AI Settings","ai-engine"),TECHNICAL_SETTINGS:Be("Technical Settings","ai-engine"),MAIN_SETTINGS:Be("Main Settings","ai-engine"),VISUAL_SETTINGS:Be("Visual Settings","ai-engine"),DASHBOARD:Be("Dashboard","ai-engine"),ADVANCED:Be("Advanced","ai-engine"),DYNAMIC_MAX_TOKENS:Be("Dynamic Max Tokens","ai-engine"),DISCUSSIONS:Be("Discussions","ai-engine"),ROWS:Be("Rows","ai-engine"),POST_TYPE:Be("Post Type","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_IMAGES:Be("Generate Images","ai-engine"),ADMIN_BAR:Be("Admin Bar","ai-engine"),REFRESH:Be("Refresh","ai-engine"),DELETE:Be("Delete","ai-engine"),DELETE_ALL:Be("Delete All","ai-engine"),DELETE_SELECTED:Be("Delete Selected","ai-engine"),OPENAI_SERVICE:Be("Service","ai-engine"),OPENAI_AZURE_ENDPOINT:Be("Endpoint","ai-engine"),OPENAI_AZURE_API_KEY:Be("API Key","ai-engine"),OPENAI_AZURE_DEPLOYMENT:Be("Deploy Name","ai-engine"),THEME:Be("Theme","ai-engine"),THEMES:Be("Themes","ai-engine"),BANNED_WORDS:Be("Banned Words","ai-engine"),BANNED_IPS:Be("Banned IPs","ai-engine"),SECURITY:Be("Security","ai-engine"),POST_TYPES:Be("Post Types","ai-engine"),COPY_BUTTON:Be("Copy Button","ai-engine"),POPUP_SETTINGS:Be("Popup Settings","ai-engine"),AI_AVATAR:Be("Avatar","ai-engine")},ze.FORMS={PROMPT_INFO:Be('The template of your prompt. To re-use the data entered by the user, use the name of that field between curly braces. Example: Recommend me {MUSIC_TYPE} artists. You can also use an ID as an input, like this: ${#myfield}. Finally, if you wish the output to be formatted, add: Use Markdown format."',"ai-engine"),OUTPUT:Be("Output","ai-engine"),OUTPUT_ELEMENT:Be("Output Element","ai-engine"),OUTPUT_ELEMENT_INFO:Be("The result will be written to this element. If you wish to simply display the result in an Output Block, use its ID. For instance, if its ID is mwai-666, use '#mwai-666'.","ai-engine")},ze.HELP={TEMPERATURE:Be("Between 0 and 1. Higher values means the model will take more risks.","ai-engine"),MAX_TOKENS:Be("The maximum number of tokens to generate. The model will stop generating once it hits this limit.","ai-engine"),STOP_SEQUENCE:Be("The sequence of tokens that will cause the model to stop generating text. You absolutely need this with fine-tuned models.","ai-engine"),COST:Be("Keeps track of the current costs.","ai-engine"),RESOLVE_SHORTCODE:Be("Will resolve the shortcode in your content when needed (Content-Aware will use this, for instance).","ai-engine"),DYNAMIC_MAX_TOKENS:Be("Max Tokens will be dynamically decreased based on the length of the prompt.","ai-engine"),FINETUNES:Be("Train your own AI models.","ai-engine"),DISCUSSIONS:Be("Keep the conversations and enable browsing them via the Conversations tab.","ai-engine"),OPENAI_SERVICE:Be("Open AI can be used through Open AI directly, but also through Azure.","ai-engine"),OPENAI_AZURE_DEPLOYMENT:Be("The name of the deployment you created for the model. It will be used by default.","ai-engine"),BANNED_WORDS:Be("Reject queries containing these words; separate with commas.","ai-engine"),BANNED_IPS:Be("Block access from specified IP addresses or ranges using CIDR notation; separate with commas.","ai-engine"),POST_TYPES:Be("Enable for these post types; separate with commas.","ai-engine")},ze.SETTINGS={OPENAI_SETUP:Be('To use the features of AI Engine, you need an OpenAI account and an API Key. Visit the <a href="https://beta.openai.com/account/api-keys" target="_blank">OpenAI</a> website to create an account, then insert your OpenAI API Key in the <b>Settings</b> tab.',"ai-engine"),PINECONE_SETUP:Be('You choose to use Embeddings. To use them, you need to a Pinecone account. Visit the <a href="https://app.pinecone.io" target="_blank">Pinecone</a> website to create an account, then insert your Pinecone API Key in the <b>Settings</b> tab.',"ai-engine"),INTRO:Be('Boost your WordPress with AI! Don\'t forget to visit the <a href="https://meowapps.com/ai-engine/" target="_blank">AI Engine website</a> for more information. Have fun! 🎵',"ai-engine"),MODULES_INTRO:Be("To avoid cluttering the UI and your WP, only enable the features you need.","ai-engine"),ALERT_INJECT_BUT_NO_POPUP:Be("You choose to inject the chatbot in your website. You probably also want to use the chatbot in a Popup.","ai-engine"),ALERT_FINETUNE_BUT_NO_CASUALLY:Be("You choose a fine-tuned model. However, you didn't check the Casually Fine Tuned option. Make sure that's what you want.","ai-engine"),ALERT_CASUALLY_BUT_NO_FINETUNE:Be("Normally, you should not check the Casually Fine Tuned option with a non-finetuned model. Make sure that's what you want.","ai-engine"),ALERT_CONTENTAWARE_BUT_NO_CONTENT:Be('Content Aware requires your Context to use the {CONTENT} placeholder. It will be replaced by the content of page the chatbot is on. More info <a href="https://meowapps.com/ai-engine/tutorial/#contextualization" target="_blank">here</a>.',"ai-engine"),SET_AS_DEFAULT_PARAMETERS:Be("Set as Default Parameters","ai-engine"),SET_AS_DEFAULT_PARAMETERS_HELP:Be("Set the parameters above as the default parameters for the chatbot. You can then use the shortcode [mwai_chat] anywhere on your website.","ai-engine"),INJECT_DEFAULT_CHATBOT:Be("Inject Default Chatbot in Entire Website","ai-engine"),INJECT_DEFAULT_CHATBOT_HELP:Be("Inject the chatbot [mwai_chat] in the entire website.","ai-engine"),CHATGPT_STYLE_INTRO:Be('Keep in mind that you can also style the chatbot (or a specific chatbot, if you use many) by injecting CSS. Have a look <a target="_blank" href="https://meowapps.com/ai-engine/tutorial/#apply-custom-style-to-the-chatbot">here</a>. More information in the <a target="_blank" href="https://meowapps.com/ai-engine/faq">FAQ</a>.',"ai-engine"),TYPEWRITER_EFFECT:Be("Typewriter Effect","ai-engine"),TYPEWRITER_EFFECT_HELP:Be("The reply from AI will be typewrited. I actually do not recommend this feature.","ai-engine"),CHATBOT_MODERATION_HELP:Be("If the conversation seems offensive, the chatbot will reject it.","ai-engine"),CUSTOM_URL:Be("Custom URL","ai-engine")},ze.CHATBOT={INTRO:Be("If you only need one chatbot, set your parameters in the Chatbot Builder, and click on <b>Set as Default Parameters</b>. You can then use the shortcode <b>[mwai_chat]</b> anywhere on your website. You can also add the chatbot everywhere automatically by using <b>Inject Default Chatbot</b>.","ai-engine"),INTRO_2:Be('You can have multiple chatbots on your website (or same page), each with different parameters. Setting an ID will memorize the conversation in the browser, Content Aware will make the content of your page available to the context (<a href="https://meowapps.com/ai-engine/tutorial/#content-aware-bot" target="_blank">read this</a>), and removing the AI Name and User Name will switch to avatars (similar to ChatGPT). Enjoy! 😎',"ai-engine"),CHATBOT_BUILDER:Be("Chatbot Builder","ai-engine"),RESET_PARAMS:Be("Reset Parameters","ai-engine")},ze.STATISTICS={ABSOLUTE_HELP:Be("Using Absolute, Day represents <i>today</i>. Otherwise, the <i>past 24 hours</i>. Same logic applies to the other timeframes.","ai-engine"),NO_CREDITS_MESSAGE:Be("Message for No Credits","ai-engine"),FULL_ACCESS_USERS:Be("Full-Access Users","ai-engine"),ENABLE_LIMITS:Be("Enable Limits","ai-engine")},ze.CONTENT_GENERATOR={INTRO:Be("The Content Generator is a powerful tool that can generate content for you. It can be used to generate articles, emails, or even code. It can also be used to generate content for your chatbot. <b>Let me know if there are any new features you would like to see!</b> Have fun 🥳","ai-engine"),TITLE_MISSING:Be("Title is missing!","ai-engine"),SECTIONS_MISSING:Be("Sections are missing!","ai-engine"),SINGLE_GENERATE:Be("Single Generate","ai-engine"),BULK_GENERATE:Be("Bulk Generate","ai-engine"),CONTENT_PARAMS:Be("Content Params","ai-engine"),POST_PARAMS:Be("Post Params","ai-engine"),CONTENT_PARAMS_INTRO:Be("Input fields are displayed for certain placeholders used in prompts, such as {LANGUAGE} or {WRITING_TONE}","ai-engine"),CUSTOM_LANGUAGE:Be("Custom Language","ai-engine"),WRITING_STYLE:Be("Writing Style","ai-engine"),WRITING_TONE:Be("Writing Tone","ai-engine"),CUSTOM_LANGUAGE_HELP:Be('All the languages are <i>somehow</i> supported by AI. <a href="https://meowapps.com/ai-engine/faq/#languages" target="_blank">Learn more</a>.',"ai-engine"),MODEL_HELP:Be("The gpt-3.5-turbo and davinci models are currently the only acceptable ones for writing texts.","ai-engine"),PROMPTS_INTRO:Be("Prompts represent the exact request sent to the AI. The variables between curly braces will be replaced by the content of the corresponding field. Prompts are saved in your templates.","ai-engine"),PROMPT_TITLE:Be("Prompt for <b>Title</b>","ai-engine"),PROMPT_SECTIONS:Be("Prompt for <b>Sections</b>","ai-engine"),PROMPT_CONTENT:Be("Prompt for <b>Content</b>","ai-engine"),PROMPT_EXCERPT:Be("Prompt for <b>Excerpt</b>","ai-engine"),POST_CREATED:Be("Post Created!","ai-engine"),POST_CREATED_AS_DRAFT:Be("Post Created as Draft!","ai-engine"),CONTENT_HELP:Be('You can modify the content before using "Create Post". Markdown is supported, and will be converted to HTML when the post is created.',"ai-engine"),SECTIONS_HELP:Be('Add, rewrite, remove, or reorganize those sections as you wish before (re)clicking on "Generate Content". Markdown format is recommended.',"ai-engine"),GENERATE_EXCERPT:Be("Generate Excerpt","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_SECTIONS:Be("Generate Sections","ai-engine"),PARAGRAPHS_PER_SECTION:Be("# of Paragraphs per Section","ai-engine"),SECTIONS:Be("Sections","ai-engine"),TOPICS_HELP:Be("Write or paste your topics below. Each line will be used as a topic. The same <b>Params</b> and <b>Prompts</b> will be used as with the <b>Single Generate</b>, so make sure you get satisfying results with it first. This <b>takes time</b>, so relax and enjoy some coffee ☕️ and tea 🍵 :)","ai-engine"),GENERATED_POSTS:Be("Generated Posts","ai-engine"),GENERATE_ALL:Be("Generate All","ai-engine"),EDIT_POST:Be("Edit Post","ai-engine"),CREATE_POST:Be("Create Post","ai-engine"),TITLE_TOO_SHORT:Be("The title is too short. It should be at least 3 words.","ai-engine"),TITLE_TOO_SHORT_2:Be("The title is too short.  It should be at least 40 characters.","ai-engine"),TITLE_TOO_LONG:Be("The title is too long. It should be less than 8 words.","ai-engine"),TITLE_TOO_LONG_2:Be("The title is too long. It should be less than 70 characters.","ai-engine")},ze.TEMPLATES={TEMPLATES:Be("Templates","ai-engine"),DELETE_CONFIRM:Be("Are you sure you want to delete this template?","ai-engine"),NEW_TEMPLATE_NAME:Be("New Template","ai-engine"),EDIT:Be("EDIT","ai-engine"),JOIN_US:Be('Interested in sharing and/or looking for more templates? Join us on the <a target="_blank" href="https://wordpress.org/support/topic/common-use-cases-for-templates">Templates Threads</a> in the forums.',"ai-engine")},ze.PLAYGROUND={INTRO:Be("Welcome to the AI Playground! Here, you can play with different AI models and ask the UI to perform various tasks for you. You can ask it to write, rewrite, or translate an article, categorize words or elements into groups, write an email, etc. <b>Let me know if there are any new features you would like to see!</b> Have fun 🥳","ai-engine"),PROMPT:Be("Query / Prompt","ai-engine"),ANSWER:Be("Answer","ai-engine")},ze.ALERTS={FINETUNING_STARTED:Be("Fine-tuning started! Check its progress in the <b>Models</b> section. Depending on your dataset size, it may take a while (from a few minutes to days).","ai-engine"),RESET_BUILDER:Be("This will delete all the rows in the builder. Are you sure?","ai-engine"),DELETE_FINETUNE:Be("You are going to delete this fine-tune. Are you sure?\n\nPlease note that it will take a while before it is actually deleted. This might be a temporary issue of OpenAI.","ai-engine"),FINETUNE_ALREADY_DELETED:Be("This fine-tune was already deleted. It will be removed from the list.","ai-engine"),CHECK_CONSOLE:Be("Error! Check your console for more details.","ai-engine"),DATASET_UPLOADED:Be("Uploaded successfully! You can now train a model based on this dataset.","ai-engine"),ONLY_SUPPORTS_FILES:Be("This only supports JSON, JSONL, and CSV files.","ai-engine"),EMPTY_LINES:Be("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'prompt' and 'completion'. For debugging, an empty line was logged to the console.","ai-engine"),ARE_YOU_SURE:Be("Are you sure?","ai-engine")},ze.FINETUNING={MODELS_INTRO:Be("The AI models you have fine-tuned. To create more, visit <b>Datasets</b>.","ai-engine"),DATASETS_INTRO:Be("The datasets you have uploaded to OpenAI. To create a new dataset, switch from <b>Model Finetuner</b> to <b>Dataset Builder</b>. To train a new model, click on the <i>magic wand</i>.","ai-engine"),MODEL_FINETUNE:Be("Model Finetune","ai-engine"),DATASET_BUILDER:Be("Dataset Builder","ai-engine"),ENTRIES_EDITOR:Be("Entries Editor","ai-engine"),ENTRIES_GENERATOR:Be("Entries Generator","ai-engine"),HUGE_DATASET_WARNING:Be("Caution: The data is too large to be saved in your browser's local storage.","ai-engine"),NO_FINETUNES_YET:Be("No fine-tunes found. Refresh the list, or create a new one (via a dataset).","ai-engine"),CLEAN_MODELS_LIST:Be("Clean Models List","ai-engine"),DELETED_FINETUNE_ISSUE:Be("For some reason, OpenAI still return the models even after you deleted them. Don't worry, AI Engine will do the cleanup for you! You can force the cleanup by using this button. It takes a bit of time depending on the total of models you have.","ai-engine")},ze.EMBEDDINGS={EDIT:Be("EDIT","ai-engine"),AI_SEARCH:Be("AI SEARCH","ai-engine")},ze.ERROR={UPDATING_OPTIONS:Be("An error occured while updating the options."),CHECK_YOUR_CONSOLE:Be('For more information, check <a target="_blank" href="https://meowapps.com/tutorial-network-activity-dev-tools/">your console</a>. You might also want to check your <a target="_blank" href="https://meowapps.com/tutorial-php-error-logs/">PHP Error Logs</a>.',"ai-engine")};const He=ze;function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ke(){Ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==qe(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Ze(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ze(o,r,a,i,c,"next",e)}function c(e){Ze(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Qe(e){return function(e){if(Array.isArray(e))return Ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je=wp.element,$e=Je.useMemo,et=Je.useState,tt=Je.useEffect,nt={title:"",content:"",refId:null,type:"manual",behavior:"context"},rt={name:"",podType:"p2"},at=function(e){var t=e.options,n=t.openai_apikey,r=t.pinecone,a=n&&n.length>0,o=!(null!=t&&t.module_embeddings)||r.apikey&&r.apikey.length>0;return React.createElement(React.Fragment,null,!a&&React.createElement(Te.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.OPENAI_SETUP)),!o&&React.createElement(Te.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.PINECONE_SETUP)))},ot=function(e){var t=e.disabled,n=e.options,r=e.language,a=e.customLanguage,o=We(et(null!=r?r:"en"),2),i=o[0],c=o[1],l=We(et(!1),2),u=l[0],s=l[1],m=We(et(""),2),f=m[0],d=m[1],p=(null==n?void 0:n.languages)||[],h=$e((function(){return Object.keys(p).map((function(e){return{value:e,label:p[e]}}))}),[p]);tt((function(){a?(s(!0),d(a)):(s(!1),d(""),c(null!=r?r:"en"))}),[a]),tt((function(){c(r)}),[r]),tt((function(){var e=localStorage.getItem("mwai_preferred_language");if(e&&h.find((function(t){return t.value===e})))c(e);else{var t=(document.querySelector("html").lang||navigator.language||navigator.userLanguage).substr(0,2);h.find((function(e){return e.value===t}))&&c(t)}}),[]);var v=$e((function(){if(u)return f;var e=h.find((function(e){return e.value===i}));return e?e.label:(console.warn("A system language or a custom language should be set."),"English")}),[i,f]),y=function(e,t){"custom"!==e?(c(e,t),localStorage.setItem("mwai_preferred_language",e)):s(!0)};return{jsxLanguageSelector:$e((function(){return React.createElement(React.Fragment,null,u&&React.createElement(we.A,{name:"customLanguage",disabled:t,onReset:function(){s(!1)},description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:f,onChange:d}),!u&&React.createElement(be.N,{scrolldown:!0,name:"language",disabled:t,description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:i,onChange:y},h.map((function(e){return React.createElement(be.Z,{key:e.value,value:e.value,label:e.label})})),React.createElement(be.Z,{key:"custom",value:"custom",label:"Other"})))}),[i,v,h,u]),currentLanguage:u?"custom":i,currentHumanLanguage:v,isCustom:u}},it=function(e){var t=We(et(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gpt-3.5-turbo"),2),n=t[0],r=t[1],a=(null==e?void 0:e.openai_finetunes_deleted)||[],o=$e((function(){var t,n=e.openai_models,r="string"==typeof(null==e?void 0:e.extra_models)?null==e?void 0:e.extra_models:"",a=null!=e&&e.openai_finetunes&&(null==e?void 0:e.openai_finetunes.length)>0?null==e?void 0:e.openai_finetunes.filter((function(e){return e.model})):[];return a.length&&(n=[].concat(Qe(n),Qe(a.map((function(e){var t=e.model.split(":")[0];return{model:e.model,name:"fn: ".concat(e.suffix,"/").concat(t),suffix:e.suffix,mode:"completion",family:t,description:"finetuned",finetuned:!0,tags:["finetune"]}}))))),(r=null===(t=r)||void 0===t?void 0:t.split(",").filter((function(e){return e}))).length&&(n=[].concat(Qe(n),Qe(r.map((function(e){return{id:e,model:e,description:"Extra"}}))))),n}),[e]),i=$e((function(){return o.filter((function(e){return!a.includes(e.model)}))}),[o,a]),c=$e((function(){return i.filter((function(e){return"completion"===(null==e?void 0:e.mode)||"chat"===(null==e?void 0:e.mode)}))}),[i]),l=function(e){return"gpt-3.5-turbo-0301"===e||"gpt-35-turbo"===e?e="gpt-3.5-turbo":"gpt-4-0314"===e&&(e="gpt-4"),o.find((function(t){return t.model===e}))},u=function(e){var t=l(e);return o.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("core")})).find((function(e){return e.family===t.family}))||null},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1024x1024",n=u(e);if("image"===(null==n?void 0:n.type)&&null!=n&&n.options){var r=n.options.find((function(e){return e.option===t}));return(null==r?void 0:r.price)||null}return(null==n?void 0:n.price)||null};return{allModels:o,model:n,models:i,completionModels:c,setModel:r,isFineTunedModel:function(e){var t=l(e);return(null==t?void 0:t.finetuned)||!1},getModelName:function(e){var t=l(e);return(null==t?void 0:t.name)||(null==t?void 0:t.model)||e},getFamilyName:function(e){var t=l(e);return(null==t?void 0:t.family)||null},getPrice:s,getModel:l,calculatePrice:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1024x1024",r=u(e),a=s(e,n);return a?a*t*r.unit:0}}},ct=function(){var e=Ye(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(null==t||null===(n=t.filters)||void 0===n?void 0:n.aiSearch)){e.next=2;break}return e.abrupt("return",[]);case 2:return t.offset=(t.page-1)*t.limit,e.next=5,(0,R.PV)("".concat(S,"/vectors"),{nonce:k,method:"POST",json:t});case 5:return r=e.sent,e.abrupt("return",r?{total:r.total,vectors:r.vectors}:{total:0,vectors:[]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Ye(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(S,"/vectors"),{nonce:k,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,vectors:n.vectors}:{total:0,vectors:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Ye(Ke().mark((function e(t){var n,r,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/count_posts?postType=").concat(t),{nonce:k});case 2:return a=e.sent,e.abrupt("return",null!=a&&null!==(n=a.count)&&void 0!==n&&n.publish?parseInt(null==a||null===(r=a.count)||void 0===r?void 0:r.publish):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Ye(Ke().mark((function e(t){var n,r,a,o=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,(0,R.PV)("".concat(S,"/post_content?postType=").concat(t,"&offset=").concat(n,"&postId=").concat(r),{nonce:k});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mt(e){for(var t=0,n=0,r=0;r<e.length;r++)e[r].charCodeAt(0)<128?t++:n++;return t/3.5+2.5*n}function ft(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048,n=e,r=mt(n);r>t;)r=mt(n=n.slice(0,-32));return n}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=wp.element,gt=(yt.useState,yt.useEffect,yt.useMemo),Et=React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"m391 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m331 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m271 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m211 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m151 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m91 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m406 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m346 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m286 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("g",{fill:"#5f55af"},React.createElement("path",{d:"m226 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m166 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m106 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 121h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 181h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 241h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 301h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 361h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 421h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"})),React.createElement("path",{d:"m431 91v30h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"#39326c"}),React.createElement("path",{d:"m431 181h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 241h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 301h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 361h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 421h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"})),React.createElement("g",null,React.createElement("path",{d:"m446 51h-380c-8.284 0-15 6.716-15 15v380c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15v-380c0-8.284-6.716-15-15-15z",fill:"#aed0ff"}),React.createElement("g",null,React.createElement("path",{d:"m461 446v-380c0-8.284-6.716-15-15-15h-190v410h190c8.284 0 15-6.716 15-15z",fill:"#7c84e8"})),React.createElement("path",{d:"m386 111h-260c-8.284 0-15 6.716-15 15v260c0 8.284 6.716 15 15 15h260c8.284 0 15-6.716 15-15v-260c0-8.284-6.716-15-15-15z",fill:"#5f55af"}),React.createElement("g",null,React.createElement("path",{d:"m401 386v-260c0-8.284-6.716-15-15-15h-130v290h130c8.284 0 15-6.716 15-15z",fill:"#39326c"}))),React.createElement("g",null,React.createElement("path",{d:"m247.626 192.389c-.052-.138-.106-.274-.162-.411-2.744-6.671-9.175-10.978-16.387-10.978-.006 0-.012 0-.018 0-7.219.007-13.65 4.329-16.383 11.01-.046.113-.091.227-.134.341l-45.06 118.31c-2.949 7.742.937 16.408 8.679 19.356 7.742 2.95 16.408-.937 19.356-8.679l7.543-19.804h51.691l7.458 19.762c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33zm-31.14 79.146 14.538-38.171 14.406 38.171z",fill:"#f9f9f9"}),React.createElement("g",{fill:"#e2dff4"},React.createElement("path",{d:"m264.209 321.296c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33l-36.276-96.126v86.956h.751z"}),React.createElement("path",{d:"m328.5 181c-8.284 0-15 6.716-15 15v120c0 8.284 6.716 15 15 15s15-6.716 15-15v-120c0-8.284-6.716-15-15-15z"})))),bt=React.createElement("g",null,React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06-17.32-17.32-16.37-45.67 2.06-61.8l156.08-139.26s13.46-2.54 29.46 13.46 13.46 29.46 13.46 29.46z",fill:"#0052be"}),React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06l187.6-187.6c16 16 13.46 29.46 13.46 29.46z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46c-14.997-14.997-27.922-27.922-42.92-42.92l101.46-90.54z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46-21.46-21.46 96-96z",fill:"#00337a"}),React.createElement("path",{d:"m400 279.001h-64.4l-42.47 57.87c-7.88 10.735-24.824 6.606-26.91-6.52l-11.56-73.01-73.01-11.56c-13.139-2.087-17.244-19.042-6.52-26.91l57.87-42.47v-64.4c0-12.176 13.797-19.289 23.72-12.21l50.15 35.83 70.92-19.9c11.25-3.168 21.656 7.245 18.49 18.49l-19.9 70.92 35.83 50.15c7.071 9.913-.02 23.72-12.21 23.72z",fill:"#ffdd54"}),React.createElement("path",{d:"m412.21 255.281c7.071 9.913-.02 23.72-12.21 23.72h-64.4l-42.47 57.87c-7.875 10.728-24.823 6.616-26.91-6.52l-11.56-73.01 137.79-137.79c3.83 3.84 5.3 9.44 3.83 14.66l-19.9 70.92z",fill:"#ffb454"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9h-9c-8.28 0-15-6.72-15-15s6.72-15 15-15h9v-9c0-8.28 6.72-15 15-15s15 6.72 15 15v9h9c8.28 0 15 6.719 15 15z",fill:"#bee75e"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9l30-30h9c8.28 0 15 6.719 15 15z",fill:"#00cb75"}),React.createElement("path",{d:"m336 41.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#f6f9f9"}),React.createElement("path",{d:"m441 224.001c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9z",fill:"#e2dff4"}),React.createElement("path",{d:"m497 329.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff4a4a"}),React.createElement("path",{d:"m192 24.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff8659"}),React.createElement("path",{d:"m159.442 122.977-56-32c-7.191-4.109-16.355-1.611-20.466 5.581-4.11 7.193-1.611 16.355 5.581 20.466l56 32c7.16 4.093 16.337 1.644 20.466-5.581 4.111-7.193 1.612-16.355-5.581-20.466z",fill:"#f6f9f9"}),React.createElement("path",{d:"m118.14 169.117-64 8c-8.221 1.027-14.052 8.524-13.023 16.744 1.027 8.218 8.523 14.054 16.744 13.023l64-8c8.221-1.027 14.052-8.524 13.023-16.744-1.028-8.22-8.527-14.062-16.744-13.023z",fill:"#acceff"}),React.createElement("path",{d:"m389.023 352.558c-4.111-7.193-13.274-9.693-20.466-5.581-7.192 4.11-9.691 13.272-5.581 20.466l32 56c2.769 4.845 7.83 7.561 13.037 7.561 11.319 0 18.784-12.341 13.01-22.445z",fill:"#e2dff4"}),React.createElement("path",{d:"m329.86 377.117c-8.222-1.031-15.717 4.804-16.744 13.023l-8 64c-1.117 8.925 5.834 16.862 14.902 16.862 7.455 0 13.917-5.553 14.865-13.142l8-64c1.029-8.219-4.802-15.716-13.023-16.743z",fill:"#6ba7ff"}));const wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=void 0===t?"ai":t,r=e.style,a=void 0===r?{}:r,o=gt((function(){switch(n){case"ai":default:return Et;case"wand":return bt}}),[n]);return React.createElement("svg",{style:ht({width:20,height:20,marginRight:5},a),"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},o)};var Rt,Ot,xt,Tt;function St(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _t=function(e){var t=e.title,n=void 0===t?He.COMMON.SETTINGS:t,r=e.options,a=void 0===r?A:r,o=null==a?void 0:a.module_playground,i=null==a?void 0:a.module_generator_content,c=null==a?void 0:a.module_generator_images;return React.createElement(y.B,{title:"AI Engine | ".concat(n),subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i&&React.createElement(b._,{className:"header",onClick:function(){return location.href="edit.php?page=mwai_content_generator"}},React.createElement(wt,{icon:"wand",style:{marginRight:8}}),He.COMMON.CONTENT),c&&React.createElement(b._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_images_generator"}},React.createElement(wt,{icon:"wand",style:{marginRight:8}}),He.COMMON.IMAGES),o&&React.createElement(b._,{className:"header",icon:"",onClick:function(){return location.href="tools.php?page=mwai_dashboard"}},React.createElement(wt,{icon:"wand",style:{marginRight:8}}),He.COMMON.PLAYGROUND),React.createElement(b._,{className:"header",icon:"tools",onClick:function(){return location.href="admin.php?page=mwai_settings"}})))},Nt=((0,G.ZP)(b._)(Rt||(Rt=St(["\n"]))),G.ZP.div(Ot||(Ot=St(["\n  display: flex;\n  justify-content: unset;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 0 2px 0;\n\n  h2 {\n    margin: 7px 0 0 0;\n    padding: 0;\n  }\n"])))),Pt=G.ZP.div(xt||(xt=St(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));\n  grid-template-rows: repeat(auto-fit, minmax(30%, 1fr));\n  grid-gap: 10px;\n  margin-top: 20px;\n\n  img, div {\n    width: 100%;\n    cursor: pointer;\n  }\n  .empty-image {\n    width: 100%;\n    padding-bottom: 100%;\n    background-color: #f5f5f5;\n  }\n"]))),Ct=G.ZP.div(Tt||(Tt=St(["\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n\n  .nui-button {\n    margin-bottom: 5px;\n  }\n\n  .neko-textarea {\n    margin-bottom: 5px;\n  }\n\n  .neko-input {\n    margin-bottom: 5px;\n  }\n\n  .form-row {\n    display: flex;\n    .nui-button, .neko-textarea, .neko-input {\n      margin: 0;\n    }\n  }\n\n  .form-row-label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]))),kt=n(7460),At=n.n(kt),Lt=n(9378),It=n(3704),Mt=n(9995),jt=n(2625),Gt=n(776),Ft=n(8281),Ut=n(4291);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Bt(){Bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Dt(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function zt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zt(o,r,a,i,c,"next",e)}function c(e){zt(o,r,a,i,c,"throw",e)}i(void 0)}))}}var qt=function(){var e=Ht(Bt().mark((function e(){var t;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/post_types"),{nonce:k});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.postTypes);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Ht(Bt().mark((function e(t){var n,r,a;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/count_posts?postType=").concat(t),{nonce:k});case 2:return a=e.sent,e.abrupt("return",null!=a&&null!==(n=a.count)&&void 0!==n&&n.publish?parseInt(null==a||null===(r=a.count)||void 0===r?void 0:r.publish):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Ht(Bt().mark((function e(t){var n,r,a,o=arguments;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,(0,R.PV)("".concat(S,"/post_content?postType=").concat(t,"&offset=").concat(n,"&postId=").concat(r),{nonce:k});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Ht(Bt().mark((function e(){var t,n;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/openai_files"),{nonce:k});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n||null===(t=n.files)||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=Ht(Bt().mark((function e(){var t;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/openai_deleted_finetunes"),{nonce:k});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",null==t?void 0:t.finetunes);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=Ht(Bt().mark((function e(){var t,n;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/openai_finetunes"),{nonce:k});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n||null===(t=n.finetunes)||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(){var e=Ht(Bt().mark((function e(){var t;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/chatbots"),{method:"GET",nonce:k});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(null==t?void 0:t.message);case 5:return e.abrupt("return",null==t?void 0:t.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=Ht(Bt().mark((function e(t){var n;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/chatbots"),{method:"PUT",nonce:k,json:{chatbots:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(null==n?void 0:n.message);case 5:return e.abrupt("return",null==n?void 0:n.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Ht(Bt().mark((function e(){var t;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/themes"),{method:"GET",nonce:k});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.themes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(){var e=Ht(Bt().mark((function e(t){var n;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.PV)("".concat(S,"/themes"),{method:"PUT",nonce:k,json:{themes:t}});case 3:return n=e.sent,e.abrupt("return",null==n?void 0:n.themes);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e){return function(e){if(Array.isArray(e))return ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(){nn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==en(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function rn(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rn(o,r,a,i,c,"next",e)}function c(e){rn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var un=wp.element,sn=un.useState;un.useEffect;const mn=function(e){var t=e.setBuilderData,n=on(sn("post"),2),r=n[0],a=n[1],o=on(sn(0),2),i=o[0],c=o[1],l=on(sn(!1),2),u=l[0],s=l[1],m=on(sn("Generate 30 questions and answers from this text. Question use a neutral tone. Answers use the same tone as the text."),2),f=m[0],d=m[1],p=on(sn("\n\nUse this format:\n\nQ: \nA: \n\nArticle:\n\n{CONTENT}"),2),h=p[0],v=(p[1],(0,Pe.a)({queryKey:["postTypes"],queryFn:qt})),y=v.isLoading,g=v.data,E=(0,Pe.a)({queryKey:["postsCount-"+r],queryFn:function(){return Kt(r)}}),w=E.isLoading,O=E.data,x=(0,Ut.qj)({i18n:He,onStop:function(){s(),x.reset()}}),T=u||x.busy||w||y,_=function(e){if(!e)return[];for(var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=[],r=0;r<t.length;r++)t[r].startsWith("Q:")?n.push({prompt:t[r].slice(2).trim()}):t[r].startsWith("A:")&&(n[n.length-1].completion=t[r].slice(2).trim());return n},N=function(){var e=an(nn().mark((function e(){var t,n,a,o,i,l,u,s,m,d,p,v,y,g,E,b,w,O,x=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.length>0&&void 0!==x[0]?x[0]:0,n=x.length>1&&void 0!==x[1]?x[1]:void 0,a=x.length>2&&void 0!==x[2]?x[2]:void 0,o=f+h,e.next=6,Zt(r,t,n||void 0);case 6:if(i=e.sent,l=null,u=null,s=null==i?void 0:i.content,m=null==i?void 0:i.url,d=null==i?void 0:i.title,p=0,i.success){e.next=18;break}alert(i.message),l=i.message,e.next=35;break;case 18:if(!(s.length<64)){e.next=22;break}console.log("Issue: Content is too short! Skipped.",{content:s}),e.next=35;break;case 22:return o=(o=(o=o.replace("{CONTENT}",s)).replace("{URL}",m)).replace("{TITLE}",d),e.next=27,(0,R.PV)("".concat(S,"/make_completions"),{method:"POST",json:{env:"admin-tools",session:L,prompt:o,temperature:.8,model:"gpt-3.5-turbo",maxTokens:2048,stop:""},signal:a,nonce:k});case 27:if((y=e.sent).success){e.next=33;break}if(null===(g=y.error)||void 0===g||!g.cancelledByUser){e.next=31;break}return e.abrupt("return",null);case 31:throw console.error(null!==(E=y.message)&&void 0!==E?E:"Unknown error, check your console logs."),new Error(null!==(b=y.message)&&void 0!==b?b:"Unknown error, check your console logs.");case 33:u=null==y?void 0:y.data,null!=y&&null!==(v=y.usage)&&void 0!==v&&v.total_tokens&&(p=y.usage.total_tokens,c((function(e){return e+y.usage.total_tokens})));case 35:return null!=a&&a.aborted&&P(),w=_(u),O={content:s,prompt:o,rawData:u,entries:w,error:l,tokens:p},console.log("Result:",O),e.abrupt("return",O);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){console.log("User aborted."),setBusy(!1),x.reset()},C=function(){var e=an(nn().mark((function e(){var n,r,a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(0),n=Array.from(Array(O).keys()),r=prompt("There are "+n.length+" entries. If you want to start from a certain entry offset, type it here. Otherwise, just press OK, and everything will be processed."),a=n.map((function(e){return function(){var n=an(nn().mark((function n(a){var o,i;return nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Task "+e),!(r&&e<r)){n.next=3;break}return n.abrupt("return",{success:!0});case 3:return n.next=5,N(e,null,a);case 5:return(null==(i=n.sent)||null===(o=i.entries)||void 0===o?void 0:o.length)>0&&t((function(e){return[].concat(tn(e),tn(i.entries))})),n.abrupt("return",{success:!0});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),e.next=6,x.start(a);case 6:s(!1),alert("All done!"),x.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=an(nn().mark((function e(){var n,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(0),null!==(n=prompt("Enter the ID of a post (leave blank to use the very first one)."))){e.next=4;break}return e.abrupt("return");case 4:return s(!0),e.next=7,N(0,n);case 7:r=e.sent,s(!1),r.entries.length?confirm("Got ".concat(r.entries.length," entries! Do you want to add them to your data? If not, they will be displayed in your console."))&&t((function(e){return[].concat(tn(e),tn(r.entries))})):alert("No entries were generated. Check the console for more information.");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{disabled:T,onClick:A},"Single Generate (Test)"),React.createElement(b._,{disabled:T,onClick:function(){return C()}},"Run Bulk Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Based on ",w&&"...",!w&&O),React.createElement(be.N,{id:"postType",scrolldown:!0,disabled:T,name:"postType",style:{width:100,marginLeft:10},onChange:a,value:r},null==g?void 0:g.map((function(e){return React.createElement(be.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Ft.U,{busy:x.busy,style:{marginLeft:10,flex:"auto"},value:x.value,max:x.max,onStopClick:x.stop}),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Tokens: ",i)),React.createElement(xe.l,{id:"generatePrompt",name:"generatePrompt",rows:2,style:{marginTop:15},value:f,onBlur:d,disabled:T}),x.TasksErrorModal)};function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(){yn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==fn(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function gn(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function En(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gn(o,r,a,i,c,"next",e)}function c(e){gn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||wn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var On=wp.element,xn=On.useState,Tn=On.useMemo,Sn=On.useRef,_n=On.useEffect,Nn=[{accessor:"row",title:"#",width:15,verticalAlign:"top"},{accessor:"validPrompt",title:"",width:15,verticalAlign:"top"},{accessor:"prompt",title:"Prompt",width:"42%",verticalAlign:"top"},{accessor:"validCompletion",title:"",width:15,verticalAlign:"top"},{accessor:"completion",title:"Completion",width:"42%",verticalAlign:"top"},{accessor:"actions",title:"",width:55,align:"center"}],Pn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],Cn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],kn="\n\n###\n\n",An="\n\n",Ln=function(e){var t=e.status,n=e.includeText,r=void 0!==n&&n,a=(0,s.r)().colors,o=a.orange,i=a.green,c=a.red,l=null;switch(t){case"pending":case"running":l=React.createElement(_e.J,{title:t,icon:"replay",spinning:!0,width:24,color:o});break;case"succeeded":case"processed":l=React.createElement(_e.J,{title:t,icon:"check-circle",width:24,color:i});break;case"failed":l=React.createElement(_e.J,{title:t,icon:"close",width:24,color:c});break;case"cancelled":l=React.createElement(_e.J,{title:t,icon:"close",width:24,color:o});break;default:l=React.createElement(_e.J,{title:t,icon:"alert",width:24,color:o})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},l,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):l},In=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=bn(xn(!1),2),i=o[0],c=o[1],l=function(e){c(!1),e!==n&&a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&&l(n)},style:{height:"100%",display:"flex",flexDirection:"column"}},React.createElement(xe.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%"},onEnter:l,onBlur:l,value:n}),React.createElement(b._,{onClick:l,fullWidth:!0,style:{marginTop:5,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return c(!0)}},t)};const Mn=function(e){var t,n,r,a=e.options,o=e.updateOption,i=(0,s.r)().colors,c=(0,u.NL)(),l=bn(xn(),2),m=l[0],f=l[1],d=bn(xn(!1),2),p=d[0],v=d[1],y=bn(xn("finetunes"),2),g=y[0],E=y[1],w=bn(xn("editor"),2),O=w[0],x=w[1],T=bn(xn(!0),2),_=T[0],N=T[1],P=it(a),C=P.models,A=P.model,L=P.setModel,I=P.getModel,M=P.isFineTunedModel,j=bn(xn("meow"),2),G=j[0],F=j[1],U=bn(xn(!1),2),D=U[0],B=U[1],z=bn(xn(4),2),H=z[0],q=z[1],K=bn(xn(null),2),Z=K[0],Y=K[1],Q=bn(xn(!1),2),W=Q[0],X=Q[1],V=(0,Pe.a)({queryKey:["datasets"],enabled:W,queryFn:Yt}),J=V.isFetching,$=V.error,ee=V.data,te=(null==a?void 0:a.openai_finetunes_deleted)||[],ne=bn(xn(!1),2),re=ne[0],ae=ne[1],oe=(null==a?void 0:a.openai_finetunes_all)||[];_n((function(){"files"!==g||W||X(!0)}),[g]),_n((function(){$&&!re&&ae($)}),[$]);var ie=10,ce=bn(xn(!0),2),le=ce[0],ue=ce[1],se=bn(xn(1),2),me=se[0],fe=se[1],de=bn(xn([]),2),pe=de[0],he=de[1],ve=bn(xn(""),2),ye=ve[0],ge=ve[1],Ee=Tn((function(){return pe.length}),[pe]),xe=function(){var e=En(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=En(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,xe();case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=En(yn().mark((function e(){var t,n,r,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m,n=G,r=I(A),v(!0),a=M(A),e.next=7,(0,R.PV)("".concat(S,"/openai_files_finetune"),{method:"POST",nonce:k,json:{fileId:t,model:a?r.model:r.family,suffix:n,nEpochs:H,batchSize:Z}});case 7:if(!(o=e.sent).success){e.next=16;break}return e.next=11,ke();case 11:alert(He.ALERTS.FINETUNING_STARTED),E("finetunes"),f(),e.next=17;break;case 16:alert(o.message);case 17:v(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=En(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=En(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("clean"),e.next=3,Qt();case 3:return t=e.sent,e.next=6,o(t,"openai_finetunes_deleted");case 6:v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&!confirm(He.ALERTS.RESET_BUILDER)||(he([]),Me([]))},Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pe.map((function(r,a){return a===e-1?hn(hn({},r),{},n?{completion:t}:{prompt:t}):r}));he(r)};_n((function(){if(!pe||0===pe.length){var e=localStorage.getItem("mwai_builder_data");e&&he(JSON.parse(e))}}),[]);var Me=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),ge("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data"),ue(!0)}catch(e){localStorage.removeItem("mwai_builder_data"),ue(!1)}};_n((function(){pe&&pe.length>0&&Me(pe)}),[pe]);var je=Tn((function(){var e=(me-1)*ie,t=null==pe?void 0:pe.slice((me-1)*ie,(me-1)*ie+ie);return null==t?void 0:t.map((function(t){var n,r,a=++e,o=null==t||null===(n=t.prompt)||void 0===n?void 0:n.toString().endsWith(kn),i=null==t||null===(r=t.completion)||void 0===r?void 0:r.toString().endsWith(An);return{row:a,validPrompt:o?"✅":"❌",prompt:React.createElement(In,{data:t.prompt,onChange:function(e){return Ie(a,e)}},o?t.prompt.substring(0,t.prompt.length-kn.length):t.prompt),validCompletion:i?"✅":"❌",completion:React.createElement(In,{data:t.completion,onChange:function(e){return Ie(a,e,!0)}},i?t.completion.substring(0,t.completion.length-An.length):t.completion),actions:React.createElement(b._,{rounded:!0,icon:"trash",onClick:function(){return function(e){var t=pe.filter((function(t,n){return n!==e-1}));he(t),0===t.length&&Me([])}(a)}})}}))}),[pe,me,ie]),Ge=function(){var e=En(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(S,"/openai_files"),{method:"DELETE",nonce:k,json:{fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,xe();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 17:v(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=En(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(S,"/openai_finetunes_cancel"),{method:"POST",nonce:k,json:{finetuneId:t}});case 4:(n=e.sent).success?ke():alert(n.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=En(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(S,"/openai_finetunes"),{method:"DELETE",nonce:k,json:{modelId:t}});case 6:if(!(n=e.sent).success){e.next=12;break}return e.next=10,o([].concat(dn(te),[t]),"openai_finetunes_deleted");case 10:e.next=19;break;case 12:if(!(n.message.indexOf("does not exist")>-1)){e.next=18;break}return alert(He.ALERTS.FINETUNE_ALREADY_DELETED),e.next=16,o([].concat(dn(te),[t]),"openai_finetunes_deleted");case 16:e.next=19;break;case 18:alert(n.message);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.log(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 25:v(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=En(yn().mark((function e(t,n){var r,a,o,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,console.log({fileId:t,filename:n}),e.next=5,(0,R.PV)("".concat(S,"/openai_files_download"),{method:"POST",nonce:k,json:{fileId:t}});case 5:(r=e.sent).success?(console.log(r),a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Be=Tn((function(){return null==ee?void 0:ee.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(Ln,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,R.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(b._,{disabled:!a,icon:"wand",onClick:function(){return f(t)}},"Train Model"),React.createElement(b._,{rounded:!0,icon:"arrow-down",onClick:function(){return De(t,n)}}),React.createElement(b._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ge(t)}}))}}))}),[ee]),ze=function(){var e=En(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("finetunes"),e.next=3,Wt();case 3:return t=(t=e.sent).sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=new Date(1e3*e.created_at);return{id:e.id,status:e.status,suffix:e.suffix,model:e.fine_tuned_model,base_model:e.model,createdOn:t}})),e.next=7,o(t,"openai_finetunes_all");case 7:v(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=Tn((function(){return oe?oe.filter((function(e){return!te.includes(e.model)})).map((function(e){var t=new Date(e.createdOn);return hn(hn({},e),{},{status:React.createElement(Ln,{status:e.status,includeText:!0}),createdOn:React.createElement(React.Fragment,null,t.toLocaleDateString(),React.createElement("br",null),t.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,"succeeded"===e.status&&React.createElement(b._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ue(e.model)}}),"pending"===e.status&&React.createElement(b._,{className:"danger",rounded:!0,icon:"close",onClick:function(){return Fe(e.id)}}))})})):[]}),[te,oe]),Ke=J||p,Ze=function(){var e=En(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,t=pe.map((function(e){return JSON.stringify(e)})).join("\n"),console.log(t),e.next=6,(0,R.PV)("".concat(S,"/openai_files"),{method:"POST",nonce:k,json:{filename:ye,data:t}});case 6:return n=e.sent,e.next=9,xe();case 9:n.success?(Le(!1),alert(He.ALERTS.DATASET_UPLOADED),E("files"),N(!0)):alert(n.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 16:v(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Ye=Tn((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),c=I(A);return"".concat(null==c?void 0:c.family,":ft-your-org:").concat(G,"-").concat(t,"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r,"-").concat(a<10?"0"+a:a,"-").concat(o<10?"0"+o:o,"-").concat(i<10?"0"+i:i)}),[G,A]),Qe=function(){var e=En(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yn().mark((function e(){var n,a,o,i,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),c=n.name.endsWith(".csv"),o||i||c){e.next=9;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),console.log(n),e.abrupt("return","continue");case 9:a.onload=function(){var e=En(yn().mark((function e(t){var n,r,a,l,u,s,m;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.log(t,e),null}}))):c&&(l=At().parse(n,{header:!0,skipEmptyLines:!0}),r=l.data,console.log("The CSV was loaded.",r)),u=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}),n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","answer","a"].find((function(e){return t[e]}));return{prompt:t[n],completion:t[r]}})),s=u.filter((function(e){return e.prompt&&e.completion})),u.length!==s.length&&(alert(He.ALERTS.EMPTY_LINES),m=u.find((function(e){return!e.prompt||!e.completion})),console.log("Empty line: ",m)),he(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 11:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){e.next=10;break}return e.delegateYield(n(),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:r++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=Sn(null);return React.createElement(React.Fragment,null,React.createElement(Re.H,{style:{margin:"10px 10px 25px 10px"},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Lt.Q,{style:{marginRight:10},onLabel:He.FINETUNING.MODEL_FINETUNE,offLabel:He.FINETUNING.DATASET_BUILDER,width:165,onBackgroundColor:i.purple,offBackgroundColor:i.green,onChange:N,checked:_}),_&&React.createElement(Se.h,{value:g,busy:Ke,onChange:function(e){E(e)}},React.createElement(Se.S,{title:He.COMMON.MODELS,value:"finetunes",count:null!==(t=null==qe?void 0:qe.length)&&void 0!==t?t:"-"}),React.createElement(Se.S,{title:He.COMMON.DATASETS,value:"files",count:null!==(n=null==Be?void 0:Be.length)&&void 0!==n?n:"-"})),_&&"finetunes"===g&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(b._,{disabled:p,busy:"finetunes"===p,onClick:ke,className:"primary"},"Refresh Models")),_&&"files"===g&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(b._,{disabled:p,onClick:_e,className:"primary"},"Refresh Datasets")),!_&&React.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},React.createElement(Se.h,{value:O,onChange:function(e){x(e)}},React.createElement(Se.S,{title:He.FINETUNING.ENTRIES_EDITOR,value:"editor",count:null!==(r=null==pe?void 0:pe.length)&&void 0!==r?r:null}),React.createElement(Se.S,{title:He.FINETUNING.ENTRIES_GENERATOR,value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(we.A,{disabled:!Ee||p,value:Ee?ye:"",onChange:ge,style:{width:210,marginRight:5}}),React.createElement(b._,{disabled:!Ee||p,icon:"upload",onClick:Ze,className:"primary"},"Upload to OpenAI"))))),React.createElement(Re.H,{style:{margin:10}},_&&"finetunes"===g&&React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(He.FINETUNING.MODELS_INTRO)),React.createElement(It.a,{busy:Ke,data:qe,columns:Cn,emptyMessage:He.FINETUNING.NO_FINETUNES_YET}),React.createElement("div",{style:{marginTop:5,display:"flex",justifyContent:"end",lineHeight:"12px",alignItems:"center"}},React.createElement(b._,{small:!0,disabled:p,busy:"clean"===p,onClick:Ae,className:"primary"},He.FINETUNING.CLEAN_MODELS_LIST),React.createElement("small",{style:{marginLeft:5}},He.FINETUNING.DELETED_FINETUNE_ISSUE))),_&&"files"===g&&React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(He.FINETUNING.DATASETS_INTRO)),React.createElement(It.a,{busy:Ke,data:Be,columns:Pn,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!_&&"generator"===O&&React.createElement(React.Fragment,null,React.createElement(mn,{setBuilderData:he})),!_&&"editor"===O&&React.createElement(React.Fragment,null,!le&&React.createElement("p",{style:{color:Mt.ZP.red}},He.FINETUNING.HUGE_DATASET_WARNING),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{icon:"plus",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Text...\n\n###\n\n",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Text...\n\n";console.log(e,t),he([].concat(dn(pe),[{prompt:e,completion:t}]))}()}},"Add Entry"),React.createElement(b._,{disabled:!Ee,className:"secondary",onClick:function(){var e=pe.map((function(e){var t=e.prompt,n=e.completion;return t.endsWith(kn)||(t=t.trim(),t+=kn),n.endsWith(An)||(n=n.trim(),n+=An),{prompt:t,completion:n}}));he(e)}},"Format with Defaults"),React.createElement(jt.b,{ref:We,onSelectFiles:Qe,accept:"",style:{paddingLeft:5}},React.createElement(b._,{className:"secondary",onClick:function(){return We.current.click()}},"Import File")),React.createElement(b._,{disabled:!Ee,className:"secondary",style:{marginLeft:5},onClick:function(){var e=At().unparse(pe),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.csv");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as CSV"),React.createElement(b._,{disabled:!Ee,onClick:Le,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Gt.Q,{currentPage:me,limit:ie,total:Ee,onCurrentPageChanged:fe,onClick:fe}))),!_&&React.createElement(React.Fragment,null,React.createElement(Oe.i,{height:20}),React.createElement(It.a,{busy:p,data:je,columns:Nn,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add Entry"),".")}),React.createElement(Oe.i,{height:20}),React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Gt.Q,{currentPage:me,limit:ie,total:Ee,onCurrentPageChanged:fe,onClick:fe})),React.createElement(Oe.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===O&&React.createElement(Te.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===O&&React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI")," 😎 Some extra notes for you:"),React.createElement("ul",null,React.createElement("li",null,"• The prompt and the completion should both end with their own special endings. By default, it is ",React.createElement("b",null,"\\n\\n===\\n\\n")," for the prompt, and ",React.createElement("b",null,"\\n\\n")," for the completion. The icon ✅ will be shown next to the prompt and/or completion when this format has been validated, and the ending will be hidden for clarity. I refer to this format (and models trained on it) by the term of ",React.createElement("b",null,"Casually Fine Tuned"),"."),React.createElement("li",null,"• ",React.createElement("b",null,"\\n")," is a line break. You can add line breaks by using ",React.createElement("b",null,"SHIFT+ENTER")," while editing."),React.createElement("li",null," • The ",React.createElement("b",null,"Format with Defaults")," button will add the ",React.createElement("i",null,"Casually Fine Tuned")," endings format to the prompt and completion, if they are missing."),React.createElement("li",null,"• If you need the chatbot to work with a ",React.createElement("b",null,"Casually Fined Tuned")," model, you can add ",React.createElement("i",null,'casually_fine_tuned="true"'),"  in the shortcode.")))),React.createElement(Ne.L,{isOpen:re,title:"Error",onOkClick:function(){return ae()},onRequestClose:function(){return ae()},ok:"Ok",content:React.createElement(React.Fragment,null,React.createElement("p",null,null==re?void 0:re.message))}),React.createElement(Ne.L,{isOpen:m,title:"Train a new model",onOkClick:Ce,onRequestClose:function(){return f()},onCancelClick:function(){return f()},ok:"Start",disabled:p,content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(Oe.i,{height:5}),React.createElement(be.N,{id:"models",value:A,scrolldown:!0,onChange:L},C.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("finetune")})).map((function(e){return React.createElement(be.Z,{value:e.model,label:e.name})}))),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(Oe.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(Oe.i,{height:5}),React.createElement(we.A,{value:G,onChange:F}),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank"},"prefix"),". Preview: ",React.createElement("b",null,Ye),"."),React.createElement(Oe.i,{line:!0,height:20}),React.createElement(h.P,{label:"Enable HyperParams",checked:D,onChange:B}),D&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Number of Epochs:"),React.createElement(we.A,{style:{marginRight:5},value:H,onChange:q,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Batch Size:"),React.createElement(we.A,{value:Z,onChange:Y,type:"number"}))))})))};var jn,Gn,Fn,Un=wp.element,Dn=(Un.useState,Un.useEffect,Un.useMemo),Bn=G.ZP.div(jn||(Gn=["\n  display: flex;\n  flex-direction: column;\n  color: white;\n  width: 100%;\n  margin-top: -20px;\n\n  h3 {\n    font-size: 15px;\n    color: white;\n    padding-bottom: 10px;\n    border-bottom: 1px solid white;\n  }\n\n  .description {\n    color: white;\n    border-radius: 5px;\n\n    p {\n      small {\n        color: var(--neko-yellow);\n        font-size: 12px;\n      }\n    }\n\n    p:first-child {\n      margin-top: 0;\n    }\n\n    p:last-child {\n      margin-bottom: 0;\n    }\n  }\n"],Fn||(Fn=Gn.slice(0)),jn=Object.freeze(Object.defineProperties(Gn,{raw:{value:Object.freeze(Fn)}}))));const zn=function(e){var t,n,r=e.incidents,a=e.isLoading,o=(t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),((t-n)/36e5).toFixed(0)),i=Dn((function(){return null==r?void 0:r.filter((function(e){return new Date(e.date)>new Date(Date.now()-864e5)})).length}),[r]);return React.createElement("div",{style:{padding:"0px 10px 10px 10px"}},React.createElement("h2",{style:{color:"white",fontFamily:'-apple-system,BlinkMacSystemFont, "Segoe UI", sans-serif',fontSize:18,fontWeight:"normal",display:"flex"}},React.createElement(_e.J,{style:{marginTop:-3,marginLeft:-2,marginRight:5,float:"left"},width:"24",icon:i>0?"alert":"info-outline",variant:i>0?"warning":""}),"Incidents (Open AI)"),React.createElement(f.O,{p:!0,style:{color:"white"}},"Only the incidents which occured ",React.createElement("b",null,"less than a week ago")," are displayed. The time difference between the PST time used by OpenAI and your local time is ",o," hours."),React.createElement(Bn,null,a&&React.createElement("div",null,"Loading..."),r&&r.map((function(e){return React.createElement("div",{key:e.guid},React.createElement("h3",null,e.date,": ",e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))}))))};var Hn,qn,Kn;function Zn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Yn,Qn=G.ZP.div(Hn||(Hn=Zn(["\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n\n  h2 {\n    margin-bottom: 8px;\n  }\n  \n  h2:first-child, h3:first-child {\n    margin-top: 0;\n  }\n\n  label {\n    display: block;\n    margin-bottom: 5px;\n  }\n\n  label {\n    margin-top: 10px;\n  }\n\n  ul {\n    margin: 20px 0 0 0;\n  }\n\n  li {\n    margin-bottom: 5px;\n    border: 1px solid #e5e5e5;\n    padding: 8px;\n    background: #f5f5f5;\n    border-radius: 5px;\n    cursor: pointer;\n    position: relative;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n\n    &.active {\n      background: #007cba;\n      color: white;\n      border-color: #007cba;\n\n      &.modified {\n        background: #ff8c00;\n        border-color: #ff8c00;\n      }\n    }\n  }\n\n  .information {\n    color: #a3a3a3;\n    margin-top: 5px;\n    font-size: 12px;\n    line-height: 100%;\n  }\n"]))),Wn=(0,G.ZP)(we.A)(qn||(qn=Zn(["\n  flex: auto !important;\n\n  input {\n    height: 50px !important;\n    font-size: 13px !important;\n    font-family: monospace !important;\n    padding: 20px !important;\n    border-color: #333d4e !important;\n    background: #333d4e !important;\n    color: white !important;\n  }\n"]))),Xn=G.ZP.div(Kn||(Kn=Zn(["\n  display: flex;\n  flex-direction: column;\n\n  .mwai-category {\n    text-transform: uppercase;\n    margin-bottom: 0;\n    padding-bottom: 2px;\n    border-bottom: 2px solid #d1e3f2;\n    color: #007cb9;\n  }\n\n  label {\n    margin-bottom: 3px;\n  }\n\n  .mwai-builder-row {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n\n    .neko-color-picker {\n      margin-left: 5px;\n    }\n  }\n\n  .mwai-builder-col {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    margin-right: 5px;\n  }\n\n  .mwai-builder-col:last-child {\n    margin-right: 0;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    background: #d4f0ff;\n    color: #037cba;\n    padding: 10px;\n    font-size: 13px;\n    font-weight: bold;\n    margin: 10px 0 10px 0;\n  }\n\n  .neko-spacer {\n    margin-bottom: 0 !important;\n  }\n\n  .neko-input {\n  }\n\n  .nui-select-option {\n  }\n\n\n"]))),Vn=n(5651);function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er=wp.element,tr=er.useState,nr=er.useEffect,rr=er.useRef,ar=er.useCallback,or=G.ZP.div(Yn||(Yn=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n\n  .swatch {\n    width: 24px;\n    height: 24px;\n    border: 3px solid #fff;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n  }\n  \n  .popover {\n    position: absolute;\n    top: -210px;\n    left: -80px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n    z-index: 9999;\n    border-radius: 8px;\n  }\n"]))),ir=function(e){var t=e.name,n=e.value,r=e.onChange,a=rr(),o=Jn(tr(!1),2),i=o[0],c=o[1],l=Jn(tr(n),2),u=l[0],s=l[1];nr((function(){s(n)}),[n]);var m,f,d=ar((function(){u!==n&&r(u,t),c(!1)}),[u,n]);return nr((function(){var e=!1,t=!1,n=function(n){!e&&t&&m.current&&!m.current.contains(n.target)&&f(n)},r=function(n){t=m.current,e=m.current&&m.current.contains(n.target)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("click",n),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("click",n)}}),[m=a,f=d]),React.createElement(or,{className:"neko-color-picker"},React.createElement("div",{className:"swatch",style:{backgroundColor:u},onClick:function(){return c(!0)}}),i&&React.createElement("div",{className:"popover",ref:a,style:{background:"white"}},React.createElement(Vn.gW,{color:u,onChange:s}),React.createElement("div",{style:{display:"flex",padding:5}},React.createElement(b._,{style:{flex:1},onClick:function(){return r(u,t)}},"Apply"))))};function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(){dr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==cr(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function pr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var hr=wp.element,vr=hr.useMemo,yr=hr.useState,gr=hr.useEffect,Er=[{accessor:"id",title:"ID",width:"50px"},{accessor:"env",title:"Env",width:"80px"},{accessor:"ip",title:"IP",width:"85px"},{accessor:"userId",title:"User",width:"45px"},{accessor:"model",title:"Model"},{accessor:"units",title:"Units",width:"65px",align:"right",sortable:!0},{accessor:"type",title:"Type",width:"50px"},{accessor:"price",title:"Price",width:"85px",align:"right",sortable:!0},{accessor:"time",title:"Time",width:"140px",sortable:!0}],br=function(){var e,t=(e=dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(S,"/logs"),{nonce:k,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,logs:n.logs}:{total:0,logs:[]});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pr(o,r,a,i,c,"next",e)}function c(e){pr(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();const wr=function(){var e=(0,u.NL)(),t=mr(yr({filters:null,sort:{accessor:"time",by:"desc"},page:1,limit:20}),2),n=t[0],r=t[1],a=(0,Pe.a)({queryKey:["logs",n],queryFn:function(){return br(n)},keepPreviousData:!0}),o=a.isFetching,i=a.data,c=mr(yr("all"),2),l=c[0],s=c[1],m=it(A).getModelName;gr((function(){r(ur(ur({},n),{},"all"===l?{filters:null}:{filters:{env:l}}))}),[l]);var f=vr((function(){return(null==i?void 0:i.total)||0}),[i]),d=vr((function(){return null!=i&&i.logs?null==i?void 0:i.logs.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=new Date(e.time),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return{id:e.id,env:e.env,ip:e.ip,userId:e.userId?React.createElement("a",{target:"_blank",href:"/wp-admin/user-edit.php?user_id=".concat(e.userId)},e.userId):"-",model:React.createElement("span",{title:e.model},m(e.model)),units:e.units,type:e.type,price:React.createElement(React.Fragment,null,"$",e.price),time:n}})):[]}),[i]);return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(Se.h,{value:l,onChange:function(e){s(e),r(ur(ur({},n),{},{page:1}))}},React.createElement(Se.S,{title:"All",value:"all"}),React.createElement(Se.S,{title:"Chatbot",value:"chatbot"}),React.createElement(Se.S,{title:"Form",value:"form"}),React.createElement(Se.S,{title:"Playground",value:"playground"})),React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Gt.Q,{currentPage:n.page,limit:n.limit,total:f,onClick:function(e){r(ur(ur({},n),{},{page:e}))}}),React.createElement(b._,{className:"primary",style:{marginLeft:5},disabled:o,onClick:function(){e.invalidateQueries({queryKey:["logs"]})}},"Refresh")))),React.createElement(It.a,{alternateRowColor:!0,busy:o,sort:n.sort,onSortChange:function(e,t){r(ur(ur({},n),{},{sort:{accessor:e,by:t}}))},data:d,columns:Er}))};function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Or(){Or=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Rr(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function xr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _r=wp.element,Nr=_r.useState;_r.useEffect,_r.useMemo;const Pr=function(e){var t=e.options,n=e.updateOption,r=e.busy,a=Tr(Nr("I would love to live on a tropical island with beautiful and sexy felines, where we could bask in the sun on the sandy beaches, sip on refreshing coconut milk, and enjoy each other's company. While we might occasionally fight in the trees, our days would mostly be spent in peaceful slumber. However, I am not sure of how we would handle any potential disruptions to our idyllic existence if human were to come..."),2),o=a[0],i=a[1],c=Tr(Nr([]),2),l=c[0],u=c[1],s=Tr(Nr(""),2),m=(s[0],s[1]),f=Tr(Nr(!1),2),p=f[0],v=f[1],y=null==t?void 0:t.shortcode_chat_moderation,E=p||r,O=function(){var e,t=(e=Or().mark((function e(){var t,n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(0,R.PV)("".concat(S,"/moderate"),{method:"POST",nonce:k,json:{text:o}});case 3:(t=e.sent).success?(n=t.results,u(null==n?void 0:n.results)):m(t.message),v(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xr(o,r,a,i,c,"next",e)}function c(e){xr(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),x=React.createElement(d.r,{title:He.COMMON.CHATBOT},React.createElement(h.P,{name:"shortcode_chat_moderation",label:He.COMMON.ENABLE,value:"1",checked:y,description:He.SETTINGS.CHATBOT_MODERATION_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:E,title:He.COMMON.SETTINGS,className:"primary"},React.createElement("p",null,"You can enable moderation various parts of WordPress. It will slow down the processing a little."),x)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:E,title:"AI Moderation Tester",className:"primary"},React.createElement("p",null,"Paste a text below, and check if it is safe for your website. ",React.createElement("b",null,"OpenAI Moderation Model is free!")," Learn more about it ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/moderation/overview",target:"_blank"},"here"),"."),React.createElement(xe.l,{name:"context",rows:8,value:o,onChange:i}),React.createElement(Oe.i,null),React.createElement(b._,{fullWidth:!0,onClick:O},"Moderation Check"),React.createElement(Oe.i,null),React.createElement("label",null,"Results:"),React.createElement("pre",null,JSON.stringify(l,null,2))))))};function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function kr(e){return function(e){if(Array.isArray(e))return Dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(){Ar=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Cr(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Cr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jr(o,r,a,i,c,"next",e)}function c(e){jr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Br=wp.element,zr=Br.useState,Hr=Br.useMemo,qr=Br.useEffect,Kr=[{accessor:"status",title:"Status",width:"80px"},{accessor:"title",title:"Title",sortable:!0},{accessor:"type",title:"Ref",sortable:!0,width:"60px"},{accessor:"score",title:"Score",sortable:!0,width:"65px"},{accessor:"updated",title:"Updated",sortable:!0,width:"80px"},{accessor:"created",title:"Created",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"65px"}],Zr=[{accessor:"status",title:"Status",sortable:!0,width:"80px"},{accessor:"title",title:"Title",sortable:!1},{accessor:"type",title:"Ref",sortable:!0,width:"60px"},{accessor:"updated",title:"Updated",sortable:!0,width:"80px"},{accessor:"created",title:"Created",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"65px"}],Yr=function(e){var t=e.status,n=e.includeText,r=void 0!==n&&n,a=(0,s.r)().colors,o=a.orange,i=a.green,c=(a.red,null);switch(t){case"outdated":default:c=React.createElement(_e.J,{title:t,icon:"alert",width:24,color:o});break;case"ok":c=React.createElement(_e.J,{title:t,icon:"check-circle",width:24,color:i})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):c};const Qr=function(e){var t=e.options,n=e.updateOption,r=(0,u.NL)(),a=(0,s.r)().colors,o=Fr(zr("post"),2),i=o[0],c=o[1],l=Fr(zr(!1),2),m=l[0],f=l[1],d=Fr(zr("edit"),2),p=d[0],v=d[1],y=Fr(zr(""),2),O=y[0],x=y[1],T=Fr(zr(!1),2),_=T[0],N=T[1],P=Fr(zr(!1),2),C=P[0],A=P[1],I=Fr(zr([]),2),M=I[0],j=I[1],G=t.embeddings||{},F=t.pinecone||{},U=F.indexes||[],D=(null==G?void 0:G.minScore)>0?G.minScore:75,B=(null==G?void 0:G.maxSelect)>0?G.maxSelect:1,z=Hr((function(){var e,t=U.find((function(e){return(null==e?void 0:e.name)===(null==F?void 0:F.index)}))||null;return{index:null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",indexIsReady:!(null==t||!t.ready)}}),[F,U]),H=z.index,q=z.indexIsReady,K=(0,Pe.a)({queryKey:["postTypes"],queryFn:qt}),Z=K.isLoading,Y=K.data,Q=(0,Pe.a)({queryKey:["postsCount-"+i],queryFn:function(){return ut(i)}}),W=Q.isLoading,X=Q.data,V=Fr(zr({filters:{index:H},sort:{accessor:"created",by:"desc"},page:1,limit:20}),2),J=V[0],$=V[1],ee=(0,Pe.a)({queryKey:["vectors",J],queryFn:function(){return lt(J)},keepPreviousData:!0}),te=ee.isFetching,ne=ee.data,re=Fr(zr({accessor:"score",by:"desc"}),2),ae=re[0],oe=re[1],ie=Fr(zr({total:0,vectors:[]}),2),ce=ie[0],le=ie[1],ue=te||"searchVectors"===m,se="search"===p?Kr:Zr,me=(0,Ut.qj)({i18n:He,onStop:function(){f(),me.reset()}}),fe=m||ue||me.isBusy||Z,de=function(){var e=Gr(Ar().mark((function e(t){return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("updateSettings"),e.next=3,n(Ir({},t),"embeddings");case 3:f(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();qr((function(){$(Ir(Ir({},J),{},{filters:{index:null!=H?H:""}}))}),[H]),qr((function(){U.length?H||he(U[0].name):he("")}),[U]),qr((function(){"edit"===p&&(x(""),le({total:0,vectors:[]}))}),[p]),qr((function(){G.syncPostTypes||(console.log("UPDATE SYNC POST TYPES",G.syncPostTypes),de(Ir(Ir({},G),{},{syncPostTypes:["post","page","product"]})))}),[G.syncPostTypes]);var pe=function(){var e=Gr(Ar().mark((function e(){var t,r;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("addIndex"),e.next=3,(0,R.PV)("".concat(S,"/pinecone/add_index"),{nonce:k,method:"POST",json:{name:C.name,podType:C.podType}});case 3:if(!(t=e.sent).success){e.next=11;break}return r=Ir(Ir({},F),{},{indexes:t.indexes}),e.next=8,n(r,"pinecone");case 8:A(!1),e.next=13;break;case 11:console.error(t.message),alert(t.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Gr(Ar().mark((function e(t){var r;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ir(Ir({},F),{},{index:t}),n(r,"pinecone");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Gr(Ar().mark((function e(){var t,r;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm('Are you sure you want to delete the index "'.concat(H,'"? All the related embeddings will be deleted as well.'))){e.next=2;break}return e.abrupt("return");case 2:return f("deleteIndex"),e.next=5,(0,R.PV)("".concat(S,"/pinecone/delete_index"),{nonce:k,method:"DELETE",json:{name:H}});case 5:if(!(t=e.sent).success){e.next=12;break}return r=Ir(Ir({},F),{},{indexes:t.indexes}),e.next=10,n(r,"pinecone");case 10:e.next=14;break;case 12:console.error(t.message),alert(t.message);case 14:f(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Gr(Ar().mark((function e(){var t,r;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("refreshIndexes"),e.next=3,(0,R.PV)("".concat(S,"/pinecone/list_indexes"),{nonce:k,method:"GET"});case 3:if(!(t=e.sent).success){e.next=10;break}return r=Ir(Ir({},F),{},{indexes:t.indexes}),e.next=8,n(r,"pinecone");case 8:e.next=12;break;case 10:console.error(t.message),alert(t.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Gr(Ar().mark((function e(){var t;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("searchVectors"),e.next=3,ct(Ir(Ir({},J),{},{filters:{env:null!=H?H:"",aiSearch:O}}));case 3:t=e.sent,le(t),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Gr(Ar().mark((function e(){var t,n,a,o,i=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:_,(n=i.length>1&&void 0!==i[1]&&i[1])||f("addEmbedding"),e.next=6,(0,R.PV)("".concat(S,"/vector"),{nonce:k,method:"POST",json:{vector:Ir(Ir({},t),{},{dbIndex:H})}});case 6:if((a=e.sent).success){e.next=10;break}throw console.error(a.message),new Error(null!==(o=a.message)&&void 0!==o?o:"Unknown error, check your console logs.");case 10:return N(!1),console.log("Embedding Added",t),r.invalidateQueries({queryKey:["vectors"]}),n||f(!1),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Gr(Ar().mark((function e(){var t,n,a,o,i,c,l=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:_,(n=l.length>1?l[1]:void 0)||f("addEmbedding"),e.next=5,(0,R.PV)("".concat(S,"/vector"),{nonce:k,method:"PUT",json:{vector:Ir(Ir({},t),{},{dbIndex:H})}});case 5:if((a=e.sent).success){e.next=9;break}throw console.error(a.message),new Error(null!==(o=a.message)&&void 0!==o?o:"Unknown error, check your console logs.");case 9:return i=Ir({},t),N(!1),console.log("Embeddings updated.",t),r.invalidateQueries({queryKey:["vectors"]}),"search"===p&&((c=Ir({},ce)).vectors=[].concat(kr(c.vectors.filter((function(e){return t.id!==e.id}))),[i]),le(c)),n||f(!1),e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Gr(Ar().mark((function e(t){var n,r,a,o=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=o.length>1&&void 0!==o[1]&&o[1])||f("getEmbedding"),e.next=5,(0,R.PV)("".concat(S,"/vectors_ref"),{nonce:k,method:"POST",json:{refId:t}});case 5:if((r=e.sent).success){e.next=9;break}throw console.error(r.message),new Error(null!==(a=r.message)&&void 0!==a?a:"Unknown error, check your console logs.");case 9:return n||f(!1),e.abrupt("return",r.vectors);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Gr(Ar().mark((function e(t,n){var a,o,i;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||f("deleteEmbedding"),e.next=3,(0,R.PV)("".concat(S,"/vectors"),{nonce:k,method:"DELETE",json:{ids:t}});case 3:if((a=e.sent).success){e.next=7;break}throw console.error(a.message),new Error(null!==(o=a.message)&&void 0!==o?o:"Unknown error, check your console logs.");case 7:console.log("Embeddings deleted.",{ids:t}),r.invalidateQueries({queryKey:["vectors"]}),"search"===p&&((i=Ir({},ce)).vectors=i.vectors.filter((function(e){return!t.includes(e.id)})),le(i)),n||f(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Gr(Ar().mark((function e(){return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete the selected embeddings?")){e.next=2;break}return e.abrupt("return");case 2:return f("deleteEmbeddings"),e.next=5,Ce(M);case 5:j([]),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Gr(Ar().mark((function e(t){var n,r,a,o,i,c,l=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"english",r=l.length>2?l[2]:void 0,G.rewriteContent){e.next=4;break}return e.abrupt("return",t.content);case 4:return a=(a=(a=(a=(a=(a=G.rewritePrompt.replace("{CONTENT}",t.content)).replace("{TITLE}",t.title)).replace("{URL}",t.url)).replace("{EXCERPT}",t.excerpt)).replace("{ID}",t.postId)).replace("{LANGUAGE}",n),e.next=12,(0,R.PV)("".concat(S,"/make_completions"),{method:"POST",json:{env:"admin-tools",session:L,prompt:a,temperature:.4,model:"gpt-3.5-turbo",maxTokens:4096,stop:""},signal:r,nonce:k});case 12:if((o=e.sent).success){e.next=16;break}throw console.error(o.message),new Error(null!==(i=o.message)&&void 0!==i?i:"Unknown error, check your console logs.");case 16:return c=null==o?void 0:o.data,console.log("Content rewritten.",{from:t.content,to:c}),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=Hr((function(){return(null==ne?void 0:ne.total)||0}),[ne]),Ie=Hr((function(){var e="edit"===p?ne:ce;return null!=e&&e.vectors?("search"===p&&(e.vectors=e.vectors.sort((function(e,t){return"asc"===ae.by?e[ae.accessor]>t[ae.accessor]?1:-1:e[ae.accessor]<t[ae.accessor]?1:-1}))),null==e?void 0:e.vectors.map((function(e){var t=new Date(e.updated),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=new Date(e.created),a=(r=new Date(r.getTime()-60*r.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=e.score?React.createElement("span",{style:{color:e.score>D/100?"var(--neko-green)":"inherit"}},(100*e.score.toFixed(4)).toFixed(2)):"-";return{id:e.id,type:React.createElement("small",null,e.refId?React.createElement(React.Fragment,null,"ID ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(e.refId,"&action=edit"),target:"_blank"},"#",e.refId)):"MANUAL"),score:o,title:e.title,status:React.createElement(Yr,{status:e.status,includeText:!0}),updated:n,created:a,actions:React.createElement(React.Fragment,null,React.createElement(b._,{className:"primary",rounded:!0,icon:"pencil",disabled:fe,onClick:function(){return N(e)}}),React.createElement(b._,{className:"danger",rounded:!0,icon:"trash",disabled:fe,onClick:function(){return Ce([e.id])}}))}}))):[]}),[p,ne,ce,ae,fe]),Me=function(){var e=Gr(Ar().mark((function e(){var t,n,r,a,o,c,l,u,s,m,d,p,h,v,y,g,E,b,w,R,O,x,T,S=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=S.length>0&&void 0!==S[0]?S[0]:0,u=S.length>1&&void 0!==S[1]?S[1]:void 0,s=S.length>2&&void 0!==S[2]?S[2]:void 0,e.next=5,st(i,l,u||void 0);case 5:if(m=e.sent,d=null!==(t=null==m?void 0:m.content)&&void 0!==t?t:null,p=null!==(n=null==m?void 0:m.title)&&void 0!==n?n:null,h=null!==(r=null==m?void 0:m.url)&&void 0!==r?r:null,v=null!==(a=null==m?void 0:m.excerpt)&&void 0!==a?a:null,y=null!==(o=null==m?void 0:m.checksum)&&void 0!==o?o:null,g=null!==(c=null==m?void 0:m.language)&&void 0!==c?c:"english",u=null!=m&&m.postId?parseInt(null==m?void 0:m.postId):null,m.success){e.next=15;break}throw new Error(m.message);case 15:return console.log("* Post ID "+u),mt(d)>2048&&(d=ft(d,2048),console.log("Too much content. Reduced it to approximatively 2048 tokens.",{before:m.content,beforeLength:m.content.length,after:d,afterLength:d.length})),e.next=19,_e(u,!0,s);case 19:if(E=e.sent,!(d.length<64)){e.next=31;break}if(!(E.length>0)){e.next=27;break}return e.next=24,Ce(E.map((function(e){return e.id})),!0,s);case 24:console.warn("Content is too short. Embeddings deleted.",{content:d}),e.next=28;break;case 27:console.log("Content is too short. Skipped.",{content:d});case 28:return e.abrupt("return",!1);case 31:if(!(E.length>1)){e.next=36;break}return alert("Multiple embeddings for one single post are not handled yet. Please delete the embeddings related to ".concat(u," manually.")),e.abrupt("return",!1);case 36:if(1!==E.length){e.next=58;break}if((b=E[0]).refChecksum!==y||G.forceRecreate){e.next=42;break}console.log("Embedding exists with same content.",{embedding:b}),e.next=56;break;case 42:return b.refChecksum===y?console.log("Embedding exists with same content (but force re-create)."):console.log("Embedding exists with different content.",{current:b.content,new:d}),w={postId:u,content:d,title:p,url:h,excerpt:v,checksum:y,language:g},e.next=46,Ae(w,g,s);case 46:if((R=e.sent)&&!(R.length<64)){e.next=52;break}return e.next=50,Ce(E.map((function(e){return e.id})),!0,s);case 50:return console.warn("Embeddings are too short. Embeddings deleted.",{content:d}),e.abrupt("return",!1);case 52:return e.next=54,Se(Ir(Ir({},b),{},{content:R,refChecksum:y}),!0,s);case 54:if(e.sent){e.next=56;break}return e.abrupt("return",!1);case 56:e.next=73;break;case 58:return O={postId:u,content:d,title:p,url:h,excerpt:v,checksum:y,language:g},e.next=61,Ae(O,g,s);case 61:if((x=e.sent)&&!(x.length<64)){e.next=67;break}return e.next=65,Ce(E.map((function(e){return e.id})),!0,s);case 65:return console.log("Embeddings are too short. Skipped.",{content:d}),e.abrupt("return",!1);case 67:return T=Ir(Ir({},nt),{},{title:p,content:x,type:"postId",refId:u,refChecksum:y,behavior:"context"}),e.next=70,Ee(T,!0,s);case 70:if(e.sent){e.next=72;break}return e.abrupt("return",!1);case 72:console.log("Embeddings added!",{embedding:T});case 73:return null!=s&&s.aborted&&(console.log("User aborted."),f(!1),me.reset()),e.abrupt("return",!0);case 75:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Gr(Ar().mark((function e(){var t,n,r,a,o=arguments;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],console.log("onBulkRunClick",{all:t}),f("bulkRun"),n=[],t||0===M.length?(r=Array.from(Array(X).keys()),n=r.map((function(e){return function(){var t=Gr(Ar().mark((function t(n){return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me(e,null,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))):(a=ne.vectors.filter((function(e){return M.includes(e.id)})).map((function(e){return"postId"===e.type?e.refId:null})).filter((function(e){return null!==e})),n=a.map((function(e){return function(){var t=Gr(Ar().mark((function t(n){return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me(0,e,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),e.next=7,me.start(n);case 7:f(!1),alert("All done! For more information, check the console (Chrome Developer Tools). Posts with very short content (or content that could not be retrieved) are skipped."),me.reset();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Gr(Ar().mark((function e(){var t;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID to synchronize with:")){e.next=3;break}return e.abrupt("return");case 3:return f("singleRun"),e.prev=4,e.next=7,Me(0,t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert(e.t0);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{marginBottom:-10}},React.createElement("div",{style:{display:"flex"}},React.createElement(Re.H,{style:{margin:10},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Lt.Q,{style:{marginRight:10},disabled:fe||!H||!q,onLabel:He.EMBEDDINGS.AI_SEARCH,offLabel:He.EMBEDDINGS.EDIT,width:110,onValue:"search",offValue:"edit",checked:"search"===p,onChange:v,onBackgroundColor:a.purple,offBackgroundColor:a.green}),"edit"===p&&React.createElement(React.Fragment,null,React.createElement(b._,{className:"primary",disabled:fe||!H||!q,onClick:function(){return N(nt)}},"Add")))),React.createElement(Re.H,{style:{margin:10,flex:"auto"},contentStyle:{padding:10,display:"flex"}},"edit"===p&&React.createElement(React.Fragment,null,M.length>0&&React.createElement(React.Fragment,null,React.createElement(b._,{className:"primary",disabled:fe||!H,isBusy:"bulkRun"===m,onClick:function(){return je(!1)}},"Sync Selected"),React.createElement(b._,{className:"danger",disabled:fe||!H||!q,onClick:ke},He.COMMON.DELETE_SELECTED)),M.length>0&&React.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10}},M.length," selected"),React.createElement(Ft.U,{busy:me.busy,style:{flex:"auto"},value:me.value,max:me.max,onStopClick:me.stop})),"search"===p&&React.createElement("div",{style:{flex:"auto",display:"flex"}},React.createElement(we.A,{style:{flex:"auto",marginRight:5},placeholder:"Search",disabled:fe||!H||!q,value:O,onChange:x,onEnter:ge,onReset:function(){x(),le({total:0,vectors:[]})}}),React.createElement(b._,{className:"primary",onClick:ge,disabled:fe||!H||!q,isBusy:"searchVectors"===m},"Search"))))),React.createElement(g.z,{minimal:!0,style:{flex:3,marginRight:10}},React.createElement(w.v,{className:"primary"},React.createElement(It.a,{busy:fe,sort:"edit"===p?J.sort:ae,onSortChange:function(e,t){"edit"===p?$(Ir(Ir({},J),{},{sort:{accessor:e,by:t}})):oe({accessor:e,by:t})},data:Ie,columns:se,onSelectRow:function(e){j(e)},onSelect:function(e){j([].concat(kr(M),kr(e)))},onUnselect:function(e){j(kr(M.filter((function(t){return!e.includes(t)}))))},selectedItems:M}),React.createElement(Oe.i,null),React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Gt.Q,{currentPage:J.page,limit:J.limit,total:Le,onClick:function(e){$(Ir(Ir({},J),{},{page:e}))}}),React.createElement(b._,{className:"primary",style:{marginLeft:5},disabled:ue||!H,onClick:function(){r.invalidateQueries({queryKey:["vectors"]})}},He.COMMON.REFRESH)))),React.createElement(g.z,{minimal:!0},React.createElement(Oe.i,{large:!0}),React.createElement(E.c,{inversed:!0,style:{marginRight:10}},React.createElement(E.P,{title:"Index"},React.createElement("div",{style:{display:"flex"}},React.createElement(be.N,{fullWidth:!0,scrolldown:!0,name:"server",style:{marginRight:5,flex:1.5},disabled:fe,value:F.index,onChange:function(e){return he(e)}},U.map((function(e){return React.createElement(be.Z,{value:e.name,label:e.name})})),!(null!=U&&U.length)&&React.createElement(be.Z,{value:"",label:"None"})),React.createElement(we.A,{style:{flex:1},disabled:!0,value:F.namespace,title:He.COMMON.NAMESPACE})),H&&!q&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button.")),React.createElement(E.P,{title:"Settings"},React.createElement(be.N,{fullWidth:!0,scrolldown:!0,name:"server",style:{marginRight:5,flex:1.5},disabled:fe,value:F.index,onChange:function(e){return he(e)}},U.map((function(e){return React.createElement(be.Z,{value:e.name,label:e.name})})),!(null!=U&&U.length)&&React.createElement(be.Z,{value:"",label:"None"})),React.createElement(Oe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{className:"primary",onClick:function(){return A(rt)},style:{flex:1},isBusy:"addIndex"===m,disabled:fe},"Add Index"),React.createElement(b._,{className:"secondary",onClick:ye,style:{flex:1},isBusy:"refreshIndexes"===m,disabled:fe},He.COMMON.REFRESH),React.createElement(b._,{className:"danger",onClick:ve,style:{flex:1},isBusy:"deleteEmbeddings"===m,disabled:fe||!H||!q},He.COMMON.DELETE)),React.createElement(Oe.i,null),H&&!q&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button."),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,marginRight:5}},React.createElement("label",null,"Minimum Score:"),React.createElement(Oe.i,null),React.createElement(we.A,{value:D,type:"number",min:0,max:98,step:.5,onBlur:function(e){de(Ir(Ir({},G),{},{minScore:e}))}})),React.createElement("div",{style:{flex:1,marginLeft:5}},React.createElement("label",null,"Max Embedding(s):"),React.createElement(Oe.i,null),React.createElement(we.A,{value:B,type:"number",min:1,max:20,step:1,onBlur:function(e){de(Ir(Ir({},G),{},{maxSelect:e}))}}))),React.createElement("p",null,"The ",B," best embedding(s) with a minimum score of ",D," will be used to build the answer."))),React.createElement(Oe.i,{medium:!0}),React.createElement(E.c,{inversed:!0,style:{marginRight:10}},React.createElement(E.P,{title:"Sync",inversed:!0},React.createElement(h.P,{label:"Rewrite Content",checked:G.rewriteContent,disabled:m,onChange:function(e){de(Ir(Ir({},G),{},{rewriteContent:e}))},description:"Shorten and improve the content for your embedding with GPT Turbo.\n              "}),React.createElement(Oe.i,null),G.rewriteContent&&React.createElement(xe.l,{value:G.rewritePrompt,rows:5,disabled:m,onBlur:function(e){de(Ir(Ir({},G),{},{rewritePrompt:e}))},description:"Prompt used for rewriting. Supports {CONTENT}, {TITLE}, {URL}, {EXCERPT}, {LANGUAGE} and {ID}."}),React.createElement(Oe.i,null),React.createElement(h.P,{label:"Force Recreate",checked:G.forceRecreate,disabled:m,onChange:function(e){de(Ir(Ir({},G),{},{forceRecreate:e}))},description:'Recreate embeddings when "Sync All" is used, even if they already exist with the same content.'}),React.createElement(Oe.i,{medium:!0,line:!0}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(be.N,{id:"postType",scrolldown:!0,disabled:fe,name:"postType",style:{width:100},onChange:c,value:i},null==Y?void 0:Y.map((function(e){return React.createElement(be.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(b._,{fullWidth:!0,className:"primary",style:{marginLeft:10},disabled:fe||!H,isBusy:"bulkRun"===m,onClick:function(){return je(!0)}},"Sync All ",!W&&React.createElement(React.Fragment,null,"(","".concat(X),")"))),React.createElement(Oe.i,null),React.createElement(b._,{fullWidth:!0,className:"primary",disabled:fe||!H,isBusy:"singleRun"===m,onClick:Ge},"Sync One")),React.createElement(E.P,{title:"Settings",inversed:!0},React.createElement(h.P,{label:"Sync Posts",checked:G.syncPosts,disabled:m,onChange:function(e){de(Ir(Ir({},G),{},{syncPosts:e}))},description:"When publishing a post, an embedding will be created for it. The embedding will be removed when the post is deleted."}),React.createElement(Oe.i,null),React.createElement(we.A,{name:"syncPostTypes",value:G.syncPostTypes,isCommaSeparatedArray:!0,description:He.HELP.POST_TYPES,onBlur:function(e){de(Ir(Ir({},G),{},{syncPostTypes:e}))}})))),React.createElement(g.z,{fullWidth:!0,minimal:!0},React.createElement(w.v,{title:"Quick Tutorial",className:"primary"},React.createElement("p",null,React.createElement("b",null,"This is beta! It works but it will need to be perfected. If you have any feedback, or want to discuss this, visit ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank"},"my discord server"),".")),React.createElement("p",null,"An embedding is a textual piece of data (sentence, paragraph, a whole article) that has been converted by OpenAI into a vector. Vectors can then be used to find the most relevant data for a given query. In this dashboard, you can create embeddings, and they will be synchronized with ",React.createElement("a",{target:"_blank",href:"https://www.pinecone.io/"},"Pinecone"),", a very fast and affordable vector database."),React.createElement("p",null,"You can switch from EDIT to AI SEARCH and you will be able to query the database, and get your content, with a score. You can edit the content and it will be synchronized with Pinecone. Then make your content perfect so that the results are satisfying! You can use Sync and Sync One, it will go through your posts and create the embeddings if they don't exist yet, or update them if they do."),React.createElement("p",null,"The chatbot can use the embeddings to answer questions. To activate this feature, you will need to add  ",React.createElement("i",null,"embeddings_index")," to the chatbot. Check the builder! 😌"),React.createElement("p",null,React.createElement("i",null,"If you are able to make a simpler, quicker and better explanation than me, please let me know! Thank you!"))))),React.createElement(Ne.L,{isOpen:_,title:null!=_&&_.id?"Modify Embedding":"Add Embedding",onOkClick:function(){null!=_&&_.id?Se():Ee()},onRequestClose:function(){return N(null)},onCancelClick:function(){return N(null)},ok:null!=_&&_.id?"Modify":"Add",disabled:"addEmbedding"===m,content:React.createElement(React.Fragment,null,React.createElement("p",null,"A custom embedding can be a sentence, a paragraph or a whole article. When an user input is made, the AI will search for the best embedding that matches the user input and will be able to answer with more accuracy."),React.createElement(Oe.i,{height:30}),React.createElement("label",null,"Title:"),React.createElement(Oe.i,null),React.createElement(we.A,{value:null==_?void 0:_.title,placeholder:'Title, like "My Website Information"',description:"This is for your convenience only, it's not used anywhere.",onChange:function(e){return N(Ir(Ir({},_),{},{title:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Content:"),React.createElement(Oe.i,null),React.createElement(xe.l,{value:null==_?void 0:_.content,onChange:function(e){return N(Ir(Ir({},_),{},{content:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Behavior:"),React.createElement(Oe.i,null),React.createElement(be.N,{scrolldown:!0,name:"behavior",disabled:fe||!0,value:null==_?void 0:_.behavior,onChange:function(e){N(Ir(Ir({},_),{},{behavior:e}))}},React.createElement(be.Z,{value:"context",label:"Context"}),React.createElement(be.Z,{value:"answer",label:"Answer"})),React.createElement(Oe.i,null),React.createElement("label",null,"Type:"),React.createElement(Oe.i,null),React.createElement(be.N,{scrolldown:!0,name:"type",disabled:fe||!0,value:null==_?void 0:_.type,onChange:function(e){N(Ir(Ir({},_),{},{type:e}))}},React.createElement(be.Z,{value:"manual",label:"Manual"}),React.createElement(be.Z,{value:"post",label:"Post (Whole)"}),React.createElement(be.Z,{value:"post-fragment",label:"Post (Fragment)"})),("post"===(null==_?void 0:_.type)||"post-fragment"===(null==_?void 0:_.type))&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement("label",null,"Post ID:"),React.createElement(Oe.i,null),React.createElement(we.A,{value:null==_?void 0:_.refId,onChange:function(e){return N(Ir(Ir({},_),{},{refId:e}))}})))}),React.createElement(Ne.L,{isOpen:C,title:"Add Index",onOkClick:pe,onRequestClose:function(){return A(null)},onCancelClick:function(){return A(null)},ok:"Add Index",disabled:"addIndex"===m,content:React.createElement(React.Fragment,null,React.createElement("p",null,"An index is like a database, and contains embeddings. You can have many indexes and switch between them. The indexes are hosted on Pinecone."),React.createElement(Oe.i,{height:30}),React.createElement("label",null,"Name:"),React.createElement(Oe.i,null),React.createElement(we.A,{value:null==C?void 0:C.name,placeholder:"Name for your index",onChange:function(e){return A(Ir(Ir({},C),{},{name:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Type:"),React.createElement(Oe.i,null),React.createElement(be.N,{scrolldown:!0,name:"podType",disabled:fe,value:null==C?void 0:C.podType,onChange:function(e){A(Ir(Ir({},C),{},{podType:e}))},description:React.createElement(React.Fragment,null,"Pick S1 only if you will have more than 1 million of embeddings. P2 is faster for querying, slower for adding, and more expensive if you are not using the ",React.createElement("a",{href:"https://www.pinecone.io/pricing/",target:"_blank"},"Starter Plan")," (free) of Pinecone. P2 is recommended.")},React.createElement(be.Z,{value:"s1",label:"S1 (5M Embeddings)"}),React.createElement(be.Z,{value:"p1",label:"P1 (1M Embeddings & High Perf)"}),React.createElement(be.Z,{value:"p2",label:"P2 (1M Embeddings & Max Perf)"})))}),me.TasksErrorModal)};function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wp.i18n.__;var Xr=wp.element,Vr=Xr.useMemo,Jr=Xr.useState,$r=function(e){var t,n,r=e.month,a=e.usageData,o=(new Date).toISOString().slice(0,7),i=(t=Jr(o==r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],l=i[1];return React.createElement("li",null,React.createElement("strong",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return l(!c)}},"🗓️ ",r," (",a[r].totalPrice.toFixed(2),"$)",React.createElement("span",{style:{marginLeft:5}},c?"🔽":"🔼")),React.createElement("ul",null,c&&a[r].data.map((function(e,t){return React.createElement("li",{key:t,style:{marginTop:5,marginLeft:18}},React.createElement("strong",null,"• ",e.name),e.isImage&&": ".concat(e.usage," images"),!e.isImage&&": ".concat(e.usage," tokens"),e.price>0&&" (".concat(e.price.toFixed(4),"$)"))}))))};const ea=function(e){var t=e.options,n=it(t),r=n.models,a=n.getModelName,o=n.getModel,i=n.calculatePrice,c=null==t?void 0:t.openai_usage,l=Vr((function(){var e={};try{var t=(new Date).toISOString().slice(0,7);Object.keys(c).forEach((function(n){var r=c[n];e[n]||(e[n]={totalPrice:0,data:[]}),Object.keys(r).forEach((function(c){var l=r[c],u=o(c);if(u){var s=i(c,(null==l?void 0:l.total_tokens)||(null==l?void 0:l.images)||0);e[n].totalPrice+=s,e[n].data.push({name:a(c),isImage:"image"===u.type,usage:"image"===u.type?l.images:l.total_tokens,price:s})}else n===t&&console.warn("Cannot find price for model ".concat(c,"."))}))})),Object.keys(e).forEach((function(t){e[t].data.sort((function(e,t){return t.price-e.price}))}))}catch(e){console.error(e)}return React.createElement("ul",{style:{marginLeft:-7,marginTop:10,marginBottom:0,paddingBottom:0}},Object.keys(e).reverse().map((function(t,n){return React.createElement($r,{key:n,month:t,usageData:e})})))}),[c,r]);return React.createElement(React.Fragment,null,!!c&&!!Object.keys(c).length&&l)};function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(){na=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==ta(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function ra(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ia=wp.element.useState;const ca=function(){var e=aa(ia(""),2),t=e[0],n=e[1],r=aa(ia("transcription"),2),a=r[0],o=r[1],i=aa(ia(""),2),c=i[0],l=i[1],u=aa(ia(""),2),s=u[0],m=u[1],f=aa(ia(""),2),d=(f[0],f[1]),p=aa(ia(!1),2),h=p[0],v=p[1],y=function(){var e,n=(e=na().mark((function e(){var n,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(0,R.PV)("".concat(S,"/transcribe"),{method:"POST",nonce:k,json:{url:t,prompt:s,mode:a}});case 3:(n=e.sent).success?(r=n.data,console.log(r),l(r)):d(n.message),v(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ra(o,r,a,i,c,"next",e)}function c(e){ra(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:h,title:"Params",className:"primary"},React.createElement("p",null,"I have added this for you to play with. Let's see if we move into other parts of the WordPress UI or not! 😬 Don't hesitate to share your ideas. Costs are not added in AI Engine, as the requires usage data is not returned by OpenAI for this model."),React.createElement("label",null,"Audio URL:"),React.createElement(Oe.i,null),React.createElement(xe.l,{name:"url",rows:1,value:t,onChange:n}),React.createElement(Oe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(Oe.i,null),React.createElement(xe.l,{rows:2,value:s,onChange:m,description:React.createElement(React.Fragment,null,"This optional prompt allows you to give more information about the audio transcript. More information ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/speech-to-text/prompting",target:"_blank"},"here"),".")}),React.createElement(Oe.i,null),React.createElement("label",null,"Mode:"),React.createElement(Oe.i,null),React.createElement(be.N,{fullWidth:!0,scrolldown:!0,value:a,onChange:o,description:React.createElement(React.Fragment,null,"For more information about languages support, have a look ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/speech-to-text/translations",target:"_blank"},"here"),".")},React.createElement(be.Z,{value:"transcription",label:"Transcription (Any Language)"}),React.createElement(be.Z,{value:"translation",label:"Transcription (Any Language) + Translation into English"})),React.createElement(Oe.i,{height:65}),React.createElement(b._,{fullWidth:!0,style:{height:40},onClick:y},"Transcribe"))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Transcription",className:"primary"},React.createElement(Oe.i,null),React.createElement(xe.l,{name:"context",rows:21,value:c,disabled:!c})))))};function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}var ua,sa,ma,fa;function da(e){return function(e){if(Array.isArray(e))return Ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ga(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function va(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==la(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===la(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||ga(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){if(e){if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(){ba=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==la(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function wa(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wa(o,r,a,i,c,"next",e)}function c(e){wa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xa=wp.element,Ta=xa.useMemo,Sa=xa.useState,_a=xa.useEffect,Na=G.ZP.div(ua||(ua=Oa(["\n  font-size: 12px;\n  border-bottom: 1px solid black;\n"]))),Pa=G.ZP.span(sa||(sa=Oa(["\n  font-weight: bold;\n  text-transform: uppercase;\n"]))),Ca=G.ZP.div(ma||(ma=Oa(["\n  font-size: 12px;\n  color: #bdb8b8;\n  background: #eeeeee;\n  padding: 2px 8px;\n"]))),ka=G.ZP.div(fa||(fa=Oa(["\n"]))),Aa=function(e){var t,n,r,a,o=e.message,i=null!=o&&null!==(t=o.extra)&&void 0!==t&&t.embeddings?null==o||null===(n=o.extra)||void 0===n?void 0:n.embeddings:null!=o&&null!==(r=o.extra)&&void 0!==r&&r.embedding?[null==o||null===(a=o.extra)||void 0===a?void 0:a.embedding]:[];return React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement(Na,null,React.createElement(Pa,null,o.type)),i&&React.createElement(Ca,null,i.map((function(e){return React.createElement("div",null,React.createElement("span",null,e.title)," (",React.createElement("span",null,(100*e.score.toFixed(4)).toFixed(2)),")")}))),React.createElement(ka,null,o.text))},La=[{accessor:"user",title:"User"},{accessor:"glance",title:"Preview (First & Last Message)"},{accessor:"messages",title:"#",width:"45px"},{accessor:"updated",title:"Last Update",width:"140px",sortable:!0}],Ia=function(){var e=Ra(ba().mark((function e(t){var n;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(S,"/chats"),{nonce:k,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,chats:n.chats}:{total:0,chats:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ma=function(){var e=Ra(ba().mark((function e(){var t,n,r=arguments;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(S,"/chats_delete"),{nonce:k,method:"POST",json:{chatIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const ja=function(){var e,t,n,r,a=(0,u.NL)(),o=ya(Sa({filters:null,sort:{accessor:"created",by:"desc"},page:1,limit:10}),2),i=o[0],c=o[1],l=ya(Sa(!1),2),s=l[0],m=l[1],f=ya(Sa(!1),2),d=f[0],p=f[1],v=(0,Pe.a)({queryKey:["chats",i],queryFn:function(){return Ia(i)},keepPreviousData:!0,refetchInterval:d?5e3:null}),y=v.isFetching,E=v.data,R=ya(Sa("all"),2),O=R[0],x=(R[1],ya(Sa([]),2)),T=x[0],S=x[1];_a((function(){c(ha(ha({},i),{},"all"===O?{filters:null}:{filters:{env:O}}))}),[O]);var _=Ta((function(){return(null==E?void 0:E.total)||0}),[E]),N=Ta((function(){return null!=E&&E.chats?null==E?void 0:E.chats.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n=new Date(e.created),r=(n=new Date(n.getTime()-60*n.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=new Date(e.updated),o=(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=JSON.parse(e.messages),c=JSON.parse(e.extra),l=null==i?void 0:i.filter((function(e){return"user"===e.type})),u=null!=l&&l.length?l[0].text:"",s=null!=l&&l.length?l[l.length-1].text:"";return{id:e.id,chatId:e.chatId,user:null!=c&&c.userId?React.createElement("a",{target:"_blank",href:"/wp-admin/user-edit.php?user_id=".concat(c.userId)},"ID ",c.userId):null==c?void 0:c.ip,messages:null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0,glance:React.createElement(React.Fragment,null,React.createElement("div",null,u),React.createElement("small",null,s)),extra:c.model,created:r,updated:o}})):[]}),[E]),P=Ta((function(){if(1!==(null==T?void 0:T.length))return null;var e=null==E?void 0:E.chats.find((function(e){return e.id===T[0]}));if(!e)return null;var t=[],n={};try{t=JSON.parse(e.messages),n=JSON.parse(e.extra)}catch(e){console.log(e)}return{id:e.id,chatId:e.chatId,messages:t,extra:n,created:e.created,updated:e.updated}}),[T,E]),C=function(){var e=Ra(ba().mark((function e(){var t,n;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),T.length){e.next=8;break}if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=5;break}return m(!1),e.abrupt("return");case 5:return e.next=7,Ma();case 7:a.invalidateQueries("chats");case 8:return t=null==E?void 0:E.chats.filter((function(e){return T.includes(e.id)})),n=t.map((function(e){return e.chatId})),e.next=12,Ma(n);case 12:S([]),a.invalidateQueries("chats"),m(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2}},React.createElement(w.v,{className:"primary",title:He.COMMON.DISCUSSIONS,action:React.createElement(React.Fragment,null,T.length>0&&React.createElement(React.Fragment,null,React.createElement(b._,{className:"danger",disabled:!1,onClick:C},T.length>1?He.COMMON.DELETE_SELECTED:He.COMMON.DELETE)),!T.length&&React.createElement(React.Fragment,null,React.createElement(b._,{className:"danger",disabled:!1,onClick:C},He.COMMON.DELETE_ALL)))},React.createElement(It.a,{busy:!d&&y||s,sort:i.sort,onSortChange:function(e,t){c(ha(ha({},i),{},{sort:{accessor:e,by:t}}))},data:N,columns:La,selectedItems:T,onSelectRow:function(e){S(e)},onSelect:function(e){S([].concat(da(T),da(e)))},onUnselect:function(e){S(da(T.filter((function(t){return!e.includes(t)}))))}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(h.P,{name:"auto-refresh",label:"Auto Refresh",value:"1",checked:d,onChange:function(){return p(!d)}}),React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Gt.Q,{currentPage:i.page,limit:i.limit,total:_,onClick:function(e){c(ha(ha({},i),{},{page:e}))}}),!d&&React.createElement(b._,{className:"primary",style:{marginLeft:5},disabled:y,onClick:function(){a.invalidateQueries({queryKey:["chats"]})}},He.COMMON.REFRESH)))))),React.createElement(g.z,{minimal:!0,style:{flex:1}},React.createElement(w.v,{className:"primary",title:"Selected Discussion",action:React.createElement(React.Fragment,null)},!P&&React.createElement("div",{style:{textAlign:"center",padding:10}},"No discussion selected."),null==P||null===(e=P.messages)||void 0===e?void 0:e.map((function(e,t){return React.createElement(Aa,{key:t,message:e})}))),!!P&&React.createElement(w.v,{className:"primary",title:"Information",action:React.createElement(React.Fragment,null)},React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{width:100,fontWeight:"bold"}},"Model"),React.createElement("div",null,null==P||null===(t=P.extra)||void 0===t?void 0:t.model)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{width:100,fontWeight:"bold"}},"Created"),React.createElement("div",null,null==P?void 0:P.created)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{width:100,fontWeight:"bold"}},"Updated"),React.createElement("div",null,null==P?void 0:P.updated)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{width:100,fontWeight:"bold"}},"IP"),React.createElement("div",null,null==P||null===(n=P.extra)||void 0===n?void 0:n.ip)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{width:100,fontWeight:"bold"}},"UserID"),React.createElement("div",null,null==P||null===(r=P.extra)||void 0===r?void 0:r.userId))))))};var Ga=n(7363);function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Ua(){Ua=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Fa(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function za(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var qa=["chat-openai.svg","chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"];const Ka=function(e){var t,n,r=e.themes,a=e.shortcodeParams,o=e.updateShortcodeParams,i=e.options,c=it(i),l=c.completionModels,u=c.isFineTunedModel,s=c.getModel,m=(null==i?void 0:i.pinecone)||{},f=null==i?void 0:i.shortcode_chat_inject,d=null!==(t="chat"===(null==a?void 0:a.mode))&&void 0!==t?t:"chat",p=null!==(n="images"===(null==a?void 0:a.mode))&&void 0!==n&&n,v=m.indexes||[],y=u(a.model),E=s(a.model),w=a.contentAware,O=a.context&&a.context.includes("{CONTENT}"),x=null!=a&&a.icon?null==a?void 0:a.icon:"chat-color-green.svg",T=(null==x?void 0:x.startsWith("https://"))||(null==x?void 0:x.startsWith("http://")),S=T?x:"".concat(_,"/images/").concat(x),N=function(){var e,t=(e=Ua().mark((function e(t){var n;return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("http://")&&!t.startsWith("https://")){e.next=6;break}return n=Ba(Ba({},shortcodeStyles),{},{icon:t}),e.next=4,onUpdateSettings(n,"shortcode_chat_styles");case 4:e.next=7;break;case 6:alert("Please enter a valid URL.");case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ha(o,r,a,i,c,"next",e)}function c(e){Ha(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(Xn,null,React.createElement("h4",{className:"mwai-category",style:{marginTop:0}},He.COMMON.MAIN_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(we.A,{name:"name","data-form-type":"other",disabled:"default"===a.chatId,value:a.name,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(we.A,{name:"chatId",type:"text",placeholder:"Optional",disabled:"default"===a.chatId,value:a.chatId,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.THEME,":"),React.createElement(be.N,{scrolldown:!0,name:"themeId",value:a.themeId,description:"",onChange:o},React.createElement(be.Z,{value:"none",label:"None"}),React.createElement(be.Z,{value:"chatgpt",label:"ChatGPT"}),null==r?void 0:r.filter((function(e){return"css"===e.type})).map((function(e){return React.createElement(be.Z,{key:e.themeId,value:e.themeId,label:e.name})}))))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===(null==a?void 0:a.mode)?76:"inherit"}},React.createElement("label",null,He.COMMON.MODE,":"),React.createElement(be.N,{scrolldown:!0,id:"mode",name:"mode",value:null==a?void 0:a.mode,onChange:o},React.createElement(be.Z,{value:"chat",label:"Chat"}),React.createElement(be.Z,{value:"images",label:"Images"}))),d&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(xe.l,{name:"context",rows:4,value:a.context,onBlur:o,onEnter:o})),p&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.IMAGES_NUMBER,":"),React.createElement(we.A,{name:"maxResults",type:"number",value:a.maxResults,onBlur:o,onEnter:o}))),React.createElement("h4",{className:"mwai-category"},He.COMMON.VISUAL_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.AI_NAME,":"),React.createElement(we.A,{name:"aiName","data-form-type":"other",value:a.aiName,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.START_SENTENCE,":"),React.createElement(we.A,{name:"startSentence",value:a.startSentence,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.USER_NAME,":"),React.createElement(we.A,{name:"userName","data-form-type":"other",value:a.userName,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.PLACEHOLDER,":"),React.createElement(we.A,{name:"textInputPlaceholder",value:a.textInputPlaceholder,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.SEND,":"),React.createElement(we.A,{name:"textSend",value:a.textSend,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.CLEAR,":"),React.createElement(we.A,{name:"textClear",value:a.textClear,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.COPY_BUTTON,":"),React.createElement(h.P,{name:"copyButton",label:"Yes",checked:a.copyButton,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:a.window,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:a.fullscreen,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.COMPLIANCE_TEXT,":"),React.createElement(we.A,{name:"textCompliance",value:a.textCompliance,onBlur:o,onEnter:o}))),(a.window||!a.aiName)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginTop:10,border:"2px solid #d2e4f3",borderRadius:8,padding:"10px 10px 10px 10px",background:"#f5fcff"}},React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.AI_AVATAR,":"),React.createElement("div",{style:{display:"flex"}},qa.map((function(e){return React.createElement("img",{style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(_,"/images/").concat(e),onClick:function(){o(e,"icon")}})})),React.createElement(b._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){o("".concat(_,"/images/chat-color-green.svg"),"icon")}},He.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:0},width:48,height:48,src:"".concat(S)}))),T&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CUSTOM_ICON_URL,":"),React.createElement(we.A,{id:"icon",name:"icon",value:x,onBlur:N,onEnter:N}))))),a.window&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"mwai-category"},He.COMMON.POPUP_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.POSITION,":"),React.createElement(be.N,{scrolldown:!0,name:"iconPosition",disabled:!a.window,value:a.iconPosition,onChange:o},React.createElement(be.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(be.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(be.Z,{value:"top-right",label:"Top Right"}),React.createElement(be.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ICON_TEXT,":"),React.createElement(we.A,{name:"iconText",disabled:!a.window,placeholder:"If set, appears next to icon",value:a.iconText,onBlur:o,onEnter:o})))),React.createElement("h4",{className:"mwai-category"},He.COMMON.AI_SETTINGS),d&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(be.N,{scrolldown:!0,name:"model",value:a.model,description:"",onChange:o},l.map((function(e){return React.createElement(be.Z,{value:e.model,label:e.name})})))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.CASUALLY_FINE_TUNED,":"),React.createElement(h.P,{name:"casuallyFineTuned",label:"Yes",disabled:!y&&!a.casuallyFineTuned,checked:a.casuallyFineTuned,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:a.temperature,onBlur:o,onEnter:o}))),d&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",type:"number",min:"10",max:"2048",value:a.maxTokens,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.SENTENCES_BUFFER,":"),React.createElement(we.A,{name:"maxSentences",step:"1",min:"1",max:"512",value:a.maxSentences,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.INPUT_MAXLENGTH,":"),React.createElement(we.A,{name:"textInputMaxLength",step:"1",min:"1",max:"512",value:a.textInputMaxLength,onBlur:o,onEnter:o}))),d&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(be.N,{scrolldown:!0,name:"embeddingsIndex",requirePro:!0,isPro:C,disabled:!(null!=v&&v.length)||"chat"!==(null==E?void 0:E.mode),value:a.embeddingsIndex,onChange:o},v.map((function(e){return React.createElement(be.Z,{value:e.name,label:e.name})})),React.createElement(be.Z,{value:"",label:"Disabled"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"contentAware",label:"Yes",requirePro:!0,isPro:C,checked:a.contentAware,value:"1",onChange:o}))),f&&!a.window&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_INJECT_BUT_NO_POPUP)),y&&!a.casuallyFineTuned&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_FINETUNE_BUT_NO_CASUALLY)),!y&&a.casuallyFineTuned&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_CASUALLY_BUT_NO_FINETUNE)),w&&!O&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(He.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT)))))))};var Za=n(3379),Ya=n.n(Za),Qa=n(7795),Wa=n.n(Qa),Xa=n(569),Va=n.n(Xa),Ja=n(6636),$a=n.n(Ja),eo=n(9216),to=n.n(eo),no=n(4589),ro=n.n(no),ao=n(2753),oo={};oo.styleTagTransform=ro(),oo.setAttributes=$a(),oo.insert=Va().bind(null,"head"),oo.domAPI=Wa(),oo.insertStyleElement=to(),Ya()(ao.Z,oo);const io=ao.Z&&ao.Z.locals?ao.Z.locals:void 0;var co=n(9454),lo={};lo.styleTagTransform=ro(),lo.setAttributes=$a(),lo.insert=Va().bind(null,"head"),lo.domAPI=Wa(),lo.insertStyleElement=to(),Ya()(co.Z,lo);const uo=co.Z&&co.Z.locals?co.Z.locals:void 0;function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==so(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===so(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){return function(e){if(Array.isArray(e))return go(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||yo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){if(e){if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eo=wp.element,bo=Eo.useState,wo=Eo.useMemo,Ro=Eo.useEffect,Oo=Eo.useCallback,xo=Eo.useRef;function To(e){return 0===e.indexOf("http")}function So(){return Math.random().toString(36).substring(2)}const _o=function(e){var t,n,r,a,o,i,c,l,u,s,m,f,d,p,h,v,y,g,E,b,w,R,O,x,T=e.system,S=e.params,_=e.theme,N=e.style,P=vo(bo([]),2),C=P[0],k=P[1],A=vo(bo(!1),2),L=A[0],I=A[1],M=function(){var e=vo(bo(null),2),t=e[0],n=e[1],r=xo(null);return Ro((function(){return function(){clearInterval(r.current)}}),[]),{timeElapsed:t,startChrono:function(){if(null===r.current){var e=Date.now();r.current=setInterval((function(){var t,r,a,o=Math.floor((Date.now()-e)/1e3);n((t=o,r=Math.floor(t/60),a=t%60,"".concat(r,":").concat(a.toString().padStart(2,"0"))))}),500)}},stopChrono:function(){clearInterval(r.current),r.current=null,n(null)}}}(),j=M.timeElapsed,G=M.startChrono,F=M.stopChrono,U=xo(),D=vo(bo(So()),2),B=D[0],z=D[1],H=vo(bo(""),2),q=H[0],K=H[1],Z=vo(bo(!1),2),Y=Z[0],Q=Z[1],W=vo(bo(!0),2),X=W[0],V=W[1],J=(null==_?void 0:_.settings)||{},$=function(e){return{modCss:wo((function(){return function(t,n){var r=io;return e&&"none"!==e.themeId&&"css"!==e.type||(r=null),"iosdark"===(null==e?void 0:e.themeId)&&(r=uo),Array.isArray(t)||(t=[t]),n&&Object.entries(n).forEach((function(e){var n=vo(e,2),r=n[0];n[1]&&t.push(r)})),t.map((function(e){return r?r[e]?"".concat(e," ").concat(r[e]):(console.warn('The class name "'.concat(e,'" is not defined in the CSS theme.')),e):e})).join(" ")}}),[e])}}(_),ee=$.modCss,te=document.innerWidth<=768,ne=S.chatId||T.chatId,re=(null==ne||ne.replace(/[^a-zA-Z0-9]/g,""),T.userData),ae=T.sessionId,oe=T.restNonce,ie=T.pluginUrl,ce=T.restUrl,le=T.debugMode,ue=(null==T?void 0:T.typewriter,null!==(t=null===(n=S.guestName)||void 0===n?void 0:n.trim())&&void 0!==t?t:""),se=null!==(r=null===(a=S.textSend)||void 0===a?void 0:a.trim())&&void 0!==r?r:"",me=null!==(o=null===(i=S.textClear)||void 0===i?void 0:i.trim())&&void 0!==o?o:"",fe=parseInt(S.textInputMaxLength),de=null!==(c=null===(l=S.textInputPlaceholder)||void 0===l?void 0:l.trim())&&void 0!==c?c:"",pe=null!==(u=null===(s=S.textCompliance)||void 0===s?void 0:s.trim())&&void 0!==u?u:"",he=null!==(m=null===(f=S.startSentence)||void 0===f?void 0:f.trim())&&void 0!==m?m:"",ve=Boolean(S.window),ye=Boolean(S.copyButton),ge=Boolean(S.fullscreen),Ee=null!==(d=null===(p=S.icon)||void 0===p?void 0:p.trim())&&void 0!==d?d:"",be=null!==(h=null===(v=S.iconText)||void 0===v?void 0:v.trim())&&void 0!==h?h:"",we=null!==(y=null===(g=S.iconAlt)||void 0===g?void 0:g.trim())&&void 0!==y?y:"",Re=null!==(E=null===(b=S.iconPosition)||void 0===b?void 0:b.trim())&&void 0!==E?E:"",Oe=null!==(w=null===(R=S.aiName)||void 0===R?void 0:R.trim())&&void 0!==w?w:"",xe=null!==(O=null===(x=S.userName)||void 0===x?void 0:x.trim())&&void 0!==O?O:"",Te=wo((function(){return"css"===(null==_?void 0:_.type)?null==_?void 0:_.style:null}),[_]),Se=wo((function(){var e={},t=ie+"/images/chat-green.svg";for(var n in Ee&&(t=To(Ee)?Ee:ie+"/images/"+Ee),J)e["--mwai-".concat(n)]=J[n];return{cssVariables:e,iconUrl:t}}),[Ee,ie,J]),_e=Se.cssVariables,Ne=Se.iconUrl;Oe=function(e,t,n){if(e)e=To(e)?React.createElement("div",{className:ee("mwai-avatar")},React.createElement("img",{src:e})):React.createElement("div",{className:ee("mwai-name-text")},e);else{var r=n||"".concat(t,"/images/chat-openai.svg");e=React.createElement("div",{className:ee(["mwai-avatar"])},React.createElement("img",{src:"".concat(r)}))}return e}(Oe,ie,Ne),xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return e?To(e)?e=React.createElement("div",{className:ee(["mwai-avatar"])},React.createElement("img",{src:e})):(e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length>2?arguments[2]:void 0;if(0===Object.keys(n).length)return e;for(var r=0,a=Object.entries(n);r<a.length;r++){var o=vo(a[r],2),i=o[0],c=o[1],l="{".concat(i,"}");e.includes(l)&&(e=e.replace(l,c))}return e||t}(e,t,n),e=React.createElement("div",{className:ee(["mwai-name-text"])},e)):e=n?React.createElement("div",{className:ee(["mwai-avatar"])},React.createElement("img",{src:n.AVATAR_URL})):React.createElement("div",{className:ee(["mwai-avatar","mwai-svg"])},React.createElement("img",{src:"".concat(r,"/images/avatar-user.svg")})),e}(xe,ue,re,ie);var Pe="AI: ";Ro((function(){Ce()}),[]);var Ce=Oo((function(){ke()})),ke=function(){k(he?function(e){return[{id:So(),role:"assistant",content:he,who:Pe,html:he,timestamp:(new Date).getTime()}]}:[])},Ae=function(){I(!0),G(),k((function(e){return[].concat(ho(e),[{id:So(),role:"user",content:q,who:"User: ",html:q,timestamp:(new Date).getTime()}])}));var e={chatId:ne,session:ae,clientId:B,messages:C,newMessage:q};le&&console.log("[BOT] Sent: ",e),fetch("".concat(ce,"/mwai-bot/v1/chat"),{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(le&&console.log("[BOT] Recv: ",e),e.success){var t=e.images?e.images:e.html;k((function(n){return[].concat(ho(n),[{id:So(),role:"assistant",content:e.answer,who:Pe,html:t,timestamp:(new Date).getTime()}])}))}else k((function(t){return[].concat(ho(t),[{id:So(),role:"system",content:e.message,who:Pe,html:e.message,timestamp:(new Date).getTime()}])}));I(!1),F(),te||U.current.focus()})).catch((function(e){console.error(e),I(!1),F()})),K("")},Le=ee("mwai-chat",{"mwai-window":ve,"mwai-open":Y,"mwai-fullscreen":!X,"mwai-bottom-left":"bottom-left"===Re,"mwai-top-right":"top-right"===Re,"mwai-top-left":"top-left"===Re}),Ie=q.length<1&&(null==C?void 0:C.length)>1;return React.createElement(React.Fragment,null,React.createElement("div",{className:Le,style:fo(fo({},_e),N)},Te&&React.createElement("style",null,Te),ve&&React.createElement(React.Fragment,null,React.createElement("div",{className:ee("mwai-open-button")},be&&React.createElement("div",{className:ee("mwai-icon-text")},be),React.createElement("img",{width:"64",height:"64",alt:we,src:Ne,onClick:function(){return Q(!Y)}})),React.createElement("div",{className:ee("mwai-header")},React.createElement("div",{className:ee("mwai-buttons")},ge&&React.createElement("div",{className:ee("mwai-resize-button"),onClick:function(){return V(!X)}}),React.createElement("div",{className:ee("mwai-close-button"),onClick:function(){return Q(!Y)}})))),React.createElement("div",{className:ee("mwai-content")},React.createElement("div",{className:ee("mwai-conversation")},C.map((function(e){return React.createElement("div",{className:ee("mwai-reply",{"mwai-ai":"assistant"===e.role,"mwai-user":"user"===e.role})},React.createElement("span",{className:ee("mwai-name")},"assistant"===e.role&&Oe,"user"===e.role&&xe),React.createElement("span",{className:ee("mwai-text"),dangerouslySetInnerHTML:{__html:e.html}}),ye&&React.createElement("div",{className:ee("mwai-copy-button")},React.createElement("div",{className:ee("mwai-copy-button-one")}),React.createElement("div",{className:ee("mwai-copy-button-two")})))}))),React.createElement("div",{className:ee("mwai-input")},React.createElement("textarea",{ref:U,disabled:L,rows:"1",maxLength:fe,placeholder:de,value:q,onKeyPress:function(e){13!==e.charCode||q||e.shiftKey?13===e.charCode&&q&&!e.shiftKey&&(Ae(),e.preventDefault()):e.preventDefault()},onKeyDown:function(e){},onKeyUp:function(e){},onChange:function(e){return K(e.target.value)}}),React.createElement("button",{disabled:L,onClick:Ie?function(){z(So()),localStorage.removeItem("mwai-chat-".concat(ne)),ke(),K("")}:Ae},React.createElement("span",null,Ie?me:se),j&&React.createElement("div",{className:ee("mwai-timer")},j))),pe&&React.createElement("div",{className:ee("mwai-compliance")},pe))))},No=function(e){var t,n,r,a,o,i,c,l,u,s,m,f,d,p=e.settings,h=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(Xn,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(we.A,{id:"spacing",name:"spacing",value:null!==(t=null==p?void 0:p.spacing)&&void 0!==t?t:"15px",onBlur:h,onEnter:h})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(we.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==p?void 0:p.borderRadius)&&void 0!==n?n:"10px",onBlur:h,onEnter:h})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(we.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==p?void 0:p.fontSize)&&void 0!==r?r:"15px",onBlur:h,onEnter:h})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==p?void 0:p.fontColor)&&void 0!==a?a:"#FFFFFF",onBlur:h,onEnter:h}),React.createElement(ir,{id:"fontColor",name:"fontColor",value:null!==(o=null==p?void 0:p.fontColor)&&void 0!==o?o:"#FFFFFF",onChange:h})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(i=null==p?void 0:p.backgroundPrimaryColor)&&void 0!==i?i:"#454654",onBlur:h,onEnter:h}),React.createElement(ir,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(c=null==p?void 0:p.backgroundPrimaryColor)&&void 0!==c?c:"#454654",onChange:h,onEnter:h}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(l=null==p?void 0:p.backgroundSecondaryColor)&&void 0!==l?l:"#343541",onBlur:h,onEnter:h}),React.createElement(ir,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(u=null==p?void 0:p.backgroundSecondaryColor)&&void 0!==u?u:"#343541",onChange:h,onEnter:h}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(s=null==p?void 0:p.headerButtonsColor)&&void 0!==s?s:"#FFFFFF",onBlur:h,onEnter:h}),React.createElement(ir,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(m=null==p?void 0:p.headerButtonsColor)&&void 0!==m?m:"#FFFFFF",onChange:h,onEnter:h})))),React.createElement("h4",{className:"mwai-category"},He.COMMON.POPUP),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(we.A,{id:"width",name:"width",value:null!==(f=null==p?void 0:p.width)&&void 0!==f?f:"460px",onBlur:h,onEnter:h})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(we.A,{id:"maxHeight",name:"maxHeight",value:null!==(d=null==p?void 0:p.maxHeight)&&void 0!==d?d:"40vh",onBlur:h,onEnter:h}))),React.createElement("p",null,(0,R.io)(He.SETTINGS.CHATGPT_STYLE_INTRO))))};function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Co=function(e){var t,n,r=e.theme,a=e.onUpdateTheme,o=(t=(0,Ga.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];(0,Ga.useEffect)((function(){c(r.style)}),[r]);var l=(0,Ga.useMemo)((function(){return i!==r.style}),[i,r]);return React.createElement(Xn,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(we.A,{name:"name","data-form-type":"other",value:r.name,onBlur:a,onEnter:a})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(we.A,{name:"themeId",type:"text",placeholder:"Optional",value:r.themeId,onBlur:a,onEnter:a})))),React.createElement(Oe.i,null),React.createElement("label",null,"Custom CSS:"),React.createElement(xe.l,{name:"css",value:i,onChange:c,rows:16,tabToSpaces:2}),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{fullWidth:!0,onClick:function(){c(".mwai-chat {\n  --mwai-spacing: 10px;\n  --mwai-fontSize: 13px;\n  --mwai-fontColor: black;\n  --mwai-backgroundPrimaryColor: white;\n  --mwai-primaryColor: #0084ff;\n  --mwai-secondaryColor: #f0f0f0;\n}\n\n.mwai-chat * {\n  box-sizing: border-box;\n}\n\n.mwai-content {\n  background: var(--mwai-backgroundPrimaryColor);\n  padding: var(--mwai-spacing);\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n}\n\n.mwai-conversation {\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n\n.mwai-conversation .mwai-reply {\n  margin-bottom: var(--mwai-spacing);\n  padding: 5px 10px;\n  border-radius: 15px;\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n  min-width: 30%;\n}\n\n.mwai-conversation .mwai-reply *:first-child {\n  margin-top: 0px;\n}\n\n.mwai-conversation .mwai-reply *:last-child {\n  margin-bottom: 0px;\n}\n\n.mwai-conversation .mwai-reply.mwai-ai {\n  align-self: flex-start;\n  background: var(--mwai-secondaryColor);\n}\n\n.mwai-conversation .mwai-reply.mwai-user {\n  align-self: flex-end;\n  background: var(--mwai-primaryColor);\n  color: white;\n}\n\n.mwai-conversation .mwai-avatar img {\n  width: 24px;\n  border-radius: 5px;\n}\n\n.mwai-conversation .mwai-reply.mwai-user .mwai-avatar {\n  text-align: right;\n}\n\n.mwai-input {\n  display: flex;\n  align-items: center;\n}\n\n.mwai-input textarea {\n  flex: auto;\n  padding: 5px 10px;\n  height: 32px;\n  font-family: inherit;\n}\n\n.mwai-input button {\n  margin-left: var(--mwai-spacing);\n  padding: 5px 15px;\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  height: 32px;\n  width: 110px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.mwai-input button:hover {\n  filter: brightness(1.2);\n}\n\n.mwai-compliance {\n  margin-top: 5px;\n  font-size: 12px;\n}\n\n.mwai-chat.mwai-window {\n  position: fixed;\n  right: 15px;\n  bottom: 15px;\n  width: 400px;\n  z-index: 9999;\n}\n\n.mwai-chat.mwai-window .mwai-header {\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button {\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--mwai-backgroundSecondaryColor);\n  border-radius: var(--mwai-borderRadius);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:before {\n  transition: all 0.2s ease-out;\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 13px;\n  width: 13px;\n  opacity: 0.75;\n  border: 2px solid black;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n  width: 16px;\n  height: 16px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button {\n  margin-left: 5px;\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before, .mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 22px;\n  width: 2px;\n  background: black;\n  opacity: 0.75;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:before {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(135deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:after {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-content {\n  display: none;\n  opacity: 0;\n  max-height: 40vh;\noverflow: hidden;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left {\n  bottom: 30px;\n  right: inherit;\n  left: 30px;\n}\n\n.mwai-chat .mwai-open-button {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  transition: all 0.2s ease-out;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n  cursor: pointer;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left .mwai-open-button {\n  right: inherit;\n  left: 0;\n}\n\n.mwai-chat.mwai-window.mwai-top-right {\n  top: 30px;\n  bottom: inherit;\n  right: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-right .mwai-open-button {\n  top: 0;\n  bottom: inherit;\n}\n\n.mwai-chat.mwai-window.mwai-top-left {\n  top: 30px;\n  bottom: inherit;\n  right: inherit;\n  left: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-left .mwai-open-button {\n  top: 0;\n  bottom: inherit;\n  right: inherit;\n  left: 0;\n}\n\n.mwai-chat .mwai-gallery {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 5px;\n}\n\n.mwai-chat .mwai-gallery img {\n  width: 100%;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons {\n  margin-bottom: 0px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:before {\n  width: 16px;\n  height: 16px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n  width: 13px;\n  height: 13px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-close-button {\n  margin-left: -5px;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window), .mwai-chat.mwai-fullscreen.mwai-window.mwai-open {\n  position: fixed;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  top: 0 !important;\n  width: inherit;\n  height: inherit;\n  max-height: inherit;\n  max-width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  z-index: 999999;\n  background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content {\n  height: 100%;\n  max-height: inherit;\n  border-radius: inherit;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content .mwai-conversation, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content .mwai-conversation {\n  flex: auto;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-header {\n  display: flex;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-content {\n  display: block;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-open-button {\n  display: none;\n}")}},"Default CSS"),React.createElement(b._,{fullWidth:!0,onClick:function(){a(i,"style")},disabled:!l},"Apply CSS")))};function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mo=function(e){var t,n=e.theme,r=e.updateTheme,a=e.resetTheme;return React.createElement(React.Fragment,null,"internal"===n.type&&"chatgpt"===n.themeId&&React.createElement(No,{settings:null!==(t=n.settings)&&void 0!==t?t:[],onUpdateSettings:function(e,t){var a=Lo(Lo({},n.settings),{},Io({},t,e));r(a,"settings")}}),"internal"!==n.type&&React.createElement(Co,{theme:n,onUpdateTheme:r}),React.createElement(Oe.i,{line:!0,medium:!0}),React.createElement(b._,{fullWidth:!0,className:"danger",onClick:function(){a()}},"Reset Theme"))};function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Go(){Go=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==jo(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Fo(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==jo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==jo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zo(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zo(o,r,a,i,c,"next",e)}function c(e){zo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yo=wp.element,Qo=Yo.useState,Wo=Yo.useMemo;const Xo=function(e){var t=(0,u.NL)(),n=e.onSwitchTheme,r=void 0===n?function(){}:n,a=qo(Qo(!1),2),o=a[0],i=a[1],c=qo(Qo(0),2),l=c[0],s=c[1],m=(0,Pe.a)({queryKey:["themes"],queryFn:Jt,initialData:I}).data,f=Wo((function(){if(m)return m[l]||null}),[m,l]),d=function(){var e=Ho(Go().mark((function e(n,r){var a,o;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a=Do(Do({},f),{},Bo({},r,n)),(o=Fo(m))[l]=a,e.next=7,$t(o);case 7:o=e.sent,t.setQueryData(["themes"],o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:i(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Ho(Go().mark((function e(){var n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,$t([].concat(Fo(m),[{type:"css",name:"Theme "+(m.length+1),themeId:"theme-"+(m.length+1),settings:[],style:""}]));case 4:n=e.sent,t.setQueryData(["themes"],n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Ho(Go().mark((function e(){var n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),(n=Fo(m)).splice(l,1),e.next=5,$t(n);case 5:return e.next=7,t.setQueryData(["themes"],n);case 7:i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Ho(Go().mark((function e(){var n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),(n=Fo(m))[l]={type:n[l].type,name:n[l].name,themeId:n[l].themeId,settings:[],style:""},e.next=5,$t(n);case 5:return e.next=7,t.setQueryData(["themes"],n);case 7:i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(E.c,{inversed:!0,onChange:function(e){var t;s(e),null!==(t=m[e])&&void 0!==t&&t.themeId&&r(m[e].themeId)},currentTab:l,action:React.createElement(React.Fragment,null,React.createElement(b._,{className:"primary-block",icon:"plus",onClick:p}),f&&"internal"!==f.type&&React.createElement(b._,{className:"danger",icon:"delete",onClick:h}))},null==m?void 0:m.map((function(e){return React.createElement(E.P,{key:e.themeId,title:e.name,busy:o},React.createElement(Mo,{theme:e,updateTheme:d,resetTheme:v}))}))))};function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}var Jo;function $o(e){return function(e){if(Array.isArray(e))return li(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Vo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(){ri=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Vo(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function ai(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function oi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ai(o,r,a,i,c,"next",e)}function c(e){ai(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||ci(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){if(e){if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ui=G.ZP.div(Jo||(Jo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  \n  pre {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f8fcff;\n    height: 26px;\n    color: #779bb8;\n    margin: 0px;\n    padding: 0px 10px;\n    font-size: 13px;\n    text-align: center;\n    border: 2px solid rgb(210 228 243);\n    border-radius: 8px;\n    font-family: system-ui;\n    cursor: pointer;\n    width: 240px;\n  }\n"]))),si=function(e){var t=e.currentChatbot,n=ii((0,Ga.useState)(null),2),r=n[0],a=n[1],o=function(){var e=oi(ri().mark((function e(){var n;return ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='[mwai_chatbot_v2 id="'.concat(null==t?void 0:t.chatId,'"]'),e.next=3,navigator.clipboard.writeText(n);case 3:a("Copied!"),setTimeout((function(){a(null)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!t)return null;var i=React.createElement("span",null,'[mwai_chatbot_v2 id="',React.createElement("span",{style:{color:"var(--neko-green)"}},null==t?void 0:t.chatId),'"]');return React.createElement(React.Fragment,null,React.createElement("pre",{onClick:o},!r&&i,r&&React.createElement("span",null,r)))};const mi=function(e){var t=(0,u.NL)(),n=(0,s.r)().colors,r=e.options,a=e.updateOption,o=ii((0,Ga.useState)("chatbots"),2),i=o[0],c=o[1],l=ii((0,Ga.useState)(!1),2),m=l[0],f=l[1],d=ii((0,Ga.useState)(0),2),p=d[0],h=d[1],v=null==r?void 0:r.chatbot_defaults,y=(0,Pe.a)({queryKey:["chatbots"],queryFn:Xt,initialData:M}).data,w=(0,Pe.a)({queryKey:["themes"],queryFn:Jt,initialData:I}).data,R=(0,Ga.useMemo)((function(){if(y)return y[p]||null}),[y,p]),O=(0,Ga.useMemo)((function(){if(R&&"none"===R.themeId)return null;var e=w&&w.find((function(e){return"chatgpt"===e.themeId}));return w&&R&&w.find((function(e){return e.themeId===(null==R?void 0:R.themeId)}))||e}),[R,w]),x=function(){var e=oi(ri().mark((function e(n,r){var a,o;return ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),a=ti(ti({},R),{},ni({},r,n)),(o=$o(y))[p]=a,e.next=6,Vt(o);case 6:o=e.sent,t.setQueryData(["chatbots"],o),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=oi(ri().mark((function e(){var n;return ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Vt([].concat($o(y),[ti(ti({},v),{},{chatId:"chatbot-"+(y.length+1),name:"Chatbot "+(y.length+1)})]));case 3:n=e.sent,t.setQueryData(["chatbots"],n),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=oi(ri().mark((function e(){var n;return ri().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),(n=$o(y)).splice(p,1),e.next=5,Vt(n);case 5:n=e.sent,t.setQueryData(["chatbots"],n),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0,style:{margin:10}},React.createElement(Re.H,{contentStyle:{padding:10,marginBottom:-20}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Lt.Q,{style:{marginRight:10},disabled:m,onLabel:He.COMMON.THEMES,offLabel:He.COMMON.CHATBOTS,width:110,onValue:"themes",offValue:"chatbots",checked:"themes"===i,onChange:c,onBackgroundColor:n.purple,offBackgroundColor:n.green}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(ui,null,React.createElement(si,{currentChatbot:R}))))),React.createElement(g.z,{minimal:!0,style:{margin:10}},React.createElement("div",{style:{display:"chatbots"===i?"block":"none"}},React.createElement(E.c,{inversed:!0,onChange:function(e){h(e)},action:React.createElement(React.Fragment,null,React.createElement(b._,{className:"primary-block",icon:"plus",onClick:P}),R&&"default"!==R.chatId&&React.createElement(b._,{className:"danger",icon:"delete",onClick:C}))},null==y?void 0:y.map((function(e){return React.createElement(E.P,{key:e.chatId,title:e.name,busy:m},React.createElement(Ka,{options:r,themes:w,shortcodeParams:e,updateShortcodeParams:x}))})))),React.createElement("div",{style:{display:"themes"===i?"block":"none"}},React.createElement(Xo,{themes:w,options:r,updateOption:a,onSwitchTheme:function(e){}}))),React.createElement(g.z,{minimal:!0},React.createElement("div",{style:{position:"relative",margin:"15px 10px 10px 10px",minHeight:480,borderRadius:5,padding:10,border:"2px dashed rgb(0 0 0 / 20%)",background:"rgb(0 0 0 / 5%)"}},!!R&&React.createElement(_o,{system:{sessionId:L,restNonce:k,debugMode:null==r?void 0:r.debug_mode,apiUrl:S,restUrl:T,pluginUrl:_,userData:N,typewriter:null==r?void 0:r.shortcode_chat_typewriter},params:R,theme:O,style:R.window?{position:"absolute"}:{}})),React.createElement("div",{style:{marginLeft:10,fontSize:11}},"This is the actual chatbot, but there might be some differences when run on your front-end, depending on your theme and the other plugins you use."))))};function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(){hi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==fi(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ei(o,r,a,i,c,"next",e)}function c(e){Ei(o,r,a,i,c,"throw",e)}i(void 0)}))}}var wi=wp.element,Ri=wi.useMemo,Oi=wi.useState,xi=wi.useEffect,Ti=["chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"],Si=function(){var e=bi(hi().mark((function e(){var t,n;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/openai_incidents"),{nonce:k});case 2:if(null==(t=e.sent)||!t.incidents){e.next=6;break}return n=t.incidents.map((function(e){var t=e.date,n=(t=new Date(1e3*t)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});return yi(yi({},e),{},{date:n})})),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const _i=function(){var e,t,n,r,a,o,i,c,l,u,s,m,y,T,N,L,I,M,j=di(Oi(A),2),G=j[0],F=j[1],U=di(Oi(null),2),D=U[0],B=U[1],z=di(Oi(!1),2),H=z[0],q=z[1],K=di(Oi("users"),2),Z=K[0],Y=K[1],Q=it(G),W=Q.completionModels,X=Q.isFineTunedModel,V=Q.getModel,J=null==G?void 0:G.shortcode_chat_default_params,$=null==G?void 0:G.shortcode_chat_params,ee=null==G?void 0:G.shortcode_chat_styles,te=null==G?void 0:G.shortcode_chat_params_override,ne=null==G?void 0:G.shortcode_chat_inject,re=null==G?void 0:G.module_suggestions,ae=null==G?void 0:G.module_woocommerce,oe=null==G?void 0:G.module_forms,ie=null==G?void 0:G.module_finetunes,ce=null==G?void 0:G.module_statistics,le=null==G?void 0:G.module_playground,ue=null==G?void 0:G.module_generator_content,se=null==G?void 0:G.module_generator_images,me=null==G?void 0:G.module_moderation,fe=null==G?void 0:G.module_embeddings,de=null==G?void 0:G.module_audio,pe=null==G?void 0:G.limits,he=null==G?void 0:G.default_limits,ve=null==G?void 0:G.shortcode_chat,ye=null==G?void 0:G.shortcode_chat_formatting,ge=null==G?void 0:G.shortcode_chat_logs,Ee=null==G?void 0:G.openai_service,Ce=null!=G&&G.openai_apikey?null==G?void 0:G.openai_apikey:"",ke=null!=G&&G.openai_azure_endpoint?null==G?void 0:G.openai_azure_endpoint:"",Ae=null!=G&&G.openai_azure_apikey?null==G?void 0:G.openai_azure_apikey:"",Le=null!=G&&G.openai_azure_deployment?null==G?void 0:G.openai_azure_deployment:"",Ie=null==G?void 0:G.pinecone,Me=null==G?void 0:G.shortcode_chat_syntax_highlighting,je=null==G?void 0:G.shortcode_chat_typewriter,Ge=null==G?void 0:G.shortcode_chat_discussions,Fe=null==G?void 0:G.debug_mode,Ue=null==G?void 0:G.dynamic_max_tokens,Be=null==G?void 0:G.banned_ips,ze=null==G?void 0:G.banned_words,qe=null!==(e=null==G?void 0:G.admin_bar)&&void 0!==e?e:["settings"],Ke=null==G?void 0:G.resolve_shortcodes,Ze=null!==(t="chat"===(null==$?void 0:$.mode))&&void 0!==t?t:"chat",Ye=null!==(n="images"===(null==$?void 0:$.mode))&&void 0!==n&&n,Qe=null!=ee&&ee.icon?null==ee?void 0:ee.icon:"chat-color-green.svg",We=(null==Qe?void 0:Qe.startsWith("https://"))||(null==Qe?void 0:Qe.startsWith("http://")),Xe=We?Qe:"".concat(_,"/images/").concat(Qe),Ve=(0,Pe.a)({queryKey:["openAI_status"],queryFn:Si}),Je=Ve.isLoading,$e=Ve.data,et=Ie.indexes||[],tt=X($.model),nt=V($.model),rt=$.content_aware,ot=$.context&&$.context.includes("{CONTENT}"),ct=Ri((function(){return null==$e?void 0:$e.filter((function(e){return new Date(e.date)>new Date(Date.now()-864e5)})).length}),[$e]),lt=H,ut=Ri((function(){var e={};if(te)return e;for(var t in J)J[t]!==$[t]&&(e[t]=$[t]);return Ze&&(delete e.mode,delete e.max_results),Ye&&(delete e.context,delete e.content_aware,delete e.casually_fine_tuned,delete e.model,delete e.max_tokens,delete e.temperature),e}),[te,J,$]),st=Ri((function(){var e=[];for(var t in ut)if(void 0!==$[t]){var n=$[t];n&&"string"==typeof n&&n.includes('"')&&(n=n.replace(/"/g,"'")),n&&"string"==typeof n&&n.includes("\n")&&(n=n.replace(/\n/g,"\\n")),n&&"string"==typeof n&&n.includes("[")&&(n=n.replace(/\[/g,"&#91;")),n&&"string"==typeof n&&n.includes("]")&&(n=n.replace(/\]/g,"&#93;")),e.push("".concat(t,'="').concat(n,'"'))}var r=e.join(" ");return"[mwai_chat"+(r?" ".concat(r):"")+"]"}),[ut]),mt=function(){var e=bi(hi().mark((function e(t,n){var r,a;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yi(yi({},G),{},gi({},n,t)),JSON.stringify(r)!==JSON.stringify(G)){e.next=3;break}return e.abrupt("return");case 3:return q(!0),e.prev=4,e.next=7,(0,R.PV)("".concat(S,"/update_option"),{method:"POST",nonce:k,json:{options:r}});case 7:a=e.sent,F(a.options),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(He.ERROR.UPDATING_OPTIONS,null!==e.t0&&void 0!==e.t0&&e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&&B(React.createElement(React.Fragment,null,React.createElement("div",null,He.ERROR.UPDATING_OPTIONS),React.createElement("small",null,(0,R.io)(He.ERROR.CHECK_YOUR_CONSOLE))));case 15:return e.prev=15,q(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t,n){return e.apply(this,arguments)}}();xi((function(){"chat"!==(null==nt?void 0:nt.mode)&&$.embeddings_index&&ft("","embeddings_index")}),[$]);var ft=function(){var e=bi(hi().mark((function e(t,n){var r;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yi(yi({},$),{},gi({},n,t)),e.next=3,mt(r,"shortcode_chat_params");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=bi(hi().mark((function e(t,n){var r;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yi(yi({},pe),{},gi({},n,t)),e.next=3,mt(r,"limits");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=Ri((function(){return null!=pe&&pe[Z]?null==pe?void 0:pe[Z]:{credits:1,creditType:"price",timeFrame:"month",isAbsolute:!1,overLimitMessage:"You have reached the limit.",ignoredUsers:""}}),[pe,Z]),ht=function(){var e=bi(hi().mark((function e(t,n){var r,a;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&&(t=Math.max(0,t)),r=yi(yi({},pt),{},gi({},n,t)),a=yi(yi({},pe),{},gi({},Z,r)),e.next=5,mt(a,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),vt=function(){var e=bi(hi().mark((function e(t,n){var r;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return r=yi(yi({},ee),{},gi({},n,t)),e.next=4,mt(r,"shortcode_chat_styles");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yt=function(){var e=bi(hi().mark((function e(t){var n;return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("http://")&&!t.startsWith("https://")){e.next=6;break}return n=yi(yi({},ee),{},{icon:t}),e.next=4,mt(n,"shortcode_chat_styles");case 4:e.next=7;break;case 6:alert("Please enter a valid URL.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=bi(hi().mark((function e(){return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(J,"shortcode_chat_params");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=bi(hi().mark((function e(){return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt({},"shortcode_chat_styles");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=bi(hi().mark((function e(){return hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(he,"limits");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=React.createElement(d.r,{title:He.COMMON.ASSISTANTS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_suggestions",label:He.COMMON.POSTS_SUGGESTIONS+" (+ AI Wand)",value:"1",checked:re,description:He.COMMON.POSTS_SUGGESTIONS_HELP,onChange:mt}),React.createElement(h.P,{name:"module_woocommerce",label:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,value:"1",checked:ae,description:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR_HELP,onChange:mt}))),Rt=React.createElement(d.r,{title:He.COMMON.GENERATORS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_generator_content",label:He.COMMON.CONTENT_GENERATOR,value:"1",checked:ue,description:He.COMMON.CONTENT_GENERATOR_HELP,onChange:mt}),React.createElement(h.P,{name:"module_generator_images",label:He.COMMON.IMAGES_GENERATOR,value:"1",checked:se,description:He.COMMON.IMAGES_GENERATOR_HELP,onChange:mt}))),Ot=React.createElement(d.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{name:"module_playground",label:He.COMMON.ENABLE,value:"1",checked:le,description:He.COMMON.PLAYGROUND_HELP,onChange:mt})),xt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,He.COMMON.FORMS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_forms",label:He.COMMON.ENABLE,value:"1",checked:oe,requirePro:!0,isPro:C,description:He.COMMON.FORMS_HELP,onChange:mt})),Tt=React.createElement(d.r,{title:He.COMMON.FINETUNES},React.createElement(h.P,{name:"module_finetunes",label:He.COMMON.ENABLE,value:"1",checked:ie,description:He.HELP.FINETUNES,onChange:mt})),St=React.createElement(d.r,{title:React.createElement(React.Fragment,null,He.COMMON.STATISTICS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_statistics",label:He.COMMON.ENABLE,value:"1",checked:ce,requirePro:!0,isPro:C,description:He.COMMON.STATISTICS_HELP,onChange:mt})),Nt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,He.COMMON.MODERATION,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_moderation",label:He.COMMON.ENABLE,value:"1",checked:me,description:He.COMMON.MODERATION_HELP,onChange:mt})),Pt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,He.COMMON.AUDIO_TRANSCRIPTION,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_audio",label:He.COMMON.ENABLE,value:"1",checked:de,description:He.COMMON.AUDIO_TRANSCRIPTION_HELP,onChange:mt})),Ct=React.createElement(d.r,{title:React.createElement(React.Fragment,null,He.COMMON.EMBEDDINGS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_embeddings",label:He.COMMON.ENABLE,value:"1",checked:fe,requirePro:!0,isPro:C,description:He.COMMON.EMBEDDINGS_HELP,onChange:mt})),kt=React.createElement(d.r,{title:He.COMMON.CHATBOT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat",label:He.COMMON.ENABLE,value:"1",checked:ve,description:He.COMMON.CHATBOT_HELP,onChange:mt}))),At=React.createElement(d.r,{title:He.COMMON.FORMATTING},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_formatting",label:He.COMMON.ENABLE,value:"1",checked:ye,description:(0,R.io)(He.COMMON.FORMATTING_HELP),onChange:mt}))),Lt=React.createElement(d.r,{title:He.SETTINGS.TYPEWRITER_EFFECT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_typewriter",label:He.COMMON.ENABLE,value:"1",checked:je,description:He.SETTINGS.TYPEWRITER_EFFECT_HELP,onChange:mt}))),It=React.createElement(d.r,{title:He.COMMON.DISCUSSIONS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_discussions",label:He.COMMON.ENABLE,value:"1",checked:Ge,description:He.HELP.DISCUSSIONS,onChange:mt}))),Mt=React.createElement(d.r,{title:He.COMMON.CODE},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_syntax_highlighting",label:"Use Syntax Highlighting",value:"1",checked:Me,description:React.createElement(React.Fragment,null,"Add syntax coloring to the code written by the chatbot."),onChange:mt}))),jt=React.createElement(d.r,{title:He.COMMON.LOGS},React.createElement(p.l,{max:"1"},React.createElement(be.N,{scrolldown:!0,id:"shortcode_chat_logs",name:"shortcode_chat_logs",value:ge,description:"",onChange:mt},React.createElement(be.Z,{value:"",label:"None"}),React.createElement(be.Z,{value:"file",label:"Files (/uploads/chatbot folder)"})))),Gt=React.createElement(d.r,{title:He.COMMON.DEBUG_MODE},React.createElement(h.P,{name:"debug_mode",label:He.COMMON.ENABLE,value:"1",checked:Fe,description:He.COMMON.DEBUG_MODE_HELP,onChange:mt})),Ft=React.createElement(d.r,{title:He.COMMON.SHORTCODES},React.createElement(h.P,{name:"resolve_shortcodes",label:He.COMMON.RESOLVE,value:"1",checked:Ke,description:He.HELP.RESOLVE_SHORTCODE,onChange:mt})),Ut=React.createElement(d.r,{title:He.COMMON.DYNAMIC_MAX_TOKENS},React.createElement(h.P,{name:"dynamic_max_tokens",label:He.COMMON.ENABLE,value:"1",checked:Ue,description:He.HELP.DYNAMIC_MAX_TOKENS,onChange:mt})),Dt=React.createElement(d.r,{title:He.COMMON.BANNED_WORDS},React.createElement(we.A,{id:"banned_words",name:"banned_words",value:ze,isCommaSeparatedArray:!0,description:He.HELP.BANNED_WORDS,onBlur:mt})),Bt=React.createElement(d.r,{title:He.COMMON.BANNED_IPS},React.createElement(we.A,{id:"banned_ips",name:"banned_ips",value:Be,isCommaSeparatedArray:!0,description:He.HELP.BANNED_IPS,onBlur:mt})),zt=React.createElement(d.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==qe?void 0:qe.playground,onChange:function(e){var t=yi(yi({},qe),{},{playground:e});mt(t,"admin_bar")}})),Ht=React.createElement(d.r,{title:He.COMMON.GENERATE_CONTENT},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==qe?void 0:qe.content_generator,onChange:function(e){var t=yi(yi({},qe),{},{content_generator:e});mt(t,"admin_bar")}})),qt=React.createElement(d.r,{title:He.COMMON.GENERATE_IMAGES},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==qe?void 0:qe.images_generator,onChange:function(e){var t=yi(yi({},qe),{},{images_generator:e});mt(t,"admin_bar")}})),Kt=React.createElement(d.r,{title:"AI Engine"},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==qe?void 0:qe.settings,onChange:function(e){var t=yi(yi({},qe),{},{settings:e});mt(t,"admin_bar")}})),Zt=React.createElement(d.r,{title:He.COMMON.OPENAI_SERVICE},React.createElement(be.N,{scrolldown:!0,name:"openai_service",value:Ee,description:(0,R.io)(He.HELP.OPENAI_SERVICE),onChange:mt},React.createElement(be.Z,{value:"openai",label:"Open AI"}),React.createElement(be.Z,{value:"azure",label:"Microsoft Azure"}))),Yt=React.createElement(d.r,{title:He.COMMON.OPENAI_AZURE_ENDPOINT},React.createElement(we.A,{name:"openai_azure_endpoint",value:ke,onBlur:mt})),Qt=React.createElement(d.r,{title:He.COMMON.OPENAI_AZURE_API_KEY},React.createElement(we.A,{name:"openai_azure_apikey",value:Ae,onBlur:mt})),Wt=React.createElement(d.r,{title:He.COMMON.OPENAI_AZURE_DEPLOYMENT},React.createElement(we.A,{name:"openai_azure_deployment",value:Le,description:(0,R.io)(He.HELP.OPENAI_AZURE_DEPLOYMENT),onBlur:mt})),Xt=React.createElement(d.r,{title:He.COMMON.API_KEY},React.createElement(we.A,{name:"openai_apikey",value:Ce,description:(0,R.io)(He.COMMON.API_KEY_HELP),onBlur:mt})),Vt=React.createElement(d.r,{title:He.COMMON.API_KEY},React.createElement(we.A,{name:"apikey",value:Ie.apikey||"",description:(0,R.io)(He.COMMON.EMBEDDINGS_APIKEY_HELP),onBlur:function(e){var t=yi(yi({},Ie),{},{apikey:e});mt(t,"pinecone")}})),Jt=React.createElement(d.r,{title:He.COMMON.SERVER},React.createElement(be.N,{scrolldown:!0,name:"server",value:Ie.server,description:(0,R.io)(He.COMMON.SERVER_HELP),onChange:function(e){var t=yi(yi({},Ie),{},{server:e});mt(t,"pinecone")}},React.createElement(be.Z,{value:"us-east1-gcp",label:"us-east1-gcp"}),React.createElement(be.Z,{value:"us-east4-gcp",label:"us-east4-gcp"}),React.createElement(be.Z,{value:"us-west1-gcp",label:"us-west1-gcp"}),React.createElement(be.Z,{value:"us-west4-gcp",label:"us-west4-gcp"}),React.createElement(be.Z,{value:"us-east-1-aws",label:"us-east-1-aws"}),React.createElement(be.Z,{value:"us-west-1-aws",label:"us-west-1-aws"}),React.createElement(be.Z,{value:"us-central1-gcp",label:"us-central1-gcp"}),React.createElement(be.Z,{value:"eu-west1-gcp",label:"eu-west1-gcp"}),React.createElement(be.Z,{value:"asia-southeast1-gcp",label:"asia-southeast1-gcp"}))),$t=React.createElement(d.r,{title:He.COMMON.NAMESPACE},React.createElement(we.A,{name:"namespace",value:Ie.namespace||"mwai",description:(0,R.io)(He.COMMON.NAMESPACE_HELP),onBlur:function(e){var t=yi(yi({},Ie),{},{namespace:e});mt(t,"pinecone")}})),en=React.createElement("div",null,React.createElement("div",{style:{fontSize:12,marginTop:-5}},(0,R.io)(He.COMMON.USAGE_COSTS_HELP)),React.createElement(ea,{options:G}));return React.createElement(v.s,null,React.createElement(_t,{options:G}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(at,{options:G}),React.createElement(Re.H,null,React.createElement(f.O,{p:!0},(0,R.io)(He.SETTINGS.INTRO))),React.createElement(E.c,{keepTabOnReload:!0},React.createElement(E.P,{title:He.COMMON.DASHBOARD},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:lt,title:He.COMMON.MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(Oe.i,{height:50}),kt,Rt,Ot,wt,Tt,St,Ct,xt,Nt,Pt)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:lt,title:He.COMMON.USAGE_COSTS,className:"primary"},en)))),ve&&React.createElement(E.P,{title:He.COMMON.CHATBOT},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0},React.createElement(w.v,{className:"primary"},React.createElement(f.O,{p:!0},React.createElement("p",null,(0,R.io)(He.CHATBOT.INTRO)),React.createElement("p",null,(0,R.io)(He.CHATBOT.INTRO_2))))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:lt,title:He.CHATBOT.CHATBOT_BUILDER,className:"primary",action:React.createElement(b._,{className:"danger",onClick:gt},He.CHATBOT.RESET_PARAMS)},React.createElement(Xn,null,React.createElement("h4",{className:"mwai-category",style:{marginTop:0}},He.COMMON.MAIN_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===$.mode?76:"inherit"}},React.createElement("label",null,He.COMMON.MODE,":"),React.createElement(be.N,{scrolldown:!0,id:"mode",name:"mode",value:$.mode,onChange:ft},React.createElement(be.Z,{value:"chat",label:"Chat"}),React.createElement(be.Z,{value:"images",label:"Images"}))),Ze&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(xe.l,{id:"context",name:"context",rows:4,value:$.context,onBlur:ft})),Ye&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.IMAGES_NUMBER,":"),React.createElement(we.A,{id:"max_results",name:"max_results",type:"number",value:$.max_results,onBlur:ft}))),React.createElement("h4",{className:"mwai-category"},He.COMMON.VISUAL_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AI_NAME,":"),React.createElement(we.A,{id:"ai_name",name:"ai_name","data-form-type":"other",value:$.ai_name,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:4}},React.createElement("label",null,He.COMMON.START_SENTENCE,":"),React.createElement(we.A,{id:"start_sentence",name:"start_sentence",value:$.start_sentence,onBlur:ft}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.USER_NAME,":"),React.createElement(we.A,{id:"user_name",name:"user_name","data-form-type":"other",value:$.user_name,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.PLACEHOLDER,":"),React.createElement(we.A,{id:"text_input_placeholder",name:"text_input_placeholder",value:$.text_input_placeholder,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.SEND,":"),React.createElement(we.A,{id:"text_send",name:"text_send",value:$.text_send,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CLEAR,":"),React.createElement(we.A,{id:"text_clear",name:"text_clear",value:$.text_clear,onBlur:ft}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.COMPLIANCE_TEXT,":"),React.createElement(we.A,{id:"text_compliance",name:"text_compliance",value:$.text_compliance,onBlur:ft}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.SYSTEM_NAME,":"),React.createElement(we.A,{id:"sys_name",name:"sys_name","data-form-type":"other",value:$.sys_name,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(we.A,{id:"id",name:"id",type:"text",placeholder:"Optional",value:$.id,onBlur:ft}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.STYLE,":"),React.createElement(be.N,{scrolldown:!0,id:"style",name:"style",value:$.style,description:"",onChange:ft},React.createElement(be.Z,{value:"none",label:"None"}),React.createElement(be.Z,{value:"chatgpt",label:"ChatGPT"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:$.window,value:"1",onChange:ft}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.POSITION,":"),React.createElement(be.N,{scrolldown:!0,id:"icon_position",name:"icon_position",disabled:!$.window,value:$.icon_position,onChange:ft},React.createElement(be.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(be.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(be.Z,{value:"top-right",label:"Top Right"}),React.createElement(be.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ICON_TEXT,":"),React.createElement(we.A,{id:"icon_text",name:"icon_text",disabled:!$.window,placeholder:"If set, appears next to icon",value:null!==(r=$.icon_text)&&void 0!==r?r:"Chat",onBlur:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:$.fullscreen,value:"1",onChange:ft}))),React.createElement("h4",{className:"mwai-category"},He.COMMON.TECHNICAL_SETTINGS),Ze&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(be.N,{scrolldown:!0,id:"model",name:"model",value:$.model,description:"",onChange:ft},W.map((function(e){return React.createElement(be.Z,{value:e.model,label:e.name})})))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.CASUALLY_FINE_TUNED,":"),React.createElement(h.P,{name:"casually_fine_tuned",label:"Yes",disabled:!tt&&!$.casually_fine_tuned,checked:$.casually_fine_tuned,value:"1",onChange:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{id:"temperature",name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:$.temperature,onBlur:ft}))),Ze&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{id:"max_tokens",name:"max_tokens",type:"number",min:"10",max:"2048",value:$.max_tokens,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.SENTENCES_BUFFER,":"),React.createElement(we.A,{id:"max_sentences",name:"max_sentences",step:"1",min:"1",max:"512",value:$.max_sentences,onBlur:ft})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.INPUT_MAXLENGTH,":"),React.createElement(we.A,{id:"text_input_maxlength",name:"text_input_maxlength",step:"1",min:"1",max:"512",value:$.text_input_maxlength,onBlur:ft}))),Ze&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(be.N,{scrolldown:!0,id:"embeddings_index",name:"embeddings_index",requirePro:!0,isPro:C,disabled:!(null!=et&&et.length)||"chat"!==(null==nt?void 0:nt.mode),value:$.embeddings_index,onChange:ft},et.map((function(e){return React.createElement(be.Z,{value:e.name,label:e.name})})),React.createElement(be.Z,{value:"",label:"Disabled"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"content_aware",label:"Yes",requirePro:!0,isPro:C,checked:$.content_aware,value:"1",onChange:ft}))),ne&&!$.window&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_INJECT_BUT_NO_POPUP)),tt&&!$.casually_fine_tuned&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_FINETUNE_BUT_NO_CASUALLY)),!tt&&$.casually_fine_tuned&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,He.SETTINGS.ALERT_CASUALLY_BUT_NO_FINETUNE)),rt&&!ot&&React.createElement(Te.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(He.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT))),React.createElement("h4",{className:"mwai-category"},He.COMMON.SHORTCODE),React.createElement("pre",null,st)),React.createElement(h.P,{name:"shortcode_chat_params_override",label:He.SETTINGS.SET_AS_DEFAULT_PARAMETERS,disabled:Object.keys(ut).length<1&&!te,value:"1",checked:te,description:He.SETTINGS.SET_AS_DEFAULT_PARAMETERS_HELP,onChange:mt}),React.createElement(h.P,{name:"shortcode_chat_inject",label:He.SETTINGS.INJECT_DEFAULT_CHATBOT,value:"1",checked:ne,description:He.SETTINGS.INJECT_DEFAULT_CHATBOT_HELP,onChange:mt}))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:lt,title:"ChatGPT Style",className:"primary",action:React.createElement(b._,{className:"danger",onClick:Et},"Reset Styles")},React.createElement(Xn,null,React.createElement("p",null,(0,R.io)(He.SETTINGS.CHATGPT_STYLE_INTRO)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(we.A,{id:"spacing",name:"spacing",value:null!==(a=null==ee?void 0:ee.spacing)&&void 0!==a?a:"15px",onBlur:vt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(we.A,{id:"borderRadius",name:"borderRadius",value:null!==(o=null==ee?void 0:ee.borderRadius)&&void 0!==o?o:"10px",onBlur:vt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(we.A,{id:"fontSize",name:"fontSize",value:null!==(i=null==ee?void 0:ee.fontSize)&&void 0!==i?i:"15px",onBlur:vt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"fontColor",name:"fontColor",value:null!==(c=null==ee?void 0:ee.fontColor)&&void 0!==c?c:"#FFFFFF",onBlur:vt}),React.createElement(ir,{id:"fontColor",name:"fontColor",value:null!==(l=null==ee?void 0:ee.fontColor)&&void 0!==l?l:"#FFFFFF",onChange:vt})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(u=null==ee?void 0:ee.backgroundPrimaryColor)&&void 0!==u?u:"#454654",onBlur:vt}),React.createElement(ir,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(s=null==ee?void 0:ee.backgroundPrimaryColor)&&void 0!==s?s:"#454654",onChange:vt}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(m=null==ee?void 0:ee.backgroundSecondaryColor)&&void 0!==m?m:"#343541",onBlur:vt}),React.createElement(ir,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(y=null==ee?void 0:ee.backgroundSecondaryColor)&&void 0!==y?y:"#343541",onChange:vt}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(T=null==ee?void 0:ee.headerButtonsColor)&&void 0!==T?T:"#FFFFFF",onBlur:vt}),React.createElement(ir,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(N=null==ee?void 0:ee.headerButtonsColor)&&void 0!==N?N:"#FFFFFF",onChange:vt})))),React.createElement("h4",{className:"mwai-category"},He.COMMON.POPUP),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.POPUP_ICON,":"),React.createElement("div",{style:{display:"flex"}},Ti.map((function(e){return React.createElement(React.Fragment,null,React.createElement("img",{style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(_,"/images/").concat(e),onClick:function(){vt(e,"icon")}}))})),React.createElement(b._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){vt("".concat(_,"/images/chat-color-green.svg"),"icon")}},He.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:10},width:48,height:48,src:"".concat(Xe)}))),We&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CUSTOM_ICON_URL,":"),React.createElement(we.A,{id:"icon",name:"icon",value:Qe,onBlur:yt}))),React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(we.A,{id:"width",name:"width",value:null!==(L=null==ee?void 0:ee.width)&&void 0!==L?L:"460px",onBlur:vt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(we.A,{id:"maxHeight",name:"maxHeight",value:null!==(I=null==ee?void 0:ee.maxHeight)&&void 0!==I?I:"40vh",onBlur:vt}))))),React.createElement(w.v,{busy:lt,title:He.COMMON.FEATURES,className:"primary"},It,At,Mt,Lt,jt)))),ve&&Ge&&React.createElement(E.P,{title:He.COMMON.DISCUSSIONS},React.createElement(ja,null)),fe&&React.createElement(E.P,{title:He.COMMON.EMBEDDINGS},React.createElement(Qr,{options:G,updateOption:mt})),ie&&React.createElement(E.P,{title:He.COMMON.FINETUNES},React.createElement(Mn,{options:G,updateOption:mt})),me&&React.createElement(E.P,{title:He.COMMON.MODERATION},React.createElement(Pr,{options:G,updateOption:mt,busy:lt})),de&&React.createElement(E.P,{title:He.COMMON.AUDIO_TAB},React.createElement(ca,{options:G,updateOption:mt})),ce&&React.createElement(E.P,{title:He.COMMON.STATISTICS},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2.5}},React.createElement(w.v,{className:"primary",title:"Queries"},React.createElement(wr,null))),React.createElement(g.z,{minimal:!0},React.createElement(Xn,null,React.createElement(w.v,{className:"primary",busy:lt,title:"Limits",style:{flex:1},action:React.createElement(b._,{className:"danger",onClick:bt},"Reset Limits")},React.createElement(h.P,{name:"enabled",label:He.STATISTICS.ENABLE_LIMITS,checked:null==pe?void 0:pe.enabled,value:"1",onChange:dt}),React.createElement(Oe.i,null),React.createElement(Se.h,{value:Z,busy:lt,onChange:function(e){Y(e)}},React.createElement(Se.S,{title:He.COMMON.USERS,value:"users",disabled:!(null!=pe&&pe.enabled)}),React.createElement(Se.S,{title:He.COMMON.GUESTS,value:"guests"}),React.createElement(Se.S,{title:He.COMMON.SYSTEM,value:"system"})),"userId"===(null==pe?void 0:pe.target)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for Guests:"),React.createElement(we.A,{id:"guestMessage",name:"guestMessage",disabled:!(null!=pe&&pe.enabled),value:null==pe?void 0:pe.guestMessage,onEnter:ht,onBlur:ht})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CREDITS,":"),React.createElement(we.A,{id:"credits",name:"credits",type:"number",min:"0",max:"1000000",disabled:!(null!=pe&&pe.enabled),value:pt.credits,onEnter:ht,onBlur:ht})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TYPE,":"),React.createElement(be.N,{scrolldown:!0,id:"creditType",name:"creditType",disabled:!(null!=pe&&pe.enabled),value:pt.creditType,onChange:ht},React.createElement(be.Z,{key:"queries",id:"queries",value:"queries",label:"Queries"}),React.createElement(be.Z,{key:"units",id:"units",value:"units",label:"Tokens"}),React.createElement(be.Z,{key:"price",id:"price",value:"price",label:"Dollars"})))),0!==pt.credits&&React.createElement("p",null,"If you want to apply variable amount of credits, ",React.createElement("a",{href:"https://meowapps.com/ai-engine/faq/#limits",target:"_blank"},"click here"),"."),0!==pt.credits&&"price"===pt.creditType&&React.createElement("p",null,"The dollars represent the budget you spent through OpenAI."),0===pt.credits&&React.createElement("p",null,"Since there are no credits, the Message for No Credits Message with be displayed."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TIMEFRAME,":"),React.createElement(be.N,{scrolldown:!0,id:"timeFrame",name:"timeFrame",disabled:!(null!=pe&&pe.enabled),value:pt.timeFrame,onChange:ht},React.createElement(be.Z,{key:"second",id:"second",value:"second",label:"Second"}),React.createElement(be.Z,{key:"minute",id:"minute",value:"minute",label:"Minute"}),React.createElement(be.Z,{key:"hour",id:"hour",value:"hour",label:"Hour"}),React.createElement(be.Z,{key:"day",id:"day",value:"day",label:"Day"}),React.createElement(be.Z,{key:"week",id:"week",value:"week",label:"Week"}),React.createElement(be.Z,{key:"month",id:"month",value:"month",label:"Month"}),React.createElement(be.Z,{key:"year",id:"year",value:"year",label:"Year"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.ABSOLUTE,":"),React.createElement(h.P,{name:"isAbsolute",label:"Yes",disabled:!(null!=pe&&pe.enabled),checked:pt.isAbsolute,value:"1",onChange:ht}))),pt.isAbsolute&&React.createElement("p",null,(0,R.io)(He.STATISTICS.ABSOLUTE_HELP)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.NO_CREDITS_MESSAGE,":"),React.createElement(we.A,{id:"overLimitMessage",name:"overLimitMessage",disabled:!(null!=pe&&pe.enabled),value:pt.overLimitMessage,onEnter:ht,onBlur:ht}))),"users"===Z&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.FULL_ACCESS_USERS,":"),React.createElement(be.N,{scrolldown:!0,id:"ignoredUsers",name:"ignoredUsers",disabled:!(null!=pe&&pe.enabled),value:null==pe||null===(M=pe.users)||void 0===M?void 0:M.ignoredUsers,description:"",onChange:ht},React.createElement(be.Z,{key:"none",id:"none",value:"",label:He.COMMON.NONE}),React.createElement(be.Z,{key:"editor",id:"editor",value:"administrator,editor",label:He.COMMON.EDITORS_ADMINS}),React.createElement(be.Z,{key:"admin",id:"admin",value:"administrator",label:He.COMMON.ADMINS_ONLY}))))))))),React.createElement(E.P,{key:"advanced",title:ct>0?React.createElement(React.Fragment,null,He.COMMON.SETTINGS," ",React.createElement(_e.J,{style:{marginLeft:5,marginRight:-5},width:"16",icon:"alert",variant:"warning"})):React.createElement(React.Fragment,null,He.COMMON.SETTINGS)},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:lt,title:He.COMMON.OPENAI,className:"primary"},Zt,"openai"===Ee&&React.createElement(React.Fragment,null,Xt),"azure"===Ee&&React.createElement(React.Fragment,null,Yt,Qt,Wt)),fe&&React.createElement(w.v,{busy:lt,title:"Pinecone",className:"primary"},Vt,Jt,$t),React.createElement(w.v,{busy:lt,title:He.COMMON.ADMIN_BAR,className:"primary"},Kt,zt,Ht,qt),React.createElement(w.v,{busy:lt,title:He.COMMON.ADVANCED,className:"primary"},Gt,Ft,Ut),React.createElement(w.v,{busy:lt,title:He.COMMON.SECURITY,className:"primary"},Dt,Bt)),React.createElement(g.z,{minimal:!0},React.createElement(zn,{incidents:$e,isLoading:Je})))),ve&&React.createElement(E.P,{title:He.COMMON.CHATBOTS+" (Beta)"},React.createElement(mi,{options:G,updateOption:mt})),React.createElement(E.P,{title:He.COMMON.LICENSE_TAB},React.createElement(De,{domain:x,prefix:O,isPro:P,isRegistered:C}))))),React.createElement(Ne.L,{isOpen:D,title:He.COMMON.ERROR,content:D,ok:"Close",onRequestClose:function(){return B(!1)},onOkClick:function(){return B(!1)}}))};var Ni=n(5307),Pi=[{value:"informative",label:"Informative"},{value:"descriptive",label:"Descriptive"},{value:"creative",label:"Creative"},{value:"narrative",label:"Narrative"},{value:"persuasive",label:"Persuasive"},{value:"reflective",label:"Reflective"},{value:"argumentative",label:"Argumentative"},{value:"analytical",label:"Analytical"},{value:"evaluative",label:"Evaluative"},{value:"journalistic",label:"Journalistic"},{value:"technical",label:"Technical"}],Ci=[{value:"neutral",label:"Neutral"},{value:"formal",label:"Formal"},{value:"assertive",label:"Assertive"},{value:"cheerful",label:"Cheerful"},{value:"humorous",label:"Humorous"},{value:"informal",label:"Informal"},{value:"inspirational",label:"Inspirational"},{value:"professional",label:"Professional"},{value:"confvalueent",label:"Confvalueent"},{value:"emotional",label:"Emotional"},{value:"persuasive",label:"Persuasive"},{value:"supportive",label:"Supportive"},{value:"sarcastic",label:"Sarcastic"},{value:"condescending",label:"Condescending"},{value:"skeptical",label:"Skeptical"},{value:"narrative",label:"Narrative"},{value:"journalistic",label:"Journalistic"}],ki="gpt-3.5-turbo",Ai=[{id:"default",name:"Default",mode:"query",model:ki,temperature:.8,stopSequence:"",maxTokens:2048,prompt:""},{id:"article_translator",name:"Text Translator",mode:"query",model:ki,temperature:.3,stopSequence:"",maxTokens:2048,prompt:"Translate this article into French:\n\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town.\n"},{id:"restaurant_review",name:"Restaurant Review Writer",mode:"query",model:ki,temperature:.8,stopSequence:"",maxTokens:2048,prompt:"Write a review for a French restaurant located in Kagurazaka, Tokyo. Looks like an old restaurant, food is traditional, chef is talkative, it is always full. Not expensive, but not fancy.\n"},{id:"article_corrector",name:"Text Corrector",mode:"query",model:ki,temperature:.2,stopSequence:"",maxTokens:2048,prompt:"Fix the grammar and spelling mistakes in this text:\n\nI wake up at eleben yesderday, I will go bed eary tonigt.\n"},{id:"seo_assistant",name:"SEO Optimizer",mode:"query",model:ki,temperature:.6,stopSequence:"",maxTokens:1024,prompt:"For the following article, write a SEO-friendly and short title, keywords for Google, and a short excerpt to introduce it. Use this format:\n\nTitle: \nKeywords: \nExcerpt:\n\nArticle:\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town."},{id:"wp_assistant",name:"WordPress Assistant",mode:"continuous",model:ki,temperature:.8,stopSequence:"",maxTokens:150,prompt:"Converse as a WordPress expert. Be helpful, friendly, concise, avoid external URLs and commercial solutions.\n\nAI: Hi! How can I help you with WP today?\n"},{id:"casually_fine_tuned",name:"Casually Fined Tuned Tester",mode:"query",model:"text-davinci-003",temperature:.4,stopSequence:"\\n\\n",maxTokens:1024,prompt:"Hello! What's your name?\n\n###\n\n"}],Li=[{id:"default",name:"Default",model:"dall-e",maxResults:3,prompt:""},{id:"japan",name:"Ghibli Inspired",model:"dall-e",maxResults:3,prompt:"japan, tokyo, trees, izakaya, anime oil painting, high resolution, ghibli inspired, 4k"},{id:"steampunk",name:"Steampunk Architecture",model:"dall-e",maxResults:3,prompt:"steampunk architecture, exterior view, award-winning architectural photography from magazine, trees, theater"},{id:"modern-illustration",name:"Modern Illustration",model:"dall-e",maxResults:3,prompt:"illustration of a cat, modern design, for the web, cute, happy, 4k, high resolution, trending in artstation"}],Ii=[{id:"default",name:"Default",mode:"single",topic:"",topics:"",topicsAreTitles:!1,title:"",sections:"",model:ki,temperature:.8,maxTokens:2048,sectionsCount:2,paragraphsCount:3,language:"en",customLanguage:"",writingStyle:"creative",writingTone:"cheerful",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'}];function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Mi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||qi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Di(){Di=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Mi(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Bi(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bi(o,r,a,i,c,"next",e)}function c(e){Bi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Hi(e){return function(e){if(Array.isArray(e))return Ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){if(e){if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zi=wp.element,Yi=Zi.useState,Qi=Zi.useEffect,Wi=Zi.useMemo,Xi=function(e){var t=Hi(e);return t.sort((function(e,t){return"default"===e.id?-1:"default"===t.id?1:e.name.localeCompare(t.name)})),t},Vi=function(){var e=zi(Di().mark((function e(t){var n,r,a;return Di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/templates?category=").concat(t),{nonce:k});case 2:return n=e.sent,r=[],"imagesGenerator"===t?r=Li:"playground"===t?r=Ai:"contentGenerator"===t&&(r=Ii),a=r.find((function(e){return"default"===e.id})),null!=n&&n.templates&&n.templates.length>0&&(r=Xi(n.templates)),a?r.forEach((function(e){Object.keys(a).forEach((function(t){void 0===e[t]&&(e[t]=a[t])}))})):console.warn("Default template not found for category: "+t),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"playground",t=Ui(Yi(),2),n=t[0],r=t[1],a=Ui(Yi(!1),2),o=a[0],i=a[1],c=Ui(Yi([]),2),l=c[0],u=c[1],s=(0,Pe.a)({queryKey:["templates-".concat(e)],queryFn:function(){return Vi(e)}}),m=s.isLoading,f=s.data;Qi((function(){f&&(u(f),r(f[0]))}),[f]);var d=function(){var t=zi(Di().mark((function t(n){var r;return Di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Xi(n),u(n),t.next=4,(0,R.PV)("".concat(S,"/templates"),{method:"POST",nonce:k,json:{category:e,templates:n}});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=Wi((function(){if(!n||0===l.length)return!1;var e=l.find((function(e){return e.id===n.id}));return Object.keys(e).some((function(t){return e[t]!==n[t]}))}),[n,l]),h=function(){var e=l.find((function(e){return e.id===n.id}));e&&r(Gi({},e))},v=function(){var e=prompt(He.COMMON.NAME,He.TEMPLATES.NEW_TEMPLATE_NAME);if(!e)return!1;var t=Gi(Gi({},n),{},{id:(new Date).getTime().toString(36)+Math.random().toString(36).substr(2,9),name:e});d([].concat(Hi(l),[t])),r(Gi({},t))},y=function(){var e=l.map((function(e){return e.id===n.id?n:e}));d(e),r(Gi({},n))},g=function(){var e=prompt("New name",n.name);if(e){var t=l.map((function(t){return t.id===n.id?Gi(Gi({},t),{},{name:e}):t}));d(Hi(t)),r(Gi({},t.find((function(e){return e.id===n.id}))))}},E=function(){if(confirm(He.TEMPLATES.DELETE_CONFIRM)){var e=l.filter((function(e){return e.id!==n.id}));d(Hi(e)),r(Gi({},e[0]))}},w=Wi((function(){return p&&"default"!==n.id}),[n]),O=Wi((function(){return React.createElement("div",{style:{margin:"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("h3",{style:{margin:0}},He.TEMPLATES.TEMPLATES),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(Lt.Q,{small:!0,onLabel:He.TEMPLATES.EDIT,offLabel:He.TEMPLATES.EDIT,width:60,onChange:i,checked:o}))),m&&React.createElement("div",{style:{display:"flex",marginTop:30,justifyContent:"center"}},React.createElement("div",{style:{width:60}},React.createElement(Ni.S,{width:20}))),React.createElement("ul",null,l.map((function(e){return React.createElement("li",{className:n.id===e.id?"active"+(p&&o?" modified":""):"",onClick:function(){r(Gi({},e))}},e.name)}))),p&&React.createElement("div",{style:{display:"flex",marginTop:15}},React.createElement(b._,{fullWidth:!0,className:"secondary",icon:"undo",onClick:h},"Reset")),o&&React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(Oe.i,{line:!0,height:30}),React.createElement("div",{style:{display:"flex",marginBottom:5}},React.createElement(b._,{disabled:"default"===n.id,className:"danger",icon:"trash",onClick:E}),React.createElement(b._,{disabled:"default"===n.id,className:"secondary",icon:"pencil",onClick:g}),React.createElement(b._,{disabled:!w,className:"secondary",style:{flex:6},onClick:y},"Save")),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{onClick:v,style:{flex:6}},"Save as New"))),!o&&React.createElement("div",{style:{display:"flex",marginTop:15,lineHeight:"14px"}},React.createElement("small",null,(0,R.io)(He.TEMPLATES.JOIN_US))))}));return{template:n,resetTemplate:h,setTemplate:function(e){r(e)},jsxTemplates:O,isEdit:o}};function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tc=wp.element,nc=tc.useState,rc=tc.useMemo;const ac=function(e){var t=it(e).calculatePrice,n=$i(nc(0),2),r=n[0],a=n[1],o=$i(nc(0),2),i=o[0],c=o[1],l=function(){a(0),c(0)};return{addUsage:function(e,n){var o=t(e,n);c(o),a(r+o)},jsxUsageCosts:rc((function(){var e=(0,R.io)(He.COMMON.USAGE_COSTS_HELP);return C||(e=React.createElement(React.Fragment,null,e," ",(0,R.io)(He.COMMON.USAGE_COSTS_PRO_HELP))),React.createElement(Qn,null,React.createElement("h3",null,He.COMMON.USAGE_COSTS),React.createElement("div",null,"Session: ",React.createElement("span",{style:{float:"right"}},"$",r.toFixed(4))),React.createElement("div",null,"Last Request: ",React.createElement("span",{style:{float:"right"}},"$",i.toFixed(4))),React.createElement(Oe.i,{height:30}),React.createElement("p",{style:{fontSize:12,lineHeight:1.2,color:"var(--neko-dark-gray)"}},e),React.createElement(b._,{fullWidth:!0,onClick:l},"Reset Usage"))}),[r,i])}};function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}var ic;function cc(){cc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==oc(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function lc(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pc=wp.element,hc=pc.useState,vc=pc.useEffect,yc=(pc.useMemo,(0,G.ZP)(xe.l)(ic||(ic=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .neko-textarea-container {\n  \n    textarea {\n      color: white;\n      font-size: 13px;\n      padding: 10px;\n      font-family: monospace;\n      background: #333d4e;\n      border: none;\n\n      &:focus {\n        background-color: #333d4e;\n      }\n    }\n  }\n"]))));const gc=function(){var e,t,n,r,a,o,i=Ji("playground"),c=i.template,l=i.setTemplate,u=i.jsxTemplates,s=fc(hc(""),2),m=s[0],d=s[1],p=it(A).completionModels,h=ac(A),y=h.addUsage,E=h.jsxUsageCosts,w=fc(hc(!1),2),O=w[0],x=w[1],T=fc(hc(""),2),_=T[0],N=T[1],P=fc(hc(),2),C=P[0],I=P[1],M=fc(hc(),2),j=M[0],G=M[1],F=null!==(e=null==c?void 0:c.prompt)&&void 0!==e?e:"",U=null!==(t=null==c?void 0:c.model)&&void 0!==t?t:"gpt-3.5-turbo",D=null!==(n=null==c?void 0:c.mode)&&void 0!==n?n:"query",B=null!==(r=null==c?void 0:c.temperature)&&void 0!==r?r:1,z=null!==(a=null==c?void 0:c.stopSequence)&&void 0!==a?a:"",H=null!==(o=null==c?void 0:c.maxTokens)&&void 0!==o?o:2048,q=function(e,t){l(sc(sc({},c),{},mc({},t,e)))},K=function(e){l(sc(sc({},c),{},{prompt:e}))};vc((function(){c&&d("")}),[c]);var Z=function(){var e,t=(e=cc().mark((function e(){var t,n,r,a,o=arguments;return cc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:F,x(!0),I(new Date),n=z.replace(/\\n/g,"\n"),e.next=6,(0,R.PV)("".concat(S,"/make_completions"),{method:"POST",nonce:k,json:{env:"playground",session:L,prompt:t,temperature:B,model:U,maxTokens:H,stop:n}});case 6:r=e.sent,console.log("Completions",{prompt:t,result:r}),r.success?("continuous"===D?K(t+"\n"+r.data+"\n"):d(r.data),y(U,(null==r||null===(a=r.usage)||void 0===a?void 0:a.total_tokens)||0)):G(r.message),I(),x(!1);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){lc(o,r,a,i,c,"next",e)}function c(e){lc(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(v.s,{nekoErrors:[]},React.createElement(_t,{title:He.COMMON.PLAYGROUND}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(at,{options:A}),React.createElement(Re.H,{style:{marginBottom:0}},React.createElement(f.O,{p:!0},(0,R.io)(He.PLAYGROUND.INTRO)))),React.createElement(g.z,null,React.createElement(Qn,null,u),React.createElement(Qn,{style:{marginTop:20}},React.createElement("h3",{style:{marginTop:0}},"Mode"),React.createElement(be.N,{scrolldown:!0,name:"mode",disabled:!0,value:D,description:"",onChange:q},React.createElement(be.Z,{key:"query",value:"query",label:"Query"}),React.createElement(be.Z,{key:"continuous",value:"continuous",label:"Continuous"})))),React.createElement(g.z,{style:{flex:3}},React.createElement(Qn,null,"continuous"!==D&&React.createElement(React.Fragment,null,React.createElement("label",{style:{marginTop:0,marginBottom:10}},He.PLAYGROUND.PROMPT,":"),React.createElement(yc,{style:{marginBottom:5},rows:12,onChange:K,value:F}),React.createElement("label",{style:{marginTop:0,marginBottom:10}},He.PLAYGROUND.ANSWER,":"),React.createElement(yc,{countable:"words",rows:14,onChange:d,value:m})),"continuous"===D&&React.createElement(React.Fragment,null,React.createElement(yc,{rows:18,onChange:K,value:F}),React.createElement("div",{style:{display:"flex"}},React.createElement("span",{class:"dashicons dashicons-format-continuous",style:{position:"absolute",color:"white",zIndex:200,fontSize:28,marginTop:12,marginLeft:10}}),React.createElement(Wn,{name:"continuousEntry",value:_,onChange:N,onEnter:function(){var e=F+"Human: "+_;K(e),N(""),Z(e)},disabled:O}))))),React.createElement(g.z,null,"query"===D&&React.createElement(React.Fragment,null,React.createElement(Qn,null,React.createElement(b._,{fullWidth:!0,onClick:function(){Z()},isBusy:O,startTime:C,style:{height:50,fontSize:14,flex:4}},He.COMMON.SUBMIT)),React.createElement(Oe.i,{height:30})),React.createElement(Qn,null,React.createElement("h3",null,He.COMMON.SETTINGS),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(be.N,{name:"model",value:U,scrolldown:!0,onChange:q},p.map((function(e){return React.createElement(be.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",value:B,type:"number",onChange:function(e){return q(parseFloat(e),"temperature")},description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:B>=0&&B<=1?"inherit":"red"}},He.HELP.TEMPERATURE))}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",value:H,type:"number",onChange:function(e){return q(parseInt(e),"maxTokens")},description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.MAX_TOKENS))}),React.createElement("label",null,He.COMMON.STOP_SEQUENCE,":"),React.createElement(we.A,{name:"stopSequence",value:z,type:"text",onChange:q,description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.STOP_SEQUENCE))})),React.createElement(Oe.i,{height:30}),E)),React.createElement(Ne.L,{isOpen:j,onRequestClose:function(){G()},onOkClick:function(){G()},title:"Error",content:React.createElement("p",null,j)}))};var Ec,bc;function wc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Rc=G.ZP.div(Ec||(Ec=wc(["\n  margin-bottom: 5px;\n"]))),Oc=G.ZP.div(bc||(bc=wc(["\n  margin-top: 5px;\n  padding: 10px;\n  font-size: 14px;\n  cursor: pointer;\n  background: #dbf2ff;\n\n  &:hover {\n    background: #037cba;\n    color: white;\n  }\n"])));function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function Tc(){Tc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==xc(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Sc(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Sc(o,r,a,i,c,"next",e)}function c(e){Sc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cc=wp.element,kc=Cc.useState,Ac=Cc.useEffect,Lc=Cc.useMemo;const Ic=function(e){var t=e.post,n=e.onTitleClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Nc(kc([]),2),c=i[0],l=i[1],u=Nc(kc(!1),2),s=u[0],m=u[1],f=Nc(kc(!1),2),d=f[0],p=f[1];Ac((function(){t&&h(t)}),[t]);var h=function(){var e=_c(Tc().mark((function e(t){var n,r;return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,t.postTitle,m(!0),e.next=4,(0,R.PV)("".concat(S,"/make_titles"),{method:"POST",nonce:k,json:{postId:n}});case 4:(r=e.sent).success&&l(r.data),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=_c(Tc().mark((function e(t){return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,r(t);case 4:y(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:m(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=_c(Tc().mark((function e(){return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),l([]),p(),m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Lc((function(){return s?React.createElement(Ni.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==c?void 0:c.length)>0?React.createElement(React.Fragment,null,"Pick a new title by clicking on it.",React.createElement(Rc,null,c.map((function(e){return React.createElement(Oc,{key:e,onClick:function(){v(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,c,d]);return React.createElement(g.o,null,React.createElement(Ne.L,{isOpen:t,onRequestClose:y,title:'New title for "'.concat(null==t?void 0:t.postTitle,'"'),content:E,ok:"Close",onOkClick:y}))};function Mc(e){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(e)}function jc(){jc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Mc(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Gc(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Fc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gc(o,r,a,i,c,"next",e)}function c(e){Gc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bc=wp.element,zc=Bc.useState,Hc=Bc.useEffect,qc=Bc.useMemo;const Kc=function(e){var t=e.post,n=e.onExcerptClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Uc(zc([]),2),c=i[0],l=i[1],u=Uc(zc(!1),2),s=u[0],m=u[1],f=Uc(zc(!1),2),d=f[0],p=f[1];Hc((function(){t&&h(t)}),[t]);var h=function(){var e=Fc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,m(!0),e.next=4,(0,R.PV)("".concat(S,"/make_excerpts"),{method:"POST",nonce:k,json:{postId:n}});case 4:(r=e.sent).success&&l(r.data),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Fc(jc().mark((function e(t){return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,r(t);case 4:y(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:m(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Fc(jc().mark((function e(){return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),l([]),p(),m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=qc((function(){return s?React.createElement(Ni.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==c?void 0:c.length)>0?React.createElement(React.Fragment,null,"Pick a new excerpt by clicking on it.",React.createElement(Rc,null,c.map((function(e){return React.createElement(Oc,{key:e,onClick:function(){v(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,c,d]);return React.createElement(g.o,null,React.createElement(Ne.L,{isOpen:t,onRequestClose:y,title:'New excerpt for "'.concat(null==t?void 0:t.postTitle,'"'),content:E,ok:"Close",onOkClick:y}))};function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Yc(){Yc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Zc(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Qc(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qc(o,r,a,i,c,"next",e)}function c(e){Qc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vc=wp.element,Jc=Vc.useState,$c=Vc.useEffect;const el=function(){var e,t,n=(e=Jc(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];$c((function(){document.querySelectorAll(".mwai-link-title").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"title"})}),!1)})),document.querySelectorAll(".mwai-link-excerpt").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"excerpt"})}),!1)}))}),[]);var o=function(){var e=Wc(Yc().mark((function e(t){var n,o,i,c;return Yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/update_post_title"),{method:"POST",nonce:k,json:{postId:r.postId,title:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a(),(o=document.querySelector('tr[id="post-'.concat(r.postId,'"]')))&&(i=o.querySelector(".row-title"))&&(i.innerHTML=t),(c=o.querySelector(".hidden .post_title"))&&(c.innerHTML=t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Wc(Yc().mark((function e(t){var n;return Yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/update_post_excerpt"),{method:"POST",nonce:k,json:{postId:r.postId,excerpt:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Ic,{post:"title"===(null==r?void 0:r.mode)?r:null,onTitleClick:o,onClose:function(){a()}}),React.createElement(Kc,{post:"excerpt"===(null==r?void 0:r.mode)?r:null,onExcerptClick:i,onClose:function(){a()}})))};function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function nl(){nl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==tl(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function rl(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function al(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rl(o,r,a,i,c,"next",e)}function c(e){rl(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){cl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==tl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||ul(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(e,t){if(e){if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ml=wp.element,fl=ml.useState,dl=ml.useEffect,pl=ml.useMemo;const hl=function(){var e,t,n,r,a,o,i,c,l,u,s,m,d,p,y,E,w,O=ll(fl(""),2),x=O[0],T=O[1],_=ll(fl(""),2),N=_[0],P=_[1],C=Ji("contentGenerator"),I=C.template,M=C.setTemplate,j=C.resetTemplate,G=C.jsxTemplates,F=it(A).completionModels,U=(0,Ut.qj)(),D=ll(fl(!1),2),B=D[0],z=D[1],H=ll(fl(),2),q=H[0],K=H[1],Z=ll(fl(!1),2),Y=Z[0],Q=Z[1],W=ll(fl(!1),2),X=W[0],V=W[1],J=ll(fl(!1),2),$=J[0],ee=J[1],te=ll(fl(),2),ne=te[0],re=te[1],ae=ll(fl("post"),2),oe=ae[0],ie=ae[1],ce=ll(fl([]),2),le=ce[0],ue=ce[1],se=ll(fl([]),2),me=se[0],fe=se[1],de=ll(fl({}),2),pe=de[0],he=de[1],ve=pl((function(){return function(e){if(!e)return null;var t=e.split(" ").length,n=e.length,r=[];return n?(t<3?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):t>8?r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG):n<40?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):n>70&&r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG_2),r.join(" ")):void 0}(ke)}),[ke]),ye=ac(A),ge=ye.addUsage,Ee=ye.jsxUsageCosts,Re=(0,Pe.a)({queryKey:["postTypes"],queryFn:qt}),Te=Re.isLoading,_e=Re.data,Ce=U.busy||B||Te,ke=null!==(e=null==I?void 0:I.title)&&void 0!==e?e:"",Ae=null!==(t=null==I?void 0:I.sections)&&void 0!==t?t:"",Le=null!==(n=null==I?void 0:I.mode)&&void 0!==n?n:"single",Ie=null!==(r=null==I?void 0:I.topic)&&void 0!==r?r:"",Me=null!==(a=null==I?void 0:I.topics)&&void 0!==a?a:"",je=null!==(o=null==I?void 0:I.model)&&void 0!==o?o:"gpt-3.5-turbo",Ge=null!==(i=null==I?void 0:I.sectionsCount)&&void 0!==i?i:2,Fe=null!==(c=null==I?void 0:I.paragraphsCount)&&void 0!==c?c:3,Ue=null!==(l=null==I?void 0:I.writingStyle)&&void 0!==l?l:"creative",De=null!==(u=null==I?void 0:I.writingTone)&&void 0!==u?u:"cheerful",Be=null!==(s=null==I?void 0:I.titlePromptFormat)&&void 0!==s?s:"",ze=null!==(m=null==I?void 0:I.sectionsPromptFormat)&&void 0!==m?m:"",qe=null!==(d=null==I?void 0:I.contentPromptFormat)&&void 0!==d?d:"",Ke=null!==(p=null==I?void 0:I.excerptPromptFormat)&&void 0!==p?p:"",Ze=null!==(y=null==I?void 0:I.temperature)&&void 0!==y?y:.6,Ye=null!==(E=null==I?void 0:I.maxTokens)&&void 0!==E?E:2048,Qe=null!==(w=null==I?void 0:I.topicsAreTitles)&&void 0!==w&&w,We=!ze||!Ge,Xe=ot({options:A,language:null==I?void 0:I.language,customLanguage:null==I?void 0:I.customLanguage}),Ve=Xe.jsxLanguageSelector,Je=Xe.currentLanguage,$e=Xe.isCustom,et=Xe.currentHumanLanguage,tt=function(e,t){M((function(n){return il(il({},n),{},cl({},t,e))}))};dl((function(){var e=Me.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e}));ue(e)}),[Me]),dl((function(){I&&tt("","sections")}),[ke,Ge]),dl((function(){T(""),P(""),re()}),[Ae,Fe]),dl((function(){I&&(!$e&&I.customLanguage&&tt(null,"customLanguage"),$e&&I.customLanguage!==et&&tt(et,"customLanguage"),I.language!==Je&&tt(Je,"language"))}),[$e,Je,et]);var nt=function(e){return e.replace("{LANGUAGE}",et).replace("{WRITING_STYLE}",Ue).replace("{WRITING_TONE}",De).replace("{PARAGRAPHS_PER_SECTION}",Fe).replace("{SECTIONS_COUNT}",Ge)},rt=pl((function(){var e=function(e,t){return!!t.find((function(t){return t.includes(e)}))},t=[Be,ze,qe,Ke];return{language:e("{LANGUAGE}",t),writingStyle:e("{WRITING_STYLE}",t),writingTone:e("{WRITING_TONE}",t),sectionsCount:e("{SECTIONS_COUNT}",t),paragraphsCount:e("{PARAGRAPHS_PER_SECTION}",t)}}),[Be,ze,qe,Ke,Ge,Fe]),ct=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i,c=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:prompt,r=c.length>1&&void 0!==c[1]?c[1]:2048,a=c.length>2&&void 0!==c[2]&&c[2],e.next=5,(0,R.PV)("".concat(S,"/make_completions"),{method:"POST",nonce:k,json:{env:"admin-tools",session:L,prompt:n,temperature:Ze,maxTokens:r,model:je}});case 5:if((o=e.sent).success){e.next=11;break}if(!a){e.next=9;break}throw new Error(o.message);case 9:return K(o.message),e.abrupt("return",null);case 11:return ge(je,(null==o||null===(t=o.usage)||void 0===t?void 0:t.total_tokens)||0),(i=o.data.trim()).startsWith('"')&&i.endsWith('"')&&(i=i.substring(1,i.length-1)),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:Ie,r=i.length>2&&void 0!==i[2]&&i[2],n=i.length>1&&void 0!==i[1]?i[1]:ke){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return z(!0),tt("","sections"),console.log("Sections Prompt:",{inTopic:t,inTitle:n,sectionsPromptFormat:ze}),a=(a=ze.replace("{TITLE}",n)).replace("{TOPIC}",t),a=nt(a),e.next=14,ct(a,512,r);case 14:return o=(c=o=e.sent)?c.split("\n").map((function(e){return(e=e.replace(/^\d+\.\s/,"")).startsWith('"')&&(e=e.slice(1)).endsWith('"')&&(e=e.slice(0,-1)),e})).filter((function(e){return e})).join("\n"):c,console.log("Sections:",{prompt:a,sections:o}),o&&tt(o,"sections"),z(!1),e.abrupt("return",o);case 20:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i,c=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:Ie,r=c.length>2&&void 0!==c[2]?c[2]:Ae,a=c.length>3&&void 0!==c[3]&&c[3],n=c.length>1&&void 0!==c[1]?c[1]:ke){e.next=7;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 7:if(We||r){e.next=10;break}return alert(He.CONTENT_GENERATOR.SECTIONS_MISSING),e.abrupt("return");case 10:return z(!0),T((function(e){return""})),o=(o=(o=qe.replace("{TITLE}",n)).replace("{SECTIONS}",r)).replace("{TOPIC}",t),o=nt(o),e.next=18,ct(o,Ye,a);case 18:return(i=e.sent)&&(i=(i=(i=(i=(i=(i=i.replace(/^===INTRO:\n/,"")).replace(/^===INTRO: \n/,"")).replace(/===INTRO: /,"")).replace(/===OUTRO:\n/,"")).replace(/===OUTRO: \n/,"")).replace(/===OUTRO: /,""),T((function(e){return i}))),console.log("Content:",{prompt:o,content:i}),z(!1),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:Ie,r=i.length>2&&void 0!==i[2]&&i[2],n=i.length>1&&void 0!==i[1]?i[1]:ke){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return z(!0),P((function(e){return""})),a=(a=Ke.replace("{TITLE}",n)).replace("{TOPIC}",t),a=nt(a),e.next=13,ct(a,256,r);case 13:return(o=e.sent)&&P((function(e){return o})),console.log("Excerpt:",{prompt:a,excerpt:o}),z(!1),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i,c,l=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:Ie,n=l.length>1&&void 0!==l[1]&&l[1],z(!0),he((function(){return il(il({},pe),{},{all:new Date})})),e.prev=4,r=t,Qe&&n){e.next=12;break}return a=nt(Be.replace("{TOPIC}",t)),e.next=10,ct(a,64,n);case 10:r=e.sent,console.log("Title:",{prompt:a,title:r});case 12:if(o=null,i=null,c=null,z(!1),!r){e.next=41;break}if(tt(r,"title"),We){e.next=25;break}return he((function(e){return il(il({},e),{},{sections:new Date})})),e.next=22,lt(t,r,n);case 22:return o=e.sent,e.next=25,he((function(e){return il(il({},e),{},{sections:null})}));case 25:if(!o&&!We){e.next=41;break}return e.next=28,he((function(e){return il(il({},e),{},{content:new Date})}));case 28:return e.next=30,ut(t,r,o,n);case 30:return i=e.sent,e.next=33,he((function(e){return il(il({},e),{},{content:null})}));case 33:if(!i){e.next=41;break}return e.next=36,he((function(e){return il(il({},e),{},{excerpt:new Date})}));case 36:return e.next=38,st(t,r,n);case 38:return c=e.sent,e.next=41,he((function(e){return il(il({},e),{},{excerpt:null})}));case 41:return e.abrupt("return",{title:r,heads:o,content:i,excerpt:c});case 44:throw e.prev=44,e.t0=e.catch(4),z(!1),he({}),e.t0;case 49:case"end":return e.stop()}}),e,null,[[4,44]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=al(nl().mark((function e(){var t,n,r,a,o,i=arguments;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:ke,n=i.length>1&&void 0!==i[1]?i[1]:x,r=i.length>2&&void 0!==i[2]?i[2]:N,a=i.length>3&&void 0!==i[3]&&i[3],z(!0),e.next=7,(0,R.PV)("".concat(S,"/create_post"),{method:"POST",nonce:k,json:{title:t,content:n,excerpt:r,postType:oe}});case 7:if(o=e.sent,z(!1),o.success){e.next=12;break}return K(o.message),e.abrupt("return",null);case 12:return a||re(o.postId),e.abrupt("return",o.postId);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=al(nl().mark((function e(){var t;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe([]),t=le.map((function(e,t){return al(nl().mark((function n(){var r,a,o,i,c;return nl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Topic "+t),n.prev=1,n.next=4,mt(e,!0);case 4:if(r=n.sent,a=r.title,o=r.content,i=r.excerpt,!(a&&o&&i)){n.next=15;break}return n.next=11,ft(a,o,i,!0);case 11:c=n.sent,fe((function(t){return[].concat(function(e){if(Array.isArray(e))return sl(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||ul(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{postId:c,topic:e,title:a,content:o,excerpt:i}]);var n})),n.next=16;break;case 15:console.warn("Could not generate the post for: "+e);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),confirm("An error was caught ("+n.t0.message+"). Should we continue?")||(U.stop(),U.reset(),z(!1));case 21:return n.abrupt("return",{success:!0});case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))})),e.next=4,U.start(t);case 4:U.reset();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(v.s,{nekoErrors:[]},React.createElement(_t,{title:He.COMMON.CONTENT_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(at,{options:A}),React.createElement(f.O,{p:!0,style:{marginTop:0,marginBottom:0}},(0,R.io)(He.CONTENT_GENERATOR.INTRO))),React.createElement(g.z,{style:{flex:1}},React.createElement(Qn,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Topic"),React.createElement(xe.l,{name:"topic",disabled:Ce||"bulk"===Le,rows:5,value:Ie,onChange:tt}),React.createElement(Oe.i,null),React.createElement(b._,{fullWidth:!0,disabled:!Ie||"bulk"===Le,isBusy:Ce,startTime:null==pe?void 0:pe.all,onClick:function(){return mt()}},He.COMMON.GENERATE)),React.createElement(Oe.i,{height:50}),React.createElement(Qn,{style:{marginBottom:25}},G)),React.createElement(g.z,{style:{flex:3}},React.createElement(Se.h,{name:"mode",value:Le,disabled:Ce,onChange:tt},React.createElement(Se.S,{title:He.CONTENT_GENERATOR.SINGLE_GENERATE,value:"single"}),React.createElement(Se.S,{title:He.CONTENT_GENERATOR.BULK_GENERATE,value:"bulk",count:le.length})),React.createElement(Oe.i,{height:40}),"bulk"===Le&&React.createElement(Qn,null,React.createElement("p",{style:{marginTop:0,marginBottom:20}},(0,R.io)(He.CONTENT_GENERATOR.TOPICS_HELP)),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{disabled:Ce||!le.length,onClick:dt},He.COMMON.GENERATE),React.createElement(Ft.U,{busy:U.busy,style:{marginLeft:10,flex:"auto"},value:U.value,max:U.max,onStopClick:U.stop})),React.createElement(Oe.i,{height:40}),React.createElement("h3",null,"Topics"),React.createElement(xe.l,{name:"topics",rows:10,value:Me,onChange:tt}),React.createElement(h.P,{name:"topicsAreTitles",label:"Use Topics as Titles",value:"1",checked:Qe,onChange:tt}),React.createElement("h3",null,He.CONTENT_GENERATOR.GENERATED_POSTS),!me.length&&React.createElement("i",null,"Nothing yet."),me.length>0&&React.createElement("ul",null,me.map((function(e){return React.createElement("li",null,e.title," ",React.createElement("a",{target:"_blank",href:"/?p=".concat(e.postId)},"View")," or ",React.createElement("a",{target:"_blank",href:"/wp-admin/post.php?post=".concat(e.postId,"&action=edit")},"Edit"))})))),"single"===Le&&React.createElement(Qn,null,React.createElement("h2",{style:{marginTop:0}},"Title"),React.createElement(we.A,{name:"title",disabled:Ce,value:ke,onChange:tt}),ve&&React.createElement("div",{className:"information"},"Advice: ",ve),ze&&React.createElement(React.Fragment,null,React.createElement(Oe.i,{height:20}),React.createElement(Nt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.SECTIONS),React.createElement("div",{style:{display:"flex",alignItems:"center"}},rt.sectionsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Sections: "),React.createElement(be.N,{scrolldown:!0,name:"sectionsCount",disabled:Ce,style:{marginRight:10},value:Ge,description:"",onChange:tt},React.createElement(be.Z,{key:2,value:2,label:2}),React.createElement(be.Z,{key:3,value:3,label:3}),React.createElement(be.Z,{key:4,value:4,label:4}),React.createElement(be.Z,{key:6,value:6,label:6}),React.createElement(be.Z,{key:8,value:8,label:8}),React.createElement(be.Z,{key:10,value:10,label:10}),React.createElement(be.Z,{key:12,value:12,label:12}))),Ge>0&&React.createElement(b._,{disabled:!ke,isBusy:Ce,startTime:null==pe?void 0:pe.sections,onClick:function(){return lt()}},He.CONTENT_GENERATOR.GENERATE_SECTIONS))),Ge>0&&React.createElement(React.Fragment,null,React.createElement(Oe.i,{height:20}),React.createElement(xe.l,{name:"sections",disabled:Ce,rows:4,value:Ae,description:He.CONTENT_GENERATOR.SECTIONS_HELP,onChange:tt}))),React.createElement(Oe.i,{height:20}),React.createElement(Nt,null,React.createElement("h2",null,He.COMMON.CONTENT),React.createElement("div",{style:{display:"flex",alignItems:"center"}},rt.paragraphsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},He.CONTENT_GENERATOR.PARAGRAPHS_PER_SECTION,": "),React.createElement(be.N,{scrolldown:!0,name:"paragraphsCount",disabled:Ce,style:{marginRight:10},value:Fe,description:"",onChange:tt},React.createElement(be.Z,{key:1,value:1,label:1}),React.createElement(be.Z,{key:2,value:2,label:2}),React.createElement(be.Z,{key:3,value:3,label:3}),React.createElement(be.Z,{key:4,value:4,label:4}),React.createElement(be.Z,{key:6,value:6,label:6}),React.createElement(be.Z,{key:8,value:8,label:8}),React.createElement(be.Z,{key:10,value:10,label:10}))),React.createElement(b._,{disabled:!ke,isBusy:Ce,startTime:null==pe?void 0:pe.content,onClick:function(){return ut()}},He.CONTENT_GENERATOR.GENERATE_CONTENT))),React.createElement(Oe.i,{height:20}),React.createElement(xe.l,{countable:"words",disabled:Ce,rows:12,value:x,description:He.CONTENT_GENERATOR.CONTENT_HELP,onChange:T}),React.createElement(Oe.i,{height:20}),React.createElement(Nt,null,React.createElement("h2",null,He.COMMON.EXCERPT),React.createElement(b._,{disabled:!ke,isBusy:Ce,startTime:null==pe?void 0:pe.excerpt,onClick:function(){return st()}},He.CONTENT_GENERATOR.GENERATE_EXCERPT)),React.createElement(Oe.i,{height:20}),React.createElement(xe.l,{disabled:Ce,value:N,onBlur:P,rows:3}),React.createElement(Oe.i,{line:!0,height:40}),React.createElement(be.N,{fullWidth:!0,scrolldown:!0,disabled:Ce,name:"postType",onChange:ie,value:oe},null==_e?void 0:_e.map((function(e){return React.createElement(be.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Oe.i,{height:20}),React.createElement(b._,{fullWidth:!0,style:{height:60},onClick:function(){return ft()},isBusy:Ce,disabled:!ke||!x},He.CONTENT_GENERATOR.CREATE_POST))),React.createElement(g.z,null,React.createElement(Qn,null,React.createElement("h2",{style:{marginTop:0}},He.CONTENT_GENERATOR.CONTENT_PARAMS),!rt.language&&!rt.writingStyle&&!rt.writingTone&&React.createElement("div",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.CONTENT_PARAMS_INTRO),rt.language&&React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.LANGUAGE,":"),Ve),rt.writingStyle&&React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_STYLE,":"),React.createElement(be.N,{scrolldown:!0,name:"writingStyle",disabled:Ce,value:Ue,description:"",onChange:tt},Pi.map((function(e){return React.createElement(be.Z,{key:e.value,value:e.value,label:e.label})})))),rt.writingTone&&React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_TONE,":"),React.createElement(be.N,{scrolldown:!0,name:"writingTone",disabled:Ce,value:De,description:"",onChange:tt},Ci.map((function(e){return React.createElement(be.Z,{key:e.value,value:e.value,label:e.label})}))))),React.createElement(Oe.i,{height:30}),React.createElement(Qn,null,React.createElement(Nt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.POST_PARAMS),React.createElement(b._,{onClick:function(){return V(!X)}},X?He.COMMON.HIDE:He.COMMON.SHOW)),X&&React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.POST_TYPE,":"),React.createElement(be.N,{scrolldown:!0,disabled:Ce,name:"postType",onChange:ie,value:oe},null==_e?void 0:_e.map((function(e){return React.createElement(be.Z,{key:e.type,value:e.type,label:e.name})}))))),React.createElement(Oe.i,{height:30}),React.createElement(Qn,null,React.createElement(Nt,null,React.createElement("h2",null,He.COMMON.MODEL_PARAMS),React.createElement(b._,{onClick:function(){return Q(!Y)}},Y?He.COMMON.HIDE:He.COMMON.SHOW)),Y&&React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",value:Ze,type:"number",onChange:tt,onBlur:tt,description:He.HELP.TEMPERATURE}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",value:Ye,type:"number",onChange:tt,onBlur:tt,description:He.HELP.MAX_TOKENS}),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(be.N,{name:"model",value:je,description:He.CONTENT_GENERATOR.MODEL_HELP,scrolldown:!0,onChange:tt},F.map((function(e){return React.createElement(be.Z,{value:e.model,label:e.name})}))))),React.createElement(Oe.i,{height:30}),React.createElement(Qn,null,React.createElement(Nt,null,React.createElement("h2",null,(0,R.io)(He.COMMON.PROMPTS)),React.createElement(b._,{onClick:function(){return ee(!$)}},$?"Hide":"Show")),$&&React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.PROMPTS_INTRO),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_TITLE)),React.createElement(xe.l,{disabled:Ce,name:"titlePromptFormat",value:Be,onChange:tt}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_SECTIONS)),React.createElement(xe.l,{disabled:Ce,name:"sectionsPromptFormat",value:ze,onChange:tt}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_CONTENT)),React.createElement(xe.l,{disabled:Ce,name:"contentPromptFormat",value:qe,onChange:tt}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_EXCERPT)),React.createElement(xe.l,{disabled:Ce,name:"excerptPromptFormat",value:Ke,onChange:tt}))),React.createElement(Oe.i,{height:30}),Ee)),React.createElement(Ne.L,{isOpen:ne,onRequestClose:function(){return re()},onOkClick:function(){window.open("/wp-admin/post.php?post=".concat(ne,"&action=edit"),"_blank"),j()},ok:He.CONTENT_GENERATOR.EDIT_POST,cancel:"Close",onCancelClick:function(){return j()},title:He.CONTENT_GENERATOR.POST_CREATED,content:React.createElement("p",null,He.CONTENT_GENERATOR.POST_CREATED_AS_DRAFT)}),React.createElement(Ne.L,{isOpen:q,onRequestClose:function(){K()},onOkClick:function(){K()},title:"Error",content:React.createElement("p",null,q)}))};function vl(e){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(e)}var yl;function gl(){gl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==vl(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function El(e){return function(e){if(Array.isArray(e))return _l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function wl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bl(o,r,a,i,c,"next",e)}function c(e){bl(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Sl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sl(e,t){if(e){if("string"==typeof e)return _l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_l(e,t):void 0}}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nl=wp.element,Pl=Nl.useState,Cl=Nl.useEffect,kl=Nl.useMemo,Al=[1,2,3,6,9],Ll=G.ZP.div(yl||(yl=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-bottom: 5px;\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n"])));const Il=function(){var e=Ji("imagesGenerator"),t=e.template,n=e.setTemplate,r=e.jsxTemplates,a=Tl(Pl(),2),o=a[0],i=a[1],c=Tl(Pl(!0),2),l=c[0],u=c[1],s=Tl(Pl(!1),2),m=s[0],d=s[1],p=Tl(Pl([]),2),y=p[0],E=p[1],w=Tl(Pl(),2),O=w[0],x=w[1],T=Tl(Pl(""),2),_=T[0],N=T[1],P=Tl(Pl(""),2),C=P[0],I=P[1],M=Tl(Pl(""),2),j=M[0],G=M[1],F=Tl(Pl(""),2),U=F[0],D=F[1],B=Tl(Pl(""),2),z=B[0],H=B[1],q=Tl(Pl([]),2),K=q[0],Z=q[1],Y=kl((function(){return y.indexOf(O)}),[O,y]),Q=null==t?void 0:t.prompt,W=null==t?void 0:t.maxResults;Cl((function(){if(O){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42,n=e.replace(/[\s|,]+/g,"-"),r=(n=n.replace(/--+/g,"-")).split("-"),a=r[0],o=1;o<r.length&&r[o]&&a.length+r[o].length<t;)a+="-"+r[o],o++;return a.length>t+1&&(a=a.slice(0,t+2)),a}(Q)+".png";H(e),N(Q),I(Q),G(Q),D(Q)}}),[O]);var X=function(){var e=wl(gl().mark((function e(){var t;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,R.PV)("".concat(S,"/make_images"),{method:"POST",nonce:k,json:{env:"admin-tools",session:L,prompt:Q,maxResults:W}});case 3:return t=e.sent,d(!1),t.success&&E(l?[].concat(El(y),El(t.data)):t.data),i(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=wl(gl().mark((function e(){var t;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,R.PV)("".concat(S,"/create_image"),{method:"POST",nonce:k,json:{url:O,title:_,description:C,caption:j,alt:U,filename:z}});case 3:return t=e.sent,d(!1),t.success&&Z([].concat(El(K),[{id:t.attachmentId,url:O}])),i(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=kl((function(){var e=K.find((function(e){return e.url===O}));return e?e.id:null}),[O,K]);return React.createElement(v.s,{nekoErrors:[]},React.createElement(_t,{title:He.COMMON.IMAGES_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(at,{options:A}),React.createElement(f.O,{p:!0,style:{marginTop:0,marginBottom:0}},"This will also be available in the Post Editor soon. If you have any idea or request, please join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/"},"Support Forum"),"! 🎵")),React.createElement(g.z,null,React.createElement(Qn,{style:{marginBottom:25}},r)),React.createElement(g.z,{style:{flex:3}},O&&React.createElement(React.Fragment,null,React.createElement(Re.H,null,React.createElement(Nt,{style:{paddingBottom:10}},React.createElement("h2",null,"Images Generator"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(b._,{disabled:Y<1||m,onClick:function(){Y>0&&x(y[Y-1])}},"<"),React.createElement(b._,{disabled:m,onClick:function(){return x()}},"Back to results"),React.createElement(b._,{disabled:Y>=y.length-1||m,onClick:function(){Y<y.length-1&&x(y[Y+1])}},">"))),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:2}},React.createElement("img",{src:O,style:{width:"100%"}})),React.createElement("div",{style:{flex:1,marginLeft:10,display:"flex",flexDirection:"column"}},React.createElement(Ll,null,React.createElement("label",null,"Title:"),React.createElement(xe.l,{value:_,onBlur:N,rows:2})),React.createElement(Ll,null,React.createElement("label",null,"Caption:"),React.createElement(xe.l,{value:j,onBlur:G,rows:2})),React.createElement(Ll,null,React.createElement("label",null,"Description:"),React.createElement(xe.l,{value:C,onBlur:I,rows:2})),React.createElement(Ll,null,React.createElement("label",null,"Alternative Text:"),React.createElement(xe.l,{value:U,onBlur:D,rows:2})),React.createElement(Ll,null,React.createElement("label",null,"Filename:"),React.createElement(we.A,{value:z,onChange:H})),React.createElement(b._,{fullWidth:!0,style:{marginTop:7},isBusy:m,onClick:function(){return V()}},"Add to Media Library"),React.createElement(b._,{fullWidth:!0,style:{marginLeft:0,marginTop:7},isBusy:m,onClick:function(){return(e=document.createElement("a")).href=O,e.target="_blank",e.download=z,void e.click();var e}},"Download"),React.createElement(Oe.i,null),J&&React.createElement(Te.S,{variant:"success"},"The media has been created! You can edit it here: ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(J,"&action=edit"),target:"_blank"},"Edit Media #",J),"."))))),!O&&React.createElement(React.Fragment,null,React.createElement(Re.H,null,React.createElement(Nt,null,React.createElement("h2",null,"Generated Images"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Images: "),React.createElement(be.N,{scrolldown:!0,id:"maxResults",name:"maxResults",disabled:m,style:{marginRight:10},value:W,description:"",onChange:function(e){n(Ol(Ol({},t),{},{maxResults:e}))}},Al.map((function(e){return React.createElement(be.Z,{key:e,id:e,value:e,label:e})}))),React.createElement(b._,{disabled:!Q,isBusy:m,onClick:X},"Generate Images"))),React.createElement(xe.l,{value:Q,onChange:function(e){n(Ol(Ol({},t),{},{prompt:e}))},style:{marginTop:20}}),React.createElement(Pt,null,y.map((function(e){return React.createElement("img",{src:e,onClick:function(){return x(e)}})})),El(Array(Math.max(3-y.length,0)).keys()).map((function(e){return React.createElement("div",{class:"empty-image"})})))))),React.createElement(g.z,null,React.createElement(Re.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Settings"),React.createElement(h.P,{id:"continuous_mode ",label:"Continuous",value:"1",checked:l,description:"New images will be added to the already generated images.",onChange:u})))),React.createElement(Ne.L,{isOpen:o,onRequestClose:function(){i()},onOkClick:function(){i()},title:"Error",content:React.createElement("p",null,o)}))};var Ml=wp.element,jl=(Ml.useState,Ml.useEffect,Ml.useMemo);const Gl=function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.title,a=e.error,o=e.results,i=e.busy,c=void 0!==i&&i,l=e.onClick,u=void 0===l?function(){}:l,m=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},f=jl((function(){return c?React.createElement(Ni.S,{type:"circle",size:"10%"}):a?React.createElement(React.Fragment,null,"Error: ",a):(null==o?void 0:o.length)>0?React.createElement(React.Fragment,null,"Pick one of those results:",React.createElement(Rc,null,o.map((function(e){return React.createElement(Oc,{key:m(e),onClick:function(){u(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[o,a]);return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Ne.L,{isOpen:n,title:null!=r?r:"Results",content:f,ok:"Close",onRequestClose:function(){return u()}})))};function Fl(e){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(e)}function Ul(){Ul=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==Fl(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Dl(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Bl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Dl(o,r,a,i,c,"next",e)}function c(e){Dl(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ql=wp.element.useState,Kl=wp.i18n.__,Zl=wp.plugins.registerPlugin,Yl=wp.components,Ql=Yl.Button,Wl=Yl.ToolbarDropdownMenu,Xl=Yl.ToolbarGroup,Vl=Yl.Spinner,Jl=Yl.MenuGroup,$l=Yl.MenuItem,eu=wp.blockEditor.BlockControls,tu=wp.editPost,nu=tu.PluginDocumentSettingPanel,ru=tu.PluginBlockSettingsMenuItem,au=wp.richText.registerFormatType,ou=wp.data.useSelect;function iu(e){e.isActive,e.onChange,e.value;var t=zl(ql(!1),2),n=t[0],r=t[1],a=zl(ql([]),2),o=a[0],i=a[1],c=ou((function(e){return e("core/block-editor").getSelectedBlock()}),[]);if(!c)return null;if("core/paragraph"!==c.name)return null;var l=function(e){wp.data.dispatch("core/block-editor").updateBlockAttributes(c.clientId,{content:e})},u=c.attributes.content,s=window.getSelection().toString(),m=function(){var e=Bl(Ul().mark((function e(t){var n,a,o,c,m,f,d,p,h;return Ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wp.data.select("core/editor"),a=n.getCurrentPost,o=a(),c=o.id,r(!0),document.activeElement.blur(),e.next=6,(0,R.PV)("".concat(S,"/magic_wand"),{method:"POST",nonce:k,json:{action:t,data:{postId:c,text:u,selectedText:s}}});case 6:if(m=e.sent,r(!1),m.success){e.next=12;break}throw new Error(m.message);case 12:f=m.data,d=f.mode,p=f.result,h=f.results,"replace"===d?l(p):"suggest"===d&&i(h);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(eu,null,React.createElement(Xl,null,React.createElement(Wl,{icon:n?React.createElement(Vl,null):React.createElement(wt,{icon:"wand",style:{marginRight:0}}),label:Kl("AI Wand")},(function(){return React.createElement(React.Fragment,null,React.createElement(Jl,null,React.createElement($l,{onClick:function(){return m("correctText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Correct Text"),React.createElement("small",null,"Grammar & Spelling"))),React.createElement($l,{onClick:function(){return m("enhanceText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Enhance Text"),React.createElement("small",null,"Readibility & Quality"))),React.createElement($l,{onClick:function(){return m("translateText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Translate Text"),React.createElement("small",null,"To Post Language")))),React.createElement(Jl,null,React.createElement($l,{disabled:!s,onClick:function(){return m("suggestSynonyms")}},"Suggest Synonyms")))})))),React.createElement(Gl,{isOpen:null==o?void 0:o.length,results:o,onClick:function(e){i([]),e&&function(e){var t=wp.data.select("core/block-editor"),n=t.getSelectionStart,r=t.getSelectionEnd,a=wp.data.select("core/block-editor").getSelectedBlock(),o=a.attributes.content,i=n().offset,c=r().offset,l=o.substring(0,i)+e+o.substring(c);wp.data.dispatch("core/block-editor").updateBlockAttributes(a.clientId,{content:l})}(e)},onClose:function(){return i([])}}))}var cu=function(){alert("Coming soon! Let me know your feedback and ideas, I will make this awesome for you.")},lu=function(){return React.createElement(React.Fragment,null,React.createElement(ru,{allowedBlocks:["core/paragraph"],icon:React.createElement(wt,{icon:"wand",style:{marginRight:0}}),label:React.createElement(React.Fragment,null," ",Kl("Enhance text")),onClick:cu}),React.createElement(ru,{allowedBlocks:["core/paragraph"],icon:React.createElement(wt,{icon:"wand",style:{marginRight:0}}),label:React.createElement(React.Fragment,null," ",Kl("Translate text")),onClick:cu}))},uu=function(){var e=null==A?void 0:A.module_suggestions,t=zl(ql(),2),n=t[0],r=t[1],a=zl(ql(),2),o=a[0],i=a[1],c=function(){var e=Bl(Ul().mark((function e(t){return Ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({title:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Bl(Ul().mark((function e(t){return Ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({excerpt:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e?React.createElement(s.Z,null,React.createElement(nu,{name:"mwai-document-settings",title:React.createElement(React.Fragment,null,React.createElement(wt,null)," AI Engine"),className:"mwai-document-settings"},React.createElement("p",null,"Suggest:"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ql,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;r({postId:t,postTitle:n})},style:{flex:1,marginRight:10}},React.createElement(wt,{icon:"wand",style:{marginRight:8}})," Titles"),React.createElement(Ql,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;i({postId:t,postTitle:n})},style:{flex:1}},React.createElement(wt,{icon:"wand",style:{marginRight:8}})," Excerpts")),React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Ic,{post:n,onTitleClick:c,onClose:r}),React.createElement(Kc,{post:o,onExcerptClick:l,onClose:i}))))):null};var su,mu=["children","type","title","hint"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(this,arguments)}var du=React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{width:"20",height:"20",fill:"white"}),React.createElement("path",{d:"M16.6667 3.33334V13.3333H6.66667V3.33334H16.6667ZM16.6667 1.66667H6.66667L5 3.33334V13.3333L6.66667 15H16.6667L18.3333 13.3333V3.33334L16.6667 1.66667Z",fill:"#2D4B6D"}),React.createElement("path",{d:"M10 10L10.8333 11.6667L13.3333 9.16667L15.8333 12.5H7.5L10 10Z",fill:"#1ABC9C"}),React.createElement("path",{d:"M1.66667 5V16.6667L3.33333 18.3333H15V16.6667H3.33333V5H1.66667Z",fill:"#2D4B6D"})),pu=G.ZP.div(su||(su=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tcolor: black;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid black;\n\tfont-size: 15px;\n\tbox-sizing: content-box;\n\tfont-weight: 400;\n  font-size: 13px;\n\tpadding: 10px;\n\tbackground: white;\n\n\t.mwai-title-container {\n\t\tflex: inherit;\n\t\tpadding: 5px 0px 5px 10px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: black;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\n\t\t.mwai-hint {\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: 400;\n\t\t\ttext-align: right;\n\t\t\tflex: auto;\n\n\t\t\t.mwai-pill {\n\t\t\t\tbackground: ",";\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.mwai-pill-purple {\n\t\t\t\tbackground: ",";\n\t\t\t}\n\t\t}\n\t}\n\n\t.mwai-block-container-content {\n\t\tdisplay: none;\n\t\tflex: auto;\n\t\tpadding: 0px 10px;\n\n\t\t.mwai-block-container {\n\t\t\tborder: 1px solid black;\n\t\t\tmargin: 10px 0;\n\n\t\t\t.mwai-title-container {\n\t\t\t\tbackground: white;\n\t\t\t}\n\n\t\t\t.mwai-block-container-content {\n\t\t\t\tbackground: white;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.mwai-container > .mwai-block-container-content {\n\t\tdisplay: block;\n\t}\n\n\t.is-selected {\n\n\t\t&:after {\n\t\t\tborder: 1px solid ",";\n\t\t}\n\n\t\t& > .mwai-block-container:not(.mwai-container) {\n\n\t\t\t.mwai-block-container-content {\n\t\t\t padding: 10px;\n\t\t\t display: flex;\n\t\t\t}\n\t\t}\n\t}\n\t\n"])),Mt.ZP.blue,Mt.ZP.purple,Mt.ZP.blue),hu=function(e){var t=e.children,n=e.type,r=void 0===n?"":n,a=e.title,o=void 0===a?"":a,i=e.hint,c=void 0===i?"":i,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,mu),u=(0,Ut.F0)("mwai-block-container","mwai-"+r);return React.createElement(pu,fu({className:u},l),React.createElement("div",{className:"mwai-title-container"},React.createElement(wt,{icon:"ai",style:{width:20,height:20}}),React.createElement("div",null,o),React.createElement("div",{className:"mwai-hint"},c)),React.createElement("div",{className:"mwai-block-container-content"},t))};function vu(e){if(null==e)throw new TypeError("Cannot destructure "+e)}wp.i18n.__;var yu=wp.blocks.registerBlockType,gu=wp.element.useMemo,Eu=wp.components.PanelBody,bu=wp.blockEditor.InspectorControls,wu=function(e){return vu(e),console.log(e),React.createElement(React.Fragment,null,"[mwai_chatbot]")},Ru=function(e){vu(e);var t=gu((function(){return wu(e)}),[e]);return React.createElement(React.Fragment,null,t,React.createElement(bu,null,React.createElement(Eu,{title:He.COMMON.CHATBOT}),React.createElement(Eu,{title:He.COMMON.SETTINGS})))};function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}var xu=wp.i18n.__,Tu=wp.blocks.registerBlockType,Su=wp.element,_u=(Su.useMemo,Su.useEffect),Nu=wp.components,Pu=(Nu.Button,Nu.PanelBody),Cu=(Nu.TextControl,Nu.SelectControl),ku=wp.blockEditor,Au=ku.InspectorControls,Lu=ku.InnerBlocks,Iu=ku.useBlockProps,Mu=function(e){var t=Iu.save(),n=e.attributes,r=n.id,a=n.theme,o='[mwai-form-container id="'.concat(r,'" theme="').concat(a,'"]');return React.createElement("div",Ou({},t,{id:"mwai-form-container-".concat(r),className:"mwai-form-container"}),o,React.createElement(Lu.Content,null))},ju=function(e){var t=e.attributes,n=t.id,r=t.theme,a=e.setAttributes,o=Iu();return _u((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:e})}}),[n]),React.createElement(React.Fragment,null,React.createElement(hu,{title:"Container",type:"container"},React.createElement("div",o,React.createElement(Lu,null))),React.createElement(Au,null,React.createElement(Pu,{title:He.COMMON.STYLE},React.createElement("p",null,"The theme will be applied to all the AI elements in this container."),React.createElement(Cu,{label:"Theme",value:r,onChange:function(e){return a({theme:e})},options:[{label:"None",value:"none"},{label:"ChatGPT",value:"ChatGPT"}]}))))};function Gu(e){return function(e){if(Array.isArray(e))return Fu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uu=wp.i18n.__,Du=wp.blocks.registerBlockType,Bu=wp.element.useEffect,zu=wp.components,Hu=zu.Button,qu=zu.PanelBody,Ku=zu.TextControl,Zu=zu.SelectControl,Yu=wp.blockEditor.InspectorControls,Qu=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.type,o=t.name,i=t.options,c=void 0===i?[]:i,l=t.placeholder,u=t.rows,s=t.defaultValue,m=t.maxlength,f=encodeURIComponent(JSON.stringify(c)),d="[mwai-form-field";return n&&(d+=' id="'.concat(n,'"')),r&&(d+=' label="'.concat(r,'"')),a&&(d+=' type="'.concat(a,'"')),o&&(d+=' name="'.concat(o,'"')),f&&(d+=' options="'.concat(f,'"')),l&&(d+=' placeholder="'.concat(l,'"')),"textarea"===a&&u&&(d+=' rows="'.concat(u,'"')),s&&(d+=' default="'.concat(s,'"')),m&&(d+=' maxlength="'.concat(m,'"')),d+"]"},Wu=function(e){var t,n=e.attributes,r=n.id,a=n.type,o=n.name,i=n.options,c=void 0===i?[]:i,l=n.label,u=n.placeholder,s=n.rows,m=n.defaultValue,f=n.maxlength,d=e.setAttributes;return Bu((function(){if(!r){var e=Math.random().toString(36).substr(2,9);d({id:"mwai-"+e})}}),[r]),React.createElement(React.Fragment,null,React.createElement(hu,{title:"".concat((t=a,t.charAt(0).toUpperCase()+t.slice(1))),type:"field",hint:React.createElement("span",{className:"mwai-pill"},o)},React.createElement("div",null,l),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,o)),React.createElement(Yu,null,React.createElement(qu,{title:Uu("Field")},React.createElement(Ku,{label:"Label Text",value:l,onChange:function(e){d({label:e});var t=e.trim().replace(/ /g,"_").replace(/[^\w-]+/g,"").toUpperCase();t&&d({name:t})}}),React.createElement(Ku,{label:"Field Name",value:o,onChange:function(e){return d({name:e})}}),React.createElement(Zu,{label:"Field Type",value:a,onChange:function(e){return d({type:e})},options:[{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"},{label:"Text Area",value:"textarea"}]}),("input"===a||"textarea"===a)&&React.createElement(Ku,{label:"Placeholder",value:u,onChange:function(e){return d({placeholder:e})}}),("input"===a||"textarea"===a)&&React.createElement(Ku,{label:"Default Value",value:m,onChange:function(e){return d({defaultValue:e})}}),("input"===a||"textarea"===a)&&React.createElement(Ku,{label:"Max Length",value:f,onChange:function(e){return d({maxlength:e})}}),"textarea"===a&&React.createElement(Ku,{label:He.COMMON.ROWS,value:s,onChange:function(e){return d({rows:e})},type:"number",step:"1",min:"1",max:"100"})),("select"===a||"radio"===a||"checkbox"===a)&&React.createElement(qu,{title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},React.createElement("div",null,Uu("Options")))},c.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex",marginBottom:-25}},React.createElement("div",{style:{marginRight:5}},React.createElement(Ku,{style:{marginRight:10},label:"Label",isInline:!0,value:e.label,onChange:function(e){var n=Gu(c);n[t].label=e,d({options:n})}})),React.createElement(Ku,{style:{},label:"Value",isSubtle:!0,value:e.value,onChange:function(e){var n=Gu(c);n[t].value=e,d({options:n})}}),React.createElement("div",{style:{marginLeft:5,position:"relative",top:23}},React.createElement(Hu,{style:{height:30},isDestructive:!0,icon:"trash",isSmall:!0,onClick:function(){var e=Gu(c);e.splice(t,1),d({options:e})}})))})),React.createElement(Hu,{isPrimary:!0,style:{width:"100%",marginTop:10},onClick:function(){var e=Gu(c);e.push({label:"",value:""}),d({options:e})}},"Add Option")),React.createElement(qu,{title:He.COMMON.SYSTEM},React.createElement(Ku,{label:"ID",value:r,onChange:function(e){return d({id:e})}}))))};var Xu=wp.i18n.__,Vu=wp.blocks.registerBlockType,Ju=wp.element.useEffect,$u=wp.components,es=$u.PanelBody,ts=$u.TextControl,ns=wp.blockEditor.InspectorControls,rs=function(e){var t=e.attributes.id;return'[mwai-form-output id="'.concat(t,'"]')},as=function(e){var t=e.attributes.id,n=e.setAttributes;return Ju((function(){if(!t){var e=Math.random().toString(36).substr(2,9);n({id:"mwai-"+e})}}),[t]),React.createElement(React.Fragment,null,React.createElement(hu,{title:"Output",type:"output",hint:React.createElement("span",{className:"mwai-pill mwai-pill-purple"},"#",t)},React.createElement("div",null),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,"#",t)),React.createElement(ns,null,React.createElement(es,{title:He.FORMS.OUTPUT},React.createElement(ts,{label:"ID",value:t,onChange:function(e){return n({id:e})}}))))};var os=wp.i18n.__,is=wp.blocks.registerBlockType,cs=wp.element,ls=cs.useMemo,us=cs.useEffect,ss=wp.components,ms=ss.PanelBody,fs=ss.TextControl,ds=ss.TextareaControl,ps=ss.SelectControl,hs=(ss.UnitControl,wp.blockEditor.InspectorControls),vs=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.prompt,o=t.outputElement,i=t.model,c=t.temperature,l=t.maxTokens,u=encodeURIComponent(a);return'[mwai-form-submit id="'.concat(n,'" label="').concat(r,'" prompt="').concat(u,'" output_element="').concat(o,'" model="').concat(i,'" temperature="').concat(c,' max_tokens="').concat(l,'"]')},ys=function(e){var t=it(A).models,n=e.attributes,r=n.id,a=n.label,o=n.prompt,i=n.model,c=n.temperature,l=n.maxTokens,u=n.outputElement,s=n.placeholders,m=void 0===s?[]:s,f=e.setAttributes;us((function(){if(!r){var e=Math.random().toString(36).substr(2,9);f({id:"mwai-"+e})}}),[r]),us((function(){var e=o.match(/{([^}]+)}/g);if(e){var t=e.map((function(e){return e.replace("{","").replace("}","")}));t.join(",")!==m.join(",")&&f({placeholders:t})}}),[o]);var d=ls((function(){return m?m.length:0}),[m]),p=ls((function(){var e=t.map((function(e){return{label:e.name,value:e.model}}));return e.push({label:"dall-e",value:"dall-e"}),e}),[t]);return React.createElement(React.Fragment,null,React.createElement(hu,{title:"Submit",type:"submit",hint:React.createElement(React.Fragment,null,React.createElement("span",{className:"mwai-pill"},d," field",d>1?"s":"")," to"," ",React.createElement("span",{className:"mwai-pill mwai-pill-purple"},u))},"Input Fields: ",m.join(", "),React.createElement("br",null),"Prompt: ",o,React.createElement("br",null),"Output Element: ",u),React.createElement(hs,null,React.createElement(ms,{title:He.COMMON.OUTPUT},React.createElement(fs,{label:He.COMMON.LABEL,value:a,onChange:function(e){return f({label:e})}}),React.createElement(ds,{label:He.COMMON.PROMPT,value:o,onChange:function(e){return f({prompt:e})},help:He.FORMS.PROMPT_INFO}),React.createElement(fs,{label:He.FORMS.OUTPUT_ELEMENT,value:u,onChange:function(e){return f({outputElement:e})},help:He.FORMS.OUTPUT_ELEMENT_INFO})),React.createElement(ms,{title:He.COMMON.MODEL_PARAMS},t&&t.length>0&&React.createElement(ps,{label:He.COMMON.MODEL,value:i,options:p,onChange:function(e){return f({model:e})}}),React.createElement(fs,{label:He.COMMON.TEMPERATURE,value:c,onChange:function(e){return f({temperature:e})},type:"number",step:"0.1",min:"0",max:"1",help:He.HELP.TEMPERATURE}),React.createElement(fs,{label:He.COMMON.MAX_TOKENS,value:l,onChange:function(e){return f({maxTokens:e})},type:"number",step:"16",min:"32",max:"4096",help:He.HELP.MAX_TOKENS})),React.createElement(ms,{title:He.COMMON.SYSTEM},React.createElement(fs,{label:"ID",value:r,onChange:function(e){return f({id:e})}}))))};function gs(e){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}function Es(){Es=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function f(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==gs(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function bs(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ws(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bs(o,r,a,i,c,"next",e)}function c(e){bs(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xs=wp.element,Ts=xs.useState,Ss=xs.useEffect;xs.useMemo;const _s=function(e){var t=e.isOpen,n=void 0!==t&&t,r=(e.title,e.onClose),a=void 0===r?{}:r,o=Rs(Ts(""),2),i=o[0],c=o[1],l=Rs(Ts("Logitech MK270 Wireless Keyboard"),2),u=l[0],s=l[1],m=ot({options:A}),f=m.currentHumanLanguage,d=m.jsxLanguageSelector,p=Rs(Ts(""),2),h=p[0],v=p[1],y=Rs(Ts(""),2),E=y[0],w=y[1],O=Rs(Ts(""),2),x=O[0],T=O[1],_=Rs(Ts(!1),2),N=_[0],P=_[1],C=Rs(Ts(!1),2),I=(C[0],C[1]);function M(e){var t=e.split("\n"),n={};return t.forEach((function(e){e.startsWith("DESCRIPTION:")?n.description=e.replace("DESCRIPTION:","").trim():e.startsWith("SHORT_DESCRIPTION:")?n.shortDescription=e.replace("SHORT_DESCRIPTION:","").trim():e.startsWith("SEO_TITLE:")?n.seoTitle=e.replace("SEO_TITLE:","").trim():e.startsWith("TAGS:")&&(n.keywords=e.replace("TAGS:","").trim().split(", "))})),n}Ss((function(){var e=document.getElementById("title");e&&s(e.value)}),[n]);var j=function(){var e=ws(Es().mark((function e(){var t,n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),t=(t="Here is the product: {USER_ENTRY}\n\nBased on the product, write a description of this product (between 120 and 240 words), a short description (between 20-49 words), a SEO-friendly title, and tags, separated by commas. Write it in {LANGUAGE}. Use this format:\nDESCRIPTION: \nSHORT_DESCRIPTION: \nSEO_TITLE: \nTAGS: \n\n".replace("{USER_ENTRY}",u)).replace("{LANGUAGE}",f),e.next=5,(0,R.PV)("".concat(S,"/make_completions"),{method:"POST",nonce:k,json:{maxTokens:512,temperature:.8,env:"admin-tools",session:L,prompt:t}});case 5:n=e.sent,P(!1),n.success&&(r=M(n.data),console.log({raw:n.data,info:r}),c(r.description),v(r.shortDescription),w(r.seoTitle),T(r.keywords.join(", ")));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=document.getElementById("title");e?e.value=E:alert("The title cannot be written (the field could not be found).")},F=function(){var e=tinyMCE.get("content");e?e.setContent(i):alert("The content cannot be written (the field could not be found).")},U=function(){var e=tinyMCE.get("excerpt");e?e.setContent(h):alert("The content cannot be written (the field could not be found).")},D=function(){var e=document.getElementById("new-tag-product_tag");e?e.value=x:alert("The tags cannot be written (the field could not be found).")},B=function(){var e=ws(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(),F(),U(),D(),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=ws(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),I(),P(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(Ne.L,{isOpen:n,onRequestClose:z,title:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,content:React.createElement(Ct,null,React.createElement("label",null,"Define your product:"),React.createElement(xe.l,{disabled:N,name:"userEntry",value:u,rows:3,onChange:s,style:{flex:"auto"},placeholder:"What's your product?"}),React.createElement("div",{className:"form-row"},React.createElement("div",{style:{flex:"auto"}},d),React.createElement(b._,{isBusy:N,onClick:j,style:{marginLeft:5}},"Generate Fields")),React.createElement(Oe.i,{height:30,line:!0}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Title"),React.createElement(b._,{small:!0,disabled:!E,onClick:G,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(we.A,{disabled:N,value:E,onChange:w}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Description"),React.createElement(b._,{small:!0,disabled:!i,onClick:F,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(xe.l,{disabled:N,rows:4,value:i,onChange:c}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Short Description"),React.createElement(b._,{small:!0,disabled:!h,onClick:U,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(xe.l,{disabled:N,rows:4,value:h,onChange:v}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Product Tags"),React.createElement(b._,{small:!0,disabled:!x,onClick:D,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(we.A,{small:!0,disabled:N,value:x,onChange:T})),ok:"Write all fields",onOkClick:B}))};function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ps=wp.element,Cs=Ps.useState,ks=(Ps.useEffect,Ps.useMemo,wp.i18n.__,wp.components.Button);const As=function(){var e,t,n=(e=Cs(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return React.createElement(React.Fragment,null,React.createElement("p",null,"Generate the WooCommerce fields."),React.createElement("div",{style:{display:"flex"}},React.createElement(ks,{variant:"primary",onClick:function(){a(!0)},style:{flex:1,marginRight:10}},React.createElement(wt,{icon:"wand",style:{marginRight:8}})," Generate Fields")),React.createElement(g.o,null,React.createElement(_s,{isOpen:r,onClose:function(){a(!1)}})))};var Ls=wp.element.render,Is=new l.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1}}});Du("ai-engine/form-field",{title:"AI Form Field",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:du,category:"layout",keywords:[Uu("ai"),Uu("openai"),Uu("form")],attributes:{id:{type:"string",default:""},name:{type:"string",default:"LABEL"},type:{type:"string",default:"input"},options:{type:"array",default:[]},label:{type:"string",default:"Label: "},placeholder:{type:"string",default:""},defaultValue:{type:"string",default:""},maxlength:{type:"string",default:""},rows:{type:"rows",default:4}},edit:Wu,save:Qu}),Vu("ai-engine/form-output",{title:"AI Form Output",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:du,category:"layout",keywords:[Xu("ai"),Xu("openai"),Xu("form")],attributes:{id:{type:"string",default:""}},edit:as,save:rs}),yu("ai-engine/chatbot",{title:"AI Chatbot",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"being built"),". I will allow to create a chatbot. Coming soon!"),icon:du,category:"layout",keywords:["ai","openai","chatbot"],attributes:{id:{type:"string",default:""}},edit:Ru,save:wu}),is("ai-engine/form-submit",{title:"AI Form Submit",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:du,category:"layout",keywords:[os("ai"),os("openai"),os("form")],attributes:{id:{type:"string",default:""},label:{type:"string",default:"Submit"},prompt:{type:"string",default:""},outputElement:{type:"string",default:""},model:{type:"string",default:""},temperature:{type:"number",default:.8},maxTokens:{type:"number",default:4096},placeholders:{type:"array",default:[]}},edit:ys,save:vs}),Tu("ai-engine/form-container",{title:"AI Form Container",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:du,category:"layout",keywords:[xu("ai"),xu("openai"),xu("form")],attributes:{id:{type:"string",default:""},theme:{type:"string",default:"ChatGPT"}},edit:ju,save:Mu}),document.addEventListener("DOMContentLoaded",(function(){Zl("ai-engine-document-settings",{render:uu}),Zl("ai-engine-ai-wand",{render:lu}),au("ai-wand/actions",{title:"AI Wand",tagName:"mwai",className:null,edit:iu});var e=document.getElementById("mwai-admin-settings");e&&Ls(React.createElement(u.aH,{client:Is},React.createElement(s.Z,null,React.createElement(_i,null))),e);var t=document.getElementById("mwai-content-generator");t&&Ls(React.createElement(u.aH,{client:Is},React.createElement(s.Z,null,React.createElement(hl,null))),t);var n=document.getElementById("mwai-image-generator");n&&Ls(React.createElement(u.aH,{client:Is},React.createElement(s.Z,null,React.createElement(Il,null))),n);var r=document.getElementById("mwai-playground");r&&Ls(React.createElement(u.aH,{client:Is},React.createElement(s.Z,null,React.createElement(gc,null))),r);var a=document.getElementById("mwai-admin-postsList");a&&Ls(React.createElement(s.Z,null,React.createElement(el,null)),a);var o=document.getElementById("mwai-admin-wcAssistant");o&&Ls(React.createElement(s.Z,null,React.createElement(As,null)),o);var i=document.getElementById("meow-common-dashboard");i&&Ls(React.createElement(s.Z,null,React.createElement(Ee,null)),i)}))},2753:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".MoQv2przCifsPUmkcgTA {\n  --mwai-spacing: 15px;\n  --mwai-fontSize: 15px;\n  --mwai-lineHeight: 1.5;\n  --mwai-borderRadius: 10px;\n  --mwai-fontColor: #FFFFFF;\n  --mwai-backgroundPrimaryColor: #454654;\n  --mwai-backgroundSecondaryColor: #343541;\n  --mwai-userAvatarBackgroundColor: #135ea4;\n  --mwai-headerButtonsColor: #FFFFFF;\n  --mwai-width: 460px;\n  --mwai-maxHeight: 40vh;\n}\n\n.MoQv2przCifsPUmkcgTA .v7OqknkmXVPKZ3dO4Ots {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  transition: all 0.2s ease-out;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n}\n\n.MoQv2przCifsPUmkcgTA .v7OqknkmXVPKZ3dO4Ots .sp20DW_wb_XZA7qTe_aK {\n  background: var(--mwai-backgroundPrimaryColor);\n  color: var(--mwai-headerButtonsColor);\n  max-width: 200px;\n  font-size: 13px;\n  margin-bottom: 15px;\n  padding: 5px 10px;\n  border-radius: 8px;\n}\n\n.MoQv2przCifsPUmkcgTA .v7OqknkmXVPKZ3dO4Ots:hover {\n  cursor: pointer;\n  filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.MoQv2przCifsPUmkcgTA .m20qo9RTAutSHuYmwCDR {\n  background: var(--mwai-backgroundSecondaryColor);\n  color: var(--mwai-fontColor);\n  font-size: var(--mwai-fontSize);\n  border-radius: var(--mwai-borderRadius);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.MoQv2przCifsPUmkcgTA .puL5K71OlAAzvciyR1fm {\n  overflow: auto;\n}\n\n.MoQv2przCifsPUmkcgTA * {\n  box-sizing: border-box;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD {\n  display: flex;\n  padding: var(--mwai-spacing);\n  position: relative;\n  line-height: var(--mwai-lineHeight);\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g {\n  opacity: 0;\n  transition: all 0.3s ease-out;\n  width: 22px;\n  height: 22px;\n  position: absolute;\n  right: var(--mwai-spacing);\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g .ptlaVUBxavyn5csZuixI {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 0px;\n  margin-left: 0px;\n  background: white;\n  opacity: 0.4;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g .JFHdIBPzamqntEdwRbfm {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 6px;\n  margin-left: 6px;\n  background: white;\n  opacity: 0.6;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g:hover .ptlaVUBxavyn5csZuixI {\n  opacity: 0.6;\n  margin-top: 0px;\n  margin-left: 6px;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g:hover .JFHdIBPzamqntEdwRbfm {\n  opacity: 1;\n  margin-top: 6px;\n  margin-left: 0px;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g.hV2K_7NPCKHf6zUCAhJw .ptlaVUBxavyn5csZuixI {\n  opacity: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD .rUEITW8mpiGRRarmpi0g.hV2K_7NPCKHf6zUCAhJw .JFHdIBPzamqntEdwRbfm {\n  width: 18px;\n  height: 18px;\n  margin-top: 2px;\n  margin-left: 2px;\n  opacity: 1;\n}\n\n.MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD:hover .rUEITW8mpiGRRarmpi0g {\n  display: block;\n  opacity: 1;\n}\n\n.MoQv2przCifsPUmkcgTA .Kc99cyvkh7IovnAae1jQ, .MoQv2przCifsPUmkcgTA .xaZwtmWhMGfHn4L_GM52 {\n  background: var(--mwai-backgroundPrimaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U {\n  color: var(--mwai-fontColor);\n  margin-right: 5px;\n}\n\n.MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U .QMjkhRqQ2yPJMninZy8q {\n  opacity: 0.50;\n  white-space: nowrap;\n}\n\n.MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U .cMEM3xyhSujk2UAG3GT8 {\n  margin-right: 10px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U .cMEM3xyhSujk2UAG3GT8 img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U .cMEM3xyhSujk2UAG3GT8.GOQ6OpUyTEfQMJJQ_L6w img {\n  width: 28px;\n  height: 28px;\n  filter: brightness(0) invert(1);\n}\n\n.MoQv2przCifsPUmkcgTA .B94JbfDOmfodBHHMtK2z .Nhq08fMnzkqkKtlFBi0U .cMEM3xyhSujk2UAG3GT8 {\n  background: var(--mwai-userAvatarBackgroundColor);\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p {\n  flex: auto;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p *:first-child {\n  margin-top: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p *:last-child {\n  margin-bottom: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p a {\n  color: #2196f3;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p h1 {\n  font-size: 200%;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p h2 {\n  font-size: 160%;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p h3 {\n  font-size: 140%;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p h4 {\n  font-size: 120%;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p p {\n  font-size: var(--mwai-fontSize);\n  line-height: var(--mwai-lineHeight);\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p p code {\n  background: var(--mwai-backgroundSecondaryColor);\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 90%;\n  font-family: system-ui;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p pre {\n  color: var(--mwai-fontColor);\n  border-radius: var(--mwai-borderRadius);\n  padding: calc(var(--mwai-spacing) * 2 / 3) var(--mwai-spacing);\n  break-after: auto;\n  font-size: 95%;\n  max-width: 100%;\n  width: 100%;\n  font-family: system-ui;\n  background: #343541;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p pre code {\n  padding: 0 !important;\n  font-family: system-ui;\n  background: #343541;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p ol {\n  padding: 0;\n  margin: 0 0 0 20px;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p table {\n  width: 100%;\n  border: 2px solid var(--mwai-backgroundSecondaryColor);\n  border-collapse: collapse;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p thead {\n  background: var(--mwai-backgroundSecondaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p tr, .MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p td {\n  padding: 2px 5px;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p td {\n  border: 2px solid var(--mwai-backgroundSecondaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p .WYmuOBU9WJm59S7f1BdD {\n  display: inline-block;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p .WYmuOBU9WJm59S7f1BdD > :first-child {\n  margin-top: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p > *:first-child {\n  margin-top: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .XH_hwhGI97hLK6fD_w_p > *:last-child {\n  margin-bottom: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .xaZwtmWhMGfHn4L_GM52 .Nhq08fMnzkqkKtlFBi0U {\n  display: none;\n}\n\n.MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX {\n  display: flex;\n  padding: var(--mwai-spacing);\n  border-top: 1px solid var(--mwai-backgroundPrimaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX textarea {\n  background: var(--mwai-backgroundPrimaryColor);\n  color: var(--mwai-fontColor);\n  flex: auto;\n  padding: calc(var(--mwai-spacing) / 2) var(--mwai-spacing);\n  border: none;\n  border-radius: 5px;\n  font-size: var(--mwai-fontSize);\n  resize: none;\n  font-family: inherit;\n  line-height: calc(var(--mwai-spacing) * 2);\n  margin: 0;\n  overflow: hidden;\n}\n\n.MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX textarea:focus {\n  outline: none;\n}\n\n.MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX textarea::placeholder {\n  color: var(--mwai-fontColor);\n  opacity: 0.5;\n}\n\n.MoQv2przCifsPUmkcgTA .DW6R3VJxui_4UG4Aa4_t {\n  opacity: 0.50;\n  margin-top: calc( -1 * var(--mwai-spacing));\n  padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n  font-size: smaller;\n  color: var(--mwai-fontColor);\n  text-align: left;\n}\n\n.MoQv2przCifsPUmkcgTA button {\n  background: none;\n  color: var(--mwai-fontColor);\n  background-color: var(--mwai-backgroundSecondaryColor);\n  border: 1px solid var(--mwai-backgroundPrimaryColor);\n  margin-left: var(--mwai-spacing);\n  width: 90px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.2s ease-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 90%;\n}\n\n.MoQv2przCifsPUmkcgTA button .w1kpi7mtkfqFDjDE5Aww {\n  margin-left: 5px;\n  margin-right: 5px;\n  font-size: 11px;\n}\n\n.MoQv2przCifsPUmkcgTA button:hover {\n  background: var(--mwai-backgroundPrimaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA button {\n  position: relative;\n}\n\n.MoQv2przCifsPUmkcgTA button[disabled] span {\n  display: none;\n}\n\n.MoQv2przCifsPUmkcgTA button[disabled]::before {\n  content: '';\n  width: 18px;\n  height: 18px;\n  margin: auto;\n  border: 3px solid transparent;\n  border-top-color: var(--mwai-fontColor);\n  border-radius: 50%;\n  animation: jyBh45B5SlMve8NmTyUn 1s ease infinite;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G {\n  position: fixed;\n  right: 30px;\n  bottom: 30px;\n  width: var(--mwai-width);\n  z-index: 9999;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA {\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .Ug4fVQoEWrHubLoak58x {\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--mwai-backgroundSecondaryColor);\n  border-radius: var(--mwai-borderRadius);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .Ug4fVQoEWrHubLoak58x:before {\n  transition: all 0.2s ease-out;\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 13px;\n  width: 13px;\n  opacity: 0.75;\n  border: 2px solid var(--mwai-headerButtonsColor);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .Ug4fVQoEWrHubLoak58x:hover:before {\n  width: 16px;\n  height: 16px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg {\n  margin-left: 5px;\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  background-color: var(--mwai-backgroundSecondaryColor);\n  border-radius: var(--mwai-borderRadius);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:before {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:after {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:before, .MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:after {\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 22px;\n  width: 2px;\n  background-color: var(--mwai-headerButtonsColor);\n  opacity: 0.75;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:hover:before {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(135deg);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg:hover:after {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G .m20qo9RTAutSHuYmwCDR {\n  display: none;\n  opacity: 0;\n  max-height: var(--mwai-maxHeight);\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.i4utkCCw7cr50JR5EvzT {\n  bottom: 30px;\n  right: inherit;\n  left: 30px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.i4utkCCw7cr50JR5EvzT .v7OqknkmXVPKZ3dO4Ots {\n  right: inherit;\n  left: 0;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.Ccn1ZJ2asOfRZfI6_76d {\n  top: 30px;\n  bottom: inherit;\n  right: 30px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.Ccn1ZJ2asOfRZfI6_76d .v7OqknkmXVPKZ3dO4Ots {\n  top: 0;\n  bottom: inherit;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.prfmvOSnn0PbyF8joUHH {\n  top: 30px;\n  bottom: inherit;\n  right: inherit;\n  left: 30px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.prfmvOSnn0PbyF8joUHH .v7OqknkmXVPKZ3dO4Ots {\n  top: 0;\n  bottom: inherit;\n  right: inherit;\n  left: 0;\n}\n\n.MoQv2przCifsPUmkcgTA .AGCfZt_TJgbNUs62Qgcg {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 5px;\n}\n\n.MoQv2przCifsPUmkcgTA .AGCfZt_TJgbNUs62Qgcg img {\n  width: 100%;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.XSQCXoNiq4H7zS2Z3HI7 .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX {\n  margin-bottom: 0px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.XSQCXoNiq4H7zS2Z3HI7 .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .Ug4fVQoEWrHubLoak58x:before {\n  width: 16px;\n  height: 16px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.XSQCXoNiq4H7zS2Z3HI7 .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .Ug4fVQoEWrHubLoak58x:hover:before {\n  width: 13px;\n  height: 13px;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.XSQCXoNiq4H7zS2Z3HI7 .FIlPslvzKrxANW2h2HtA .eTYxDrHs65FqdTlyKtZX .qbTzCPFlVUebleAOXrkg {\n  margin-left: -5px;\n}\n\n.MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7:not(._QnGZvssPIqS_aK3Pq8G), .MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y {\n  position: fixed;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  top: 0 !important;\n  width: inherit;\n  height: inherit;\n  max-height: inherit;\n  max-width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  z-index: 999999;\n  background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7:not(._QnGZvssPIqS_aK3Pq8G) .m20qo9RTAutSHuYmwCDR, .MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y .m20qo9RTAutSHuYmwCDR {\n  height: 100%;\n  max-height: inherit;\n  border-radius: inherit;\n}\n\n.MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7:not(._QnGZvssPIqS_aK3Pq8G) .m20qo9RTAutSHuYmwCDR .puL5K71OlAAzvciyR1fm, .MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y .m20qo9RTAutSHuYmwCDR .puL5K71OlAAzvciyR1fm {\n  flex: auto;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y .FIlPslvzKrxANW2h2HtA {\n  display: flex;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y .m20qo9RTAutSHuYmwCDR {\n  display: flex;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y .v7OqknkmXVPKZ3dO4Ots {\n  display: none;\n}\n\n@media (max-width: 760px) {\n  .MoQv2przCifsPUmkcgTA._QnGZvssPIqS_aK3Pq8G {\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n    width: calc(100% - 20px);\n    z-index: 9999999999;\n  }\n  .MoQv2przCifsPUmkcgTA .u_87Eb2fKL51jU0GjspD {\n    flex-direction: column;\n  }\n  .MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX {\n    flex-direction: column;\n  }\n  .MoQv2przCifsPUmkcgTA .uKaV8KnWRJrGIxpHKAZX button {\n    margin: 15px 0 0 0;\n    height: 40px;\n    width: inherit;\n  }\n  .MoQv2przCifsPUmkcgTA .Nhq08fMnzkqkKtlFBi0U {\n    margin-right: 0;\n    max-width: inherit;\n  }\n}\n\n@keyframes jyBh45B5SlMve8NmTyUn {\n  from {\n    transform: rotate(0turn);\n  }\n  to {\n    transform: rotate(1turn);\n  }\n}\n\n.LpSl7ho6qTow0iMXuEF5 .MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7:not(._QnGZvssPIqS_aK3Pq8G),\n.LpSl7ho6qTow0iMXuEF5 .MoQv2przCifsPUmkcgTA.XSQCXoNiq4H7zS2Z3HI7._QnGZvssPIqS_aK3Pq8G.Q_PGO3f4ZIKeP7ZKec0Y {\n  top: 32px;\n}\n",""]),i.locals={"mwai-chat":"MoQv2przCifsPUmkcgTA","mwai-open-button":"v7OqknkmXVPKZ3dO4Ots","mwai-icon-text":"sp20DW_wb_XZA7qTe_aK","mwai-content":"m20qo9RTAutSHuYmwCDR","mwai-conversation":"puL5K71OlAAzvciyR1fm","mwai-reply":"u_87Eb2fKL51jU0GjspD","mwai-copy-button":"rUEITW8mpiGRRarmpi0g","mwai-copy-button-one":"ptlaVUBxavyn5csZuixI","mwai-copy-button-two":"JFHdIBPzamqntEdwRbfm","mwai-animate":"hV2K_7NPCKHf6zUCAhJw","mwai-ai":"Kc99cyvkh7IovnAae1jQ","mwai-system":"xaZwtmWhMGfHn4L_GM52","mwai-name":"Nhq08fMnzkqkKtlFBi0U","mwai-name-text":"QMjkhRqQ2yPJMninZy8q","mwai-avatar":"cMEM3xyhSujk2UAG3GT8","mwai-svg":"GOQ6OpUyTEfQMJJQ_L6w","mwai-user":"B94JbfDOmfodBHHMtK2z","mwai-text":"XH_hwhGI97hLK6fD_w_p","mwai-typewriter":"WYmuOBU9WJm59S7f1BdD","mwai-input":"uKaV8KnWRJrGIxpHKAZX","mwai-compliance":"DW6R3VJxui_4UG4Aa4_t","mwai-timer":"w1kpi7mtkfqFDjDE5Aww","mwai-button-spinner":"jyBh45B5SlMve8NmTyUn","mwai-window":"_QnGZvssPIqS_aK3Pq8G","mwai-header":"FIlPslvzKrxANW2h2HtA","mwai-buttons":"eTYxDrHs65FqdTlyKtZX","mwai-resize-button":"Ug4fVQoEWrHubLoak58x","mwai-close-button":"qbTzCPFlVUebleAOXrkg","mwai-bottom-left":"i4utkCCw7cr50JR5EvzT","mwai-top-right":"Ccn1ZJ2asOfRZfI6_76d","mwai-top-left":"prfmvOSnn0PbyF8joUHH","mwai-gallery":"AGCfZt_TJgbNUs62Qgcg","mwai-fullscreen":"XSQCXoNiq4H7zS2Z3HI7","mwai-open":"Q_PGO3f4ZIKeP7ZKec0Y","admin-bar":"LpSl7ho6qTow0iMXuEF5"};const c=i},9454:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,'.J700sLjmFewAmGPaSg1J .RjhgeUBKCp6a_K1d3BKr {\n  padding: 5px;\n  overflow: hidden !important;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE code {\n  padding-bottom: 20px;\n  font-size: .85rem;\n  font-family: monospace !important;\n  /*scrollbar-color: #666 #343541;*/\n}\n\n.J700sLjmFewAmGPaSg1J .KvrHlmqbPgaTH7kfKRNL {\n  display: none;\n}\n\n.J700sLjmFewAmGPaSg1J .RjhgeUBKCp6a_K1d3BKr {\n  display: flex;\n  flex-direction: column;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE {\n  align-self: flex-start;\n}\n\n.J700sLjmFewAmGPaSg1J ._36jS0NNJpGXBic05hcvk {\n  align-self: flex-end;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE {\n  background-color: #333 !important;\n  position: relative;\n  max-width: 255px;\n  margin-bottom: 15px;\n  padding: 10px 20px;\n  font-family: Helvetica Neue,Helvetica,Arial,sans-serif;\n  line-height: 24px;\n  word-wrap: break-word;\n  border-radius: 25px;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE::before {\n  width: 20px;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE::after {\n  width: 26px;\n  background: #333 !important;\n}\n\n.J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE::before, .J700sLjmFewAmGPaSg1J .pRhbK4z9DqDM5afOhpoE::after {\n  position: absolute;\n  bottom: 0;\n  height: 25px;\n  transition: transform .2s ease-out;\n  content: "";\n}\n\n.J700sLjmFewAmGPaSg1J ._36jS0NNJpGXBic05hcvk {\n  background: #0B93F6 !important;\n  background-attachment: scroll;\n  background-attachment: fixed;\n  position: relative;\n  border-radius: 20px;\n  padding: 9px 15px !important;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  display: inline-block;\n}\n\n.J700sLjmFewAmGPaSg1J ._36jS0NNJpGXBic05hcvk::before {\n  content: "";\n  position: absolute;\n  z-index: 0;\n  bottom: 0;\n  right: -8px;\n  height: 20px;\n  width: 20px;\n  background: #0b93f6 !important;\n  background-attachment: scroll;\n  background-attachment: fixed;\n  border-bottom-left-radius: 15px;\n}\n\n.J700sLjmFewAmGPaSg1J ._36jS0NNJpGXBic05hcvk::after {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n  right: -10px;\n  width: 10px;\n  height: 20px;\n  background: #121212;\n  border-bottom-left-radius: 10px;\n}\n\n.J700sLjmFewAmGPaSg1J.PvwXfLIXcmBX7ubmH34e.iyYHfLvfpqpS0si1bXyA .j8VBcmkrYm_ZBO4rcYcm {\n  display: flex;\n}\n\n.J700sLjmFewAmGPaSg1J.PvwXfLIXcmBX7ubmH34e.iyYHfLvfpqpS0si1bXyA .QGUWTxoGRjDbczr1eaqU {\n  display: flex;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.J700sLjmFewAmGPaSg1J.PvwXfLIXcmBX7ubmH34e.iyYHfLvfpqpS0si1bXyA .pKAtJKg5e6rH9H6uboUA {\n  display: none;\n}\n',""]),i.locals={"mwai-chat":"J700sLjmFewAmGPaSg1J","mwai-conversation":"RjhgeUBKCp6a_K1d3BKr","mwai-ai":"pRhbK4z9DqDM5afOhpoE","mwai-name-text":"KvrHlmqbPgaTH7kfKRNL","mwai-user":"_36jS0NNJpGXBic05hcvk","mwai-window":"PvwXfLIXcmBX7ubmH34e","mwai-open":"iyYHfLvfpqpS0si1bXyA","mwai-header":"j8VBcmkrYm_ZBO4rcYcm","mwai-content":"QGUWTxoGRjDbczr1eaqU","mwai-open-button":"pKAtJKg5e6rH9H6uboUA"};const c=i},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,a,o]=e[s],c=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,c,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(l)var s=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=self.wpJsonMwai=self.wpJsonMwai||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(3071)));a=r.O(a)})();